"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2781],{52781:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var n,i,l,r,o,s=a(96540),d=a(92094),p={streets9:"mapbox://styles/mapbox/streets-v9",streetsv12:"mapbox://styles/mapbox/streets-v12",outdoorsv12:"mapbox://styles/mapbox/outdoors-v12",lightv11:"mapbox://styles/mapbox/light-v11",darkv11:"mapbox://styles/mapbox/dark-v11",satellitev9:"mapbox://styles/mapbox/satellite-v9",satelliteStreets:"mapbox://styles/mapbox/satellite-streets-v12",navigationDay:"mapbox://styles/mapbox/navigation-day-v1",navigationNight:"mapbox://styles/mapbox/navigation-night-v1"},u=["streets9","streetsv12","outdoorsv12","lightv11","darkv11","satellitev9","satelliteStreets","navigationDay","navigationNight"],c={Indeterminate:"#7b7b7b",Critical:"#c41f30",Major:"#e48d13;",Minor:"#edbf07",Warning:"#79a9c1",Cleared:"#b6bf43"},m=a(5556),v=a.n(m),y=a(96453);function b(e,t){return t||(t=e.slice(0)),e.raw=t,e}var g=y.I4.div(n||(n=b(["\n  position: absolute; \n  top:10px;\n  z-index: 1;  \n  height: 400px;\n  width: 100%;\n"]))),x=y.I4.div(i||(i=b(["\n  display: flex;\n  color: #fff;\n  font-size: 10px;\n  font-weight: bold;\n  border-radius: 2px;\n  padding: 2px;\n"]))),h=y.I4.div(l||(l=b(["\n  display:flex;\n  justify-content: center;\n  align-items: center;\n  position:relative;\n  border-radius: 2px;\n  border: 1px solid #bcbcbc;\n  padding:2px;\n"]))),E=y.I4.select(r||(r=b(["\n  justify-content: center;\n  align-items: center;\n  position:relative;\n  border-radius: 2px;\n  border: 1px solid #bcbcbc;\n  padding: 5px 2px;\n  font-size: 10px;\n  margin-top: 16px;\n"]))),f=y.I4.div(o||(o=b(["\n  font-size: 10px;\n"]))),k=e=>{var{alarms:t,type:a}=e,n=(0,s.useMemo)((()=>{var e=[];return null==t||t.forEach((t=>{e.push(t[1])})),null==e?void 0:e.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{})}),[t]),i=null==t?void 0:t.length;return s.createElement(s.Fragment,null,"alarms"===a?s.createElement("div",{style:{width:"80%"}},s.createElement(f,null,null==a?void 0:a.toUpperCase()),s.createElement(h,null,Object.keys(n).map(((e,t)=>{var a=(Number(n[e])||0)/i*100;return s.createElement(x,{key:t,style:{width:a+"%",background:c[e]}},n[e])})))," "):s.createElement("div",{style:{width:"10%"}},s.createElement(f,null,null==a?void 0:a.toUpperCase()),s.createElement(h,{style:{background:"#a13a73"}},s.createElement(x,{key:"ipLinks"},i))))};k.propTypes={alarms:v().arrayOf(v().any).isRequired,type:v().string.isRequired};const S=k;var L=e=>{var{options:t,setStyleMap:a,defaultValue:n}=e,[i,l]=(0,s.useState)("");return s.createElement("div",null,s.createElement(E,{id:"options",value:i,onChange:e=>{l(e.target.value),a(p[e.target.value])}},s.createElement("option",{value:""},n),null==t?void 0:t.map(((e,t)=>s.createElement("option",{key:t,value:null==e?void 0:e.toString()},e)))))};L.propTypes={options:v().any.isRequired,setStyleMap:v().any.isRequired,defaultValue:v().any.isRequired};const w=L;function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_.apply(null,arguments)}const C=e=>{var{data_iplinks:t,data:a}=e,[n,i]=(0,s.useState)({latitude:17,longitude:-102.552784,zoom:3.2,width:"100%",height:"500px"}),[l,r]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[m,v]=(0,s.useState)(p[u[7]]);(0,s.useEffect)((()=>{var e;r(null==a||null==(e=a.data)?void 0:e.content),c(t)}),[a]);var y={};null==o||o.forEach((e=>{y[e.SideA_Lon+","+e.SideA_Lat]={latitude:e.SideA_Lat,longitude:e.SideA_Lon},y[e.SideB_Lon+","+e.SideB_Lat]={latitude:e.SideB_Lat,longitude:e.SideB_Lon}}));var b={type:"FeatureCollection",features:null==t?void 0:t.map((e=>({type:"Feature",geometry:{type:"LineString",coordinates:[[e.SideA_Lon,e.SideA_Lat],[e.SideB_Lon,e.SideB_Lat]]},properties:{name:e.LinkName}})))},x={id:"line-layer",type:"line",paint:{"line-color":"#a13a73","line-width":1}};return s.createElement(g,{id:"cscmap"},s.createElement("div",{style:{display:"flex"}},s.createElement(w,{options:u,setStyleMap:v,defaultValue:u[5]}),s.createElement(S,{alarms:l,type:"alarms"}),s.createElement(S,{alarms:o,type:"iplinks"})),s.createElement(d.Ay,_({},n,{mapboxApiAccessToken:"pk.eyJ1Ijoic3R2eiIsImEiOiJjazJ0OGsyNGMxOHZhM29udmg2NmR1ZnB6In0.a2674pyiTcN1Dl_6QM7s7w",mapStyle:m,onViewportChange:e=>i(e)}),Object.values(y).map(((e,t)=>s.createElement(d.pH,{key:"marker-"+t,latitude:e.latitude,longitude:e.longitude},s.createElement("div",{style:{background:"#45bed6",height:"6px",width:"6px",borderRadius:"50%"}})))),null==l?void 0:l.map(((e,t)=>s.createElement(d.pH,{key:"marker-"+t,latitude:e[4],longitude:e[5]},s.createElement("div",{style:{background:"Warning"===e[1]?"#B6BF43":"Cleared"===e[1]?"#79A9C1":"red",height:"6px",width:"6px",borderRadius:"50%"}})))),s.createElement(d.kL,{id:"line-source",type:"geojson",data:b},s.createElement(d.Wd,x)),s.createElement("div",{style:{margin:"10px"}},s.createElement(d.T3,null),s.createElement(d.ov,null)),s.createElement("div",null)))}}}]);
//# sourceMappingURL=ce63c3d3301b38daca35.chunk.js.map