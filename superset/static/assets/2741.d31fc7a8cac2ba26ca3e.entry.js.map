{"version":3,"file":"2741.d31fc7a8cac2ba26ca3e.entry.js","mappings":"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","sources":["webpack://superset/./src/components/ImportModal/ErrorAlert.tsx","webpack://superset/./src/components/ImportModal/styles.ts","webpack://superset/./src/components/IndeterminateCheckbox/index.tsx","webpack://superset/./src/components/Tags/TagsList.tsx","webpack://superset/./node_modules/react-lines-ellipsis/lib/index.modern.mjs","webpack://superset/./src/components/IconButton/index.tsx","webpack://superset/./src/features/databases/types.ts","webpack://superset/./src/features/databases/DatabaseModal/styles.ts","webpack://superset/./src/features/databases/DatabaseModal/ExtraOptions.tsx","webpack://superset/./src/features/databases/DatabaseModal/SqlAlchemyForm.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/OAuth2ClientField.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/ValidatedInputField.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/EncryptedField.tsx","webpack://superset/./src/features/databases/DatabaseModal/SSHTunnelSwitch.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/constants.ts","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/CommonParameters.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/TableCatalog.tsx","webpack://superset/./src/features/databases/DatabaseModal/DatabaseConnectionForm/index.tsx","webpack://superset/./src/features/databases/DatabaseModal/ModalHeader.tsx","webpack://superset/./src/features/databases/DatabaseModal/SSHTunnelForm.tsx","webpack://superset/./src/features/databases/DatabaseModal/index.tsx","webpack://superset/./src/features/databases/UploadDataModel/styles.ts","webpack://superset/./src/features/databases/UploadDataModel/ColumnsPreview.tsx","webpack://superset/./src/features/databases/UploadDataModel/StyledFormItemWithTip.tsx","webpack://superset/./src/features/databases/UploadDataModel/index.tsx","webpack://superset/./src/components/TelemetryPixel/index.tsx","webpack://superset/./src/features/home/LanguagePicker.tsx","webpack://superset/./src/features/home/RightMenu.tsx","webpack://superset/./src/features/home/Menu.tsx","webpack://superset/./src/utils/localStorageHelpers.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FunctionComponent } from 'react';\nimport { t, SupersetTheme } from '@superset-ui/core';\n\nimport { getDatabaseDocumentationLinks } from 'src/views/CRUD/hooks';\nimport Alert from 'src/components/Alert';\nimport { antdWarningAlertStyles } from './styles';\n\nconst supersetTextDocs = getDatabaseDocumentationLinks();\nexport const DOCUMENTATION_LINK = supersetTextDocs\n  ? supersetTextDocs.support\n  : 'https://superset.apache.org/docs/databases/installing-database-drivers';\n\nexport interface IProps {\n  errorMessage: string;\n  showDbInstallInstructions: boolean;\n}\n\nconst ErrorAlert: FunctionComponent<IProps> = ({\n  errorMessage,\n  showDbInstallInstructions,\n}) => (\n  <Alert\n    closable={false}\n    css={(theme: SupersetTheme) => antdWarningAlertStyles(theme)}\n    type=\"error\"\n    showIcon\n    message={errorMessage}\n    description={\n      showDbInstallInstructions ? (\n        <>\n          <br />\n          {t(\n            'Database driver for importing maybe not installed. Visit the Superset documentation page for installation instructions: ',\n          )}\n          <a\n            href={DOCUMENTATION_LINK}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"additional-fields-alert-description\"\n          >\n            {t('here')}\n          </a>\n          .\n        </>\n      ) : (\n        ''\n      )\n    }\n  />\n);\n\nexport default ErrorAlert;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { css, SupersetTheme } from '@superset-ui/core';\n\nexport const antdWarningAlertStyles = (theme: SupersetTheme) => css`\n  border: 1px solid ${theme.colors.warning.light1};\n  padding: ${theme.gridUnit * 4}px;\n  margin: ${theme.gridUnit * 4}px 0;\n  color: ${theme.colors.warning.dark2};\n\n  .ant-alert-message {\n    margin: 0;\n  }\n\n  .ant-alert-description {\n    font-size: ${theme.typography.sizes.s + 1}px;\n    line-height: ${theme.gridUnit * 4}px;\n\n    .ant-alert-icon {\n      margin-right: ${theme.gridUnit * 2.5}px;\n      font-size: ${theme.typography.sizes.l + 1}px;\n      position: relative;\n      top: ${theme.gridUnit / 4}px;\n    }\n  }\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  EventHandler,\n  SyntheticEvent,\n  MutableRefObject,\n  forwardRef,\n  useRef,\n  useEffect,\n} from 'react';\n\nimport { styled } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\n\nexport interface IndeterminateCheckboxProps {\n  indeterminate: boolean;\n  id: string;\n  checked: boolean;\n  onChange: EventHandler<SyntheticEvent<HTMLInputElement>>;\n  title?: string;\n  labelText?: string;\n}\n\nconst CheckboxLabel = styled.label`\n  cursor: pointer;\n  display: inline-block;\n  margin-bottom: 0;\n`;\n\nconst CheckboxHalf = styled(Icons.CheckboxHalf)`\n  color: ${({ theme }) => theme.colors.primary.base};\n  cursor: pointer;\n`;\n\nconst CheckboxOff = styled(Icons.CheckboxOff)`\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  cursor: pointer;\n`;\n\nconst CheckboxOn = styled(Icons.CheckboxOn)`\n  color: ${({ theme }) => theme.colors.primary.base};\n  cursor: pointer;\n`;\n\nconst HiddenInput = styled.input`\n  &[type='checkbox'] {\n    cursor: pointer;\n    opacity: 0;\n    position: absolute;\n    left: 3px;\n    margin: 0;\n    top: 4px;\n  }\n`;\n\nconst InputContainer = styled.div`\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n`;\n\nconst IndeterminateCheckbox = forwardRef(\n  (\n    {\n      indeterminate,\n      id,\n      checked,\n      onChange,\n      title = '',\n      labelText = '',\n    }: IndeterminateCheckboxProps,\n    ref: MutableRefObject<any>,\n  ) => {\n    const defaultRef = useRef<HTMLInputElement>();\n    const resolvedRef = ref || defaultRef;\n\n    useEffect(() => {\n      resolvedRef.current.indeterminate = indeterminate;\n    }, [resolvedRef, indeterminate]);\n\n    return (\n      <>\n        <InputContainer>\n          {indeterminate && <CheckboxHalf />}\n          {!indeterminate && checked && <CheckboxOn />}\n          {!indeterminate && !checked && <CheckboxOff />}\n          <HiddenInput\n            name={id}\n            id={id}\n            type=\"checkbox\"\n            ref={resolvedRef}\n            checked={checked}\n            onChange={onChange}\n          />\n        </InputContainer>\n        <CheckboxLabel title={title} htmlFor={id}>\n          {labelText}\n        </CheckboxLabel>\n      </>\n    );\n  },\n);\n\nexport default IndeterminateCheckbox;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useMemo, useState } from 'react';\nimport { styled } from '@superset-ui/core';\nimport TagType from 'src/types/TagType';\nimport Tag from './Tag';\n\nexport type TagsListProps = {\n  tags: TagType[];\n  editable?: boolean;\n  /**\n   * OnDelete:\n   * Only applies when editable is true\n   * Callback for when a tag is deleted\n   */\n  onDelete?: ((index: number) => void) | undefined;\n  maxTags?: number | undefined;\n};\n\nconst TagsDiv = styled.div`\n  max-width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nconst TagsList = ({\n  tags,\n  editable = false,\n  onDelete,\n  maxTags,\n}: TagsListProps) => {\n  const [tempMaxTags, setTempMaxTags] = useState<number | undefined>(maxTags);\n\n  const handleDelete = (index: number) => {\n    onDelete?.(index);\n  };\n\n  const expand = () => setTempMaxTags(undefined);\n\n  const collapse = () => setTempMaxTags(maxTags);\n\n  const tagsIsLong: boolean | null = useMemo(\n    () => (tempMaxTags ? tags.length > tempMaxTags : null),\n    [tags.length, tempMaxTags],\n  );\n\n  const extraTags: number | null = useMemo(\n    () =>\n      typeof tempMaxTags === 'number' ? tags.length - tempMaxTags + 1 : null,\n    [tagsIsLong, tags.length, tempMaxTags],\n  );\n\n  return (\n    <TagsDiv className=\"tag-list\">\n      {tagsIsLong && typeof tempMaxTags === 'number' ? (\n        <>\n          {tags.slice(0, tempMaxTags - 1).map((tag: TagType, index) => (\n            <Tag\n              id={tag.id}\n              key={tag.id}\n              name={tag.name}\n              index={index}\n              onDelete={handleDelete}\n              editable={editable}\n            />\n          ))}\n          {tags.length > tempMaxTags ? (\n            <Tag\n              name={`+${extraTags}...`}\n              onClick={expand}\n              toolTipTitle={tags.map(t => t.name).join(', ')}\n            />\n          ) : null}\n        </>\n      ) : (\n        <>\n          {tags.map((tag: TagType, index) => (\n            <Tag\n              id={tag.id}\n              key={tag.id}\n              name={tag.name}\n              index={index}\n              onDelete={handleDelete}\n              editable={editable}\n            />\n          ))}\n          {maxTags ? (\n            tags.length > maxTags ? (\n              <Tag name=\"...\" onClick={collapse} />\n            ) : null\n          ) : null}\n        </>\n      )}\n    </TagsDiv>\n  );\n};\n\nexport default TagsList;\n","import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst canvasStyle = {\n  position: 'absolute',\n  bottom: 0,\n  left: 0,\n  height: 0,\n  overflow: 'hidden',\n  'padding-top': 0,\n  'padding-bottom': 0,\n  border: 'none'\n};\nconst mirrorProps = ['box-sizing', 'width', 'font-size', 'font-weight', 'font-family', 'font-style', 'letter-spacing', 'text-indent', 'white-space', 'word-break', 'overflow-wrap', 'padding-left', 'padding-right'];\n\nfunction omit(obj, omittedKeys) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    if (omittedKeys.indexOf(key) > -1) {\n      return;\n    }\n\n    ret[key] = obj[key];\n  });\n  return ret;\n}\n\nconst _excluded = [\"component\", \"ellipsis\", \"trimRight\", \"className\"];\n\nfunction prevSibling(node, count) {\n  while (node && count--) {\n    node = node.previousElementSibling;\n  }\n\n  return node;\n}\n\nconst defaultProps = {\n  basedOn: undefined,\n  className: '',\n  component: 'div',\n  ellipsis: '',\n  // &hellip;\n  maxLine: 1,\n\n  onReflow() {},\n\n  text: '',\n  trimRight: true,\n  winWidth: undefined // for the HOC\n\n};\nconst usedProps = Object.keys(defaultProps);\n/**\n * props.text {String} the text you want to clamp\n * props.maxLine {Number|String} max lines allowed\n * props.ellipsis {String} the ellipsis indicator\n * props.trimRight {Boolean} should we trimRight the clamped text?\n * props.basedOn {String} letters|words\n * props.className {String}\n */\n\nclass LinesEllipsis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: props.text,\n      clamped: false\n    };\n    this.units = [];\n    this.maxLine = 0;\n    this.canvas = null;\n  }\n\n  componentDidMount() {\n    this.initCanvas();\n    this.reflow(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.winWidth !== this.props.winWidth) {\n      this.copyStyleToCanvas();\n    }\n\n    if (this.props !== prevProps) {\n      this.reflow(this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.canvas) {\n      this.canvas.parentNode.removeChild(this.canvas);\n      this.canvas = null;\n    }\n  }\n\n  setState(state, callback) {\n    if (typeof state.clamped !== 'undefined') {\n      this.clamped = state.clamped;\n    }\n\n    return super.setState(state, callback);\n  }\n\n  initCanvas() {\n    if (this.canvas) return;\n    const canvas = this.canvas = document.createElement('div');\n    canvas.className = `LinesEllipsis-canvas ${this.props.className}`;\n    canvas.setAttribute('aria-hidden', 'true');\n    this.copyStyleToCanvas();\n    Object.keys(canvasStyle).forEach(key => {\n      canvas.style[key] = canvasStyle[key];\n    });\n    document.body.appendChild(canvas);\n  }\n\n  copyStyleToCanvas() {\n    const targetStyle = window.getComputedStyle(this.target);\n    mirrorProps.forEach(key => {\n      this.canvas.style[key] = targetStyle[key];\n    });\n  }\n\n  reflow(props) {\n    /* eslint-disable no-control-regex */\n    const basedOn = props.basedOn || (/^[\\x00-\\x7F]+$/.test(props.text) ? 'words' : 'letters');\n\n    switch (basedOn) {\n      case 'words':\n        this.units = props.text.split(/\\b|(?=\\W)/);\n        break;\n\n      case 'letters':\n        this.units = Array.from(props.text);\n        break;\n\n      default:\n        throw new Error(`Unsupported options basedOn: ${basedOn}`);\n    }\n\n    this.maxLine = +props.maxLine || 1;\n    this.canvas.innerHTML = this.units.map(c => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('');\n    const ellipsisIndex = this.putEllipsis(this.calcIndexes());\n    const clamped = ellipsisIndex > -1;\n    const newState = {\n      clamped,\n      text: clamped ? this.units.slice(0, ellipsisIndex).join('') : props.text\n    };\n    this.setState(newState, props.onReflow.bind(this, newState));\n  }\n\n  calcIndexes() {\n    const indexes = [0];\n    let elt = this.canvas.firstElementChild;\n    if (!elt) return indexes;\n    let index = 0;\n    let line = 1;\n    let offsetTop = elt.offsetTop;\n\n    while (elt = elt.nextElementSibling) {\n      if (elt.offsetTop > offsetTop) {\n        line++;\n        indexes.push(index);\n        offsetTop = elt.offsetTop;\n      }\n\n      index++;\n\n      if (line > this.maxLine) {\n        break;\n      }\n    }\n\n    return indexes;\n  }\n\n  putEllipsis(indexes) {\n    if (indexes.length <= this.maxLine) return -1;\n    const lastIndex = indexes[this.maxLine];\n    const units = this.units.slice(0, lastIndex);\n    const maxOffsetTop = this.canvas.children[lastIndex].offsetTop;\n    this.canvas.innerHTML = units.map((c, i) => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('') + `<wbr><span class='LinesEllipsis-ellipsis'>${this.props.ellipsis}</span>`;\n    const ndEllipsis = this.canvas.lastElementChild;\n    let ndPrevUnit = prevSibling(ndEllipsis, 2);\n\n    while (ndPrevUnit && (ndEllipsis.offsetTop > maxOffsetTop || // IE & Edge: doesn't support <wbr>\n    ndEllipsis.offsetHeight > ndPrevUnit.offsetHeight || ndEllipsis.offsetTop > ndPrevUnit.offsetTop)) {\n      this.canvas.removeChild(ndPrevUnit);\n      ndPrevUnit = prevSibling(ndEllipsis, 2);\n      units.pop();\n    }\n\n    return units.length;\n  } // expose\n\n\n  isClamped() {\n    return this.clamped; // do not use state.clamped. #27\n  }\n\n  render() {\n    const {\n      text,\n      clamped\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      component: Component,\n      ellipsis,\n      trimRight,\n      className\n    } = _this$props,\n          rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: `LinesEllipsis ${clamped ? 'LinesEllipsis--clamped' : ''} ${className}`,\n      ref: node => this.target = node\n    }, omit(rest, usedProps)), clamped && trimRight ? text.replace(/[\\s\\uFEFF\\xA0]+$/, '') : text, /*#__PURE__*/React.createElement(\"wbr\", null), clamped && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"LinesEllipsis-ellipsis\"\n    }, ellipsis));\n  }\n\n}\n\nLinesEllipsis.defaultProps = defaultProps;\n\nexport { LinesEllipsis as default };\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { ButtonProps as AntdButtonProps } from 'antd/lib/button';\nimport Icons from 'src/components/Icons';\nimport LinesEllipsis from 'react-lines-ellipsis';\n\nexport interface IconButtonProps extends AntdButtonProps {\n  buttonText: string;\n  icon: string;\n  altText?: string;\n}\n\nconst StyledButton = styled(Button)`\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n`;\n\nconst StyledImage = styled.div`\n  padding: ${({ theme }) => theme.gridUnit * 4}px;\n  height: ${({ theme }) => theme.gridUnit * 18}px;\n  margin: ${({ theme }) => theme.gridUnit * 3}px 0;\n\n  .default-db-icon {\n    font-size: 36px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    margin-right: 0;\n    span:first-of-type {\n      margin-right: 0;\n    }\n  }\n\n  &:first-of-type {\n    margin-right: 0;\n  }\n\n  img {\n    width: ${({ theme }) => theme.gridUnit * 10}px;\n    height: ${({ theme }) => theme.gridUnit * 10}px;\n    margin: 0;\n    &:first-of-type {\n      margin-right: 0;\n    }\n  }\n  svg {\n    &:first-of-type {\n      margin-right: 0;\n    }\n  }\n`;\n\nconst StyledInner = styled.div`\n  max-height: calc(1.5em * 2);\n  white-space: break-spaces;\n\n  &:first-of-type {\n    margin-right: 0;\n  }\n\n  .LinesEllipsis {\n    &:first-of-type {\n      margin-right: 0;\n    }\n  }\n`;\n\nconst StyledBottom = styled.div`\n  padding: ${({ theme }) => theme.gridUnit * 4}px 0;\n  border-radius: 0 0 ${({ theme }) => theme.borderRadius}px\n    ${({ theme }) => theme.borderRadius}px;\n  background-color: ${({ theme }) => theme.colors.grayscale.light4};\n  width: 100%;\n  line-height: 1.5em;\n  overflow: hidden;\n  white-space: no-wrap;\n  text-overflow: ellipsis;\n\n  &:first-of-type {\n    margin-right: 0;\n  }\n`;\n\nconst IconButton = styled(\n  ({ icon, altText, buttonText, ...props }: IconButtonProps) => (\n    <StyledButton {...props}>\n      <StyledImage>\n        {icon && <img src={icon} alt={altText} />}\n        {!icon && (\n          <Icons.DatabaseOutlined\n            className=\"default-db-icon\"\n            aria-label=\"default-icon\"\n          />\n        )}\n      </StyledImage>\n\n      <StyledBottom>\n        <StyledInner>\n          <LinesEllipsis\n            text={buttonText}\n            maxLine=\"2\"\n            basedOn=\"words\"\n            trimRight\n          />\n        </StyledInner>\n      </StyledBottom>\n    </StyledButton>\n  ),\n)`\n  text-transform: none;\n  background-color: ${({ theme }) => theme.colors.grayscale.light5};\n  font-weight: ${({ theme }) => theme.typography.weights.normal};\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  margin: 0;\n  width: 100%;\n\n  &:hover,\n  &:focus {\n    background-color: ${({ theme }) => theme.colors.grayscale.light5};\n    color: ${({ theme }) => theme.colors.grayscale.dark2};\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    box-shadow: 4px 4px 20px ${({ theme }) => theme.colors.grayscale.light2};\n  }\n`;\n\nexport default IconButton;\n","import { JsonObject } from '@superset-ui/core';\nimport { InputProps } from 'antd/lib/input';\nimport { ChangeEvent, EventHandler, FormEvent } from 'react';\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\ntype DatabaseUser = {\n  first_name: string;\n  last_name: string;\n};\n\nexport type CatalogObject = {\n  name: string;\n  value: string;\n};\n\nexport type SSHTunnelObject = {\n  id?: number;\n  server_address?: string;\n  server_port?: number;\n  username?: string;\n  password?: string;\n  private_key?: string;\n  private_key_password?: string;\n};\n\nexport type DatabaseObject = {\n  // Connection + general\n  backend?: string;\n  changed_on?: string;\n  changed_on_delta_humanized?: string;\n  configuration_method: ConfigurationMethod;\n  created_by?: null | DatabaseUser;\n  database_name: string;\n  driver: string;\n  engine?: string;\n  extra?: string;\n  id: number;\n  uuid?: null | string;\n  name: string; // synonym to database_name\n  paramProperties?: Record<string, any>;\n  sqlalchemy_uri?: string;\n  sqlalchemy_uri_placeholder?: string;\n  parameters?: {\n    access_token?: string;\n    database_name?: string;\n    host?: string;\n    port?: number;\n    database?: string;\n    default_catalog?: string;\n    default_schema?: string;\n    http_path_field?: string;\n    username?: string;\n    password?: string;\n    encryption?: boolean;\n    credentials_info?: string;\n    service_account_info?: string;\n    query?: Record<string, string>;\n    catalog?: Record<string, string | undefined>;\n    properties?: Record<string, any>;\n    warehouse?: string;\n    role?: string;\n    account?: string;\n    ssh?: boolean;\n  };\n\n  // Performance\n  cache_timeout?: string;\n  allow_run_async?: boolean;\n\n  // SQL Lab\n  allows_cost_estimate?: boolean;\n  allow_ctas?: boolean;\n  allow_cvas?: boolean;\n  allow_dml?: boolean;\n  allows_virtual_table_explore?: boolean;\n  expose_in_sqllab?: boolean;\n  force_ctas_schema?: string;\n  extra_json?: ExtraJson;\n\n  // Security\n  allow_file_upload?: boolean;\n  impersonate_user?: boolean;\n  masked_encrypted_extra?: string;\n  parameters_schema?: Record<string, any>;\n  server_cert?: string;\n\n  // External management\n  is_managed_externally: boolean;\n\n  // Temporary storage\n  catalog?: Array<CatalogObject>;\n  query_input?: string;\n\n  // DB Engine Spec information\n  engine_information?: {\n    supports_file_upload?: boolean;\n    disable_ssh_tunneling?: boolean;\n    supports_dynamic_catalog?: boolean;\n    supports_oauth2?: boolean;\n  };\n\n  // SSH Tunnel information\n  ssh_tunnel?: SSHTunnelObject | null;\n};\n\nexport type DatabaseForm = {\n  default_driver: string;\n  engine: string;\n  name: string;\n  parameters: {\n    properties: {\n      database: {\n        description: string;\n        type: string;\n      };\n      default_catalog: {\n        description: string;\n        type: string;\n      };\n      default_schema: {\n        description: string;\n        type: string;\n      };\n      http_path_field: {\n        description: string;\n        type: string;\n      };\n      host: {\n        description: string;\n        type: string;\n      };\n      password: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n      port: {\n        description: string;\n        format: string;\n        type: string;\n      };\n      query: {\n        additionalProperties: {};\n        description: string;\n        type: string;\n      };\n      username: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n      credentials_info: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n      service_account_info: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n    };\n    required: string[];\n    type: string;\n  };\n  ssh_tunnel: {\n    properties: {\n      ssh_address: {\n        description: string;\n        type: string;\n      };\n      ssh_port: {\n        description: string;\n        format: string;\n        type: string;\n      };\n      username: {\n        description: string;\n        type: string;\n      };\n      password: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n      private_key: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n      private_key_password: {\n        description: string;\n        nullable: boolean;\n        type: string;\n      };\n    };\n    required: string[];\n    type: string;\n  };\n  preferred: boolean;\n  sqlalchemy_uri_placeholder: string;\n  engine_information: {\n    supports_file_upload: boolean;\n    disable_ssh_tunneling: boolean;\n    supports_dynamic_catalog: boolean;\n  };\n};\n\n// the values should align with the database\n// model enum in superset/superset/models/core.py\nexport enum ConfigurationMethod {\n  SqlalchemyUri = 'sqlalchemy_form',\n  DynamicForm = 'dynamic_form',\n}\n\nexport enum Engines {\n  GSheet = 'gsheets',\n  Snowflake = 'snowflake',\n}\n\nexport interface ExtraJson {\n  allows_virtual_table_explore?: boolean; // in SQL Lab\n  cancel_query_on_windows_unload?: boolean; // in Performance\n  cost_estimate_enabled?: boolean; // in SQL Lab\n  disable_data_preview?: boolean; // in SQL Lab\n  disable_drill_to_detail?: boolean;\n  allow_multi_catalog?: boolean;\n  engine_params?: {\n    catalog?: Record<string, string>;\n    connect_args?: {\n      http_path?: string;\n    };\n  };\n  metadata_params?: {};\n  metadata_cache_timeout?: {\n    schema_cache_timeout?: number; // in Performance\n    table_cache_timeout?: number; // in Performance\n  }; // No field, holds schema and table timeout\n  schemas_allowed_for_file_upload?: string[]; // in Security\n  schema_options?: {\n    expand_rows?: boolean;\n  };\n  version?: string;\n}\n\nexport type CustomTextType = {\n  value?: string | boolean | number;\n  type?: string | null;\n  name?: string;\n  checked?: boolean;\n};\n\ntype CustomHTMLInputElement = Omit<Partial<CustomTextType>, 'value' | 'type'> &\n  CustomTextType;\n\ntype CustomHTMLTextAreaElement = Omit<\n  Partial<CustomTextType>,\n  'value' | 'type'\n> &\n  CustomTextType;\n\nexport type CustomParametersChangeType<T = CustomTextType> =\n  | FormEvent<InputProps>\n  | { target: T };\n\nexport type CustomEventHandlerType = EventHandler<\n  ChangeEvent<CustomHTMLInputElement | CustomHTMLTextAreaElement>\n>;\n\nexport interface FieldPropTypes {\n  required: boolean;\n  hasTooltip?: boolean;\n  tooltipText?: (value: any) => string;\n  placeholder?: string;\n  onParametersChange: (event: CustomParametersChangeType) => void;\n  onParametersUploadFileChange: (value: any) => string;\n  changeMethods: {\n    onParametersChange: (event: CustomParametersChangeType) => void;\n  } & {\n    onChange: (value: any) => string;\n  } & {\n    onQueryChange: (value: any) => string;\n  } & { onParametersUploadFileChange: (value: any) => string } & {\n    onAddTableCatalog: () => void;\n    onRemoveTableCatalog: (idx: number) => void;\n  } & {\n    onExtraInputChange: (value: any) => void;\n    onEncryptedExtraInputChange: (value: any) => void;\n    onSSHTunnelParametersChange: CustomEventHandlerType;\n  };\n  validationErrors: JsonObject | null;\n  getValidation: () => void;\n  clearValidationErrors: () => void;\n  db?: DatabaseObject;\n  dbModel?: DatabaseForm;\n  field: string;\n  default_value?: any;\n  description?: string;\n  isEditMode?: boolean;\n  sslForced?: boolean;\n  defaultDBName?: string;\n  editNewDb?: boolean;\n}\n\ntype ChangeMethodsType = FieldPropTypes['changeMethods'];\n\n// changeMethods compatibility with dynamic forms\ntype SwitchPropsChangeMethodsType = {\n  onParametersChange: ChangeMethodsType['onParametersChange'];\n};\n\nexport type SwitchProps = {\n  dbModel: DatabaseForm;\n  db: DatabaseObject;\n  changeMethods: SwitchPropsChangeMethodsType;\n  clearValidationErrors: () => void;\n};\n\nexport interface DatabaseConnectionFormProps {\n  isEditMode?: boolean;\n  sslForced: boolean;\n  editNewDb?: boolean;\n  dbModel: DatabaseForm;\n  db: Partial<DatabaseObject> | null;\n  onParametersChange: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onChange: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onQueryChange: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onParametersUploadFileChange?: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onExtraInputChange: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onEncryptedExtraInputChange: (\n    event: FormEvent<InputProps> | { target: HTMLInputElement },\n  ) => void;\n  onAddTableCatalog: () => void;\n  onRemoveTableCatalog: (idx: number) => void;\n  validationErrors: JsonObject | null;\n  getValidation: () => void;\n  clearValidationErrors: () => void;\n  getPlaceholder?: (field: string) => string | undefined;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { css, styled, SupersetTheme } from '@superset-ui/core';\nimport { JsonEditor } from 'src/components/AsyncAceEditor';\nimport Button from 'src/components/Button';\n\nconst CTAS_CVAS_SCHEMA_FORM_HEIGHT = 108;\nconst EXPOSE_IN_SQLLAB_FORM_HEIGHT = CTAS_CVAS_SCHEMA_FORM_HEIGHT + 153;\nconst EXPOSE_ALL_FORM_HEIGHT = EXPOSE_IN_SQLLAB_FORM_HEIGHT + 102;\nconst MODAL_BODY_HEIGHT = 180.5;\n\nconst anticonHeight = 12;\n\nexport const no_margin_bottom = css`\n  margin-bottom: 0;\n`;\n\nexport const labelMarginBottom = (theme: SupersetTheme) => css`\n  margin-bottom: ${theme.gridUnit * 2}px;\n`;\n\nexport const marginBottom = (theme: SupersetTheme) => css`\n  margin-bottom: ${theme.gridUnit * 4}px;\n`;\n\nexport const StyledFormHeader = styled.header`\n  padding: ${({ theme }) => theme.gridUnit * 2}px\n    ${({ theme }) => theme.gridUnit * 4}px;\n  line-height: ${({ theme }) => theme.gridUnit * 6}px;\n\n  .helper-top {\n    padding-bottom: 0;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n    margin: 0;\n  }\n\n  .subheader-text {\n    line-height: ${({ theme }) => theme.gridUnit * 4.25}px;\n  }\n\n  .helper-bottom {\n    padding-top: 0;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n    margin: 0;\n  }\n\n  h4 {\n    color: ${({ theme }) => theme.colors.grayscale.dark2};\n    font-size: ${({ theme }) => theme.typography.sizes.l}px;\n    margin: 0;\n    padding: 0;\n    line-height: ${({ theme }) => theme.gridUnit * 8}px;\n  }\n\n  .select-db {\n    padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n    .helper {\n      margin: 0;\n    }\n\n    h4 {\n      margin: 0 0 ${({ theme }) => theme.gridUnit * 4}px;\n    }\n  }\n`;\n\nexport const antdCollapseStyles = (theme: SupersetTheme) => css`\n  .ant-collapse-header {\n    padding-top: ${theme.gridUnit * 3.5}px;\n    padding-bottom: ${theme.gridUnit * 2.5}px;\n\n    .anticon.ant-collapse-arrow {\n      top: calc(50% - ${anticonHeight / 2}px);\n    }\n    .helper {\n      color: ${theme.colors.grayscale.base};\n    }\n  }\n  h4 {\n    font-size: 16px;\n    margin-top: 0;\n    margin-bottom: ${theme.gridUnit}px;\n  }\n  p.helper {\n    margin-bottom: 0;\n    padding: 0;\n  }\n`;\n\nexport const antDTabsStyles = css`\n  .ant-tabs-top {\n    margin-top: 0;\n  }\n  .ant-tabs-top > .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n  .ant-tabs-tab {\n    margin-right: 0;\n  }\n`;\n\nexport const antDModalNoPaddingStyles = css`\n  .ant-modal-body {\n    padding-left: 0;\n    padding-right: 0;\n    padding-top: 0;\n  }\n`;\n\nexport const infoTooltip = (theme: SupersetTheme) => css`\n  margin-bottom: ${theme.gridUnit * 5}px;\n  svg {\n    margin-bottom: ${theme.gridUnit * 0.25}px;\n  }\n`;\n\nexport const toggleStyle = (theme: SupersetTheme) => css`\n  padding-left: ${theme.gridUnit * 2}px;\n`;\n\nexport const formScrollableStyles = (theme: SupersetTheme) => css`\n  padding: ${theme.gridUnit * 4}px ${theme.gridUnit * 4}px 0;\n`;\n\nexport const antDModalStyles = (theme: SupersetTheme) => css`\n  .ant-select-dropdown {\n    height: ${theme.gridUnit * 40}px;\n  }\n\n  .ant-modal-header {\n    padding: ${theme.gridUnit * 4.5}px ${theme.gridUnit * 4}px\n      ${theme.gridUnit * 4}px;\n  }\n\n  .ant-modal-close-x .close {\n    color: ${theme.colors.grayscale.dark1};\n    opacity: 1;\n  }\n\n  .ant-modal-body {\n    height: ${theme.gridUnit * MODAL_BODY_HEIGHT}px;\n  }\n\n  .ant-modal-footer {\n    height: ${theme.gridUnit * 16.25}px;\n  }\n`;\n\nexport const antDAlertStyles = (theme: SupersetTheme) => css`\n  border: 1px solid ${theme.colors.info.base};\n  padding: ${theme.gridUnit * 4}px;\n  margin: ${theme.gridUnit * 4}px 0;\n\n  .ant-alert-message {\n    color: ${theme.colors.info.dark2};\n    font-size: ${theme.typography.sizes.m}px;\n    font-weight: ${theme.typography.weights.bold};\n  }\n\n  .ant-alert-description {\n    color: ${theme.colors.info.dark2};\n    font-size: ${theme.typography.sizes.m}px;\n    line-height: ${theme.gridUnit * 5}px;\n\n    a {\n      text-decoration: underline;\n    }\n\n    .ant-alert-icon {\n      margin-right: ${theme.gridUnit * 2.5}px;\n      font-size: ${theme.typography.sizes.l}px;\n      position: relative;\n      top: ${theme.gridUnit / 4}px;\n    }\n  }\n`;\n\nexport const StyledAlertMargin = styled.div`\n  ${({ theme }) => css`\n    margin: 0 ${theme.gridUnit * 4}px -${theme.gridUnit * 4}px;\n  `}\n`;\n\nexport const antDErrorAlertStyles = (theme: SupersetTheme) => css`\n  border: ${theme.colors.error.base} 1px solid;\n  padding: ${theme.gridUnit * 4}px;\n  margin: ${theme.gridUnit * 8}px ${theme.gridUnit * 4}px;\n  color: ${theme.colors.error.dark2};\n  .ant-alert-message {\n    font-size: ${theme.typography.sizes.m}px;\n    font-weight: ${theme.typography.weights.bold};\n  }\n  .ant-alert-description {\n    font-size: ${theme.typography.sizes.m}px;\n    line-height: ${theme.gridUnit * 5}px;\n    .ant-alert-icon {\n      margin-right: ${theme.gridUnit * 2.5}px;\n      font-size: ${theme.typography.sizes.l}px;\n      position: relative;\n      top: ${theme.gridUnit / 4}px;\n    }\n  }\n`;\n\nexport const antdWarningAlertStyles = (theme: SupersetTheme) => css`\n  border: 1px solid ${theme.colors.warning.light1};\n  padding: ${theme.gridUnit * 4}px;\n  margin: ${theme.gridUnit * 4}px 0;\n  color: ${theme.colors.warning.dark2};\n\n  .ant-alert-message {\n    margin: 0;\n  }\n\n  .ant-alert-description {\n    font-size: ${theme.typography.sizes.s + 1}px;\n    line-height: ${theme.gridUnit * 4}px;\n\n    .ant-alert-icon {\n      margin-right: ${theme.gridUnit * 2.5}px;\n      font-size: ${theme.typography.sizes.l + 1}px;\n      position: relative;\n      top: ${theme.gridUnit / 4}px;\n    }\n  }\n`;\n\nexport const formHelperStyles = (theme: SupersetTheme) => css`\n  .required {\n    margin-left: ${theme.gridUnit / 2}px;\n    color: ${theme.colors.error.base};\n  }\n\n  .helper {\n    display: block;\n    padding: ${theme.gridUnit}px 0;\n    color: ${theme.colors.grayscale.light1};\n    font-size: ${theme.typography.sizes.s}px;\n    text-align: left;\n  }\n`;\n\nexport const wideButton = (theme: SupersetTheme) => css`\n  width: 100%;\n  border: 1px solid ${theme.colors.primary.dark2};\n  color: ${theme.colors.primary.dark2};\n  &:hover,\n  &:focus {\n    border: 1px solid ${theme.colors.primary.dark1};\n    color: ${theme.colors.primary.dark1};\n  }\n`;\n\nexport const formStyles = (theme: SupersetTheme) => css`\n  .form-group {\n    margin-bottom: ${theme.gridUnit * 4}px;\n    &-w-50 {\n      display: inline-block;\n      width: ${`calc(50% - ${theme.gridUnit * 4}px)`};\n      & + .form-group-w-50 {\n        margin-left: ${theme.gridUnit * 8}px;\n      }\n    }\n  }\n  .control-label {\n    color: ${theme.colors.grayscale.dark1};\n    font-size: ${theme.typography.sizes.s}px;\n  }\n  .helper {\n    color: ${theme.colors.grayscale.light1};\n    font-size: ${theme.typography.sizes.s}px;\n    margin-top: ${theme.gridUnit * 1.5}px;\n  }\n  .ant-tabs-content-holder {\n    overflow: auto;\n    max-height: 480px;\n  }\n`;\n\nexport const validatedFormStyles = (theme: SupersetTheme) => css`\n  label {\n    color: ${theme.colors.grayscale.dark1};\n    font-size: ${theme.typography.sizes.s}px;\n    margin-bottom: 0;\n  }\n`;\n\nexport const StyledInputContainer = styled.div`\n  ${({ theme }) => css`\n    margin-bottom: ${theme.gridUnit * 6}px;\n    &.mb-0 {\n      margin-bottom: 0;\n    }\n    &.mb-8 {\n      margin-bottom: ${theme.gridUnit * 2}px;\n    }\n\n    .control-label {\n      color: ${theme.colors.grayscale.dark1};\n      font-size: ${theme.typography.sizes.s}px;\n      margin-bottom: ${theme.gridUnit * 2}px;\n    }\n\n    &.extra-container {\n      padding-top: ${theme.gridUnit * 2}px;\n    }\n\n    .input-container {\n      display: flex;\n      align-items: top;\n\n      label {\n        display: flex;\n        margin-left: ${theme.gridUnit * 2}px;\n        margin-top: ${theme.gridUnit * 0.75}px;\n        font-family: ${theme.typography.families.sansSerif};\n        font-size: ${theme.typography.sizes.m}px;\n      }\n\n      i {\n        margin: 0 ${theme.gridUnit}px;\n      }\n    }\n\n    input,\n    textarea {\n      flex: 1 1 auto;\n    }\n\n    textarea {\n      height: 160px;\n      resize: none;\n    }\n\n    input::placeholder,\n    textarea::placeholder {\n      color: ${theme.colors.grayscale.light1};\n    }\n\n    textarea,\n    input[type='text'],\n    input[type='number'] {\n      padding: ${theme.gridUnit * 1.5}px ${theme.gridUnit * 2}px;\n      border-style: none;\n      border: 1px solid ${theme.colors.grayscale.light2};\n      border-radius: ${theme.gridUnit}px;\n\n      &[name='name'] {\n        flex: 0 1 auto;\n        width: 40%;\n      }\n    }\n    &.expandable {\n      height: 0;\n      overflow: hidden;\n      transition: height 0.25s;\n      margin-left: ${theme.gridUnit * 8}px;\n      margin-bottom: 0;\n      padding: 0;\n      .control-label {\n        margin-bottom: 0;\n      }\n      &.open {\n        height: ${CTAS_CVAS_SCHEMA_FORM_HEIGHT}px;\n        padding-right: ${theme.gridUnit * 5}px;\n      }\n    }\n  `}\n`;\n\nexport const StyledJsonEditor = styled(JsonEditor)`\n  flex: 1 1 auto;\n  border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  border-radius: ${({ theme }) => theme.gridUnit}px;\n`;\n\nexport const StyledExpandableForm = styled.div`\n  padding-top: ${({ theme }) => theme.gridUnit}px;\n  .input-container {\n    padding-top: ${({ theme }) => theme.gridUnit}px;\n    padding-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n  &.expandable {\n    height: 0;\n    overflow: hidden;\n    transition: height 0.25s;\n    margin-left: ${({ theme }) => theme.gridUnit * 7}px;\n    &.open {\n      height: ${EXPOSE_IN_SQLLAB_FORM_HEIGHT}px;\n      &.ctas-open {\n        height: ${EXPOSE_ALL_FORM_HEIGHT}px;\n      }\n    }\n  }\n`;\n\nexport const StyledAlignment = styled.div`\n  padding: 0 ${({ theme }) => theme.gridUnit * 4}px;\n  margin-top: ${({ theme }) => theme.gridUnit * 6}px;\n`;\n\nexport const buttonLinkStyles = (theme: SupersetTheme) => css`\n  font-weight: ${theme.typography.weights.normal};\n  text-transform: initial;\n  padding-right: ${theme.gridUnit * 2}px;\n`;\n\nexport const importDbButtonLinkStyles = (theme: SupersetTheme) => css`\n  font-size: ${theme.gridUnit * 3.5}px;\n  font-weight: ${theme.typography.weights.normal};\n  text-transform: initial;\n  padding-right: ${theme.gridUnit * 2}px;\n`;\n\nexport const alchemyButtonLinkStyles = (theme: SupersetTheme) => css`\n  font-weight: ${theme.typography.weights.normal};\n  text-transform: initial;\n  padding: ${theme.gridUnit * 8}px 0 0;\n  margin-left: 0px;\n`;\n\nexport const TabHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0px;\n\n  .helper {\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n    margin: 0px;\n  }\n`;\n\nexport const CreateHeaderTitle = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n`;\n\nexport const CreateHeaderSubtitle = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\n\nexport const EditHeaderTitle = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.light1};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\n\nexport const EditHeaderSubtitle = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  font-size: ${({ theme }) => theme.typography.sizes.l}px;\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n`;\n\nexport const CredentialInfoForm = styled.div`\n  .catalog-type-select {\n    margin: 0 0 20px;\n  }\n\n  .label-select {\n    color: ${({ theme }) => theme.colors.grayscale.dark1};\n    font-size: 11px;\n    margin: 0 5px ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  .label-paste {\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n    font-size: 11px;\n    line-height: 16px;\n  }\n\n  .input-container {\n    margin: ${({ theme }) => theme.gridUnit * 7}px 0;\n    display: flex;\n    flex-direction: column;\n}\n  }\n  .input-form {\n    height: 100px;\n    width: 100%;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n    resize: vertical;\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n    &::placeholder {\n      color: ${({ theme }) => theme.colors.grayscale.light1};\n    }\n  }\n\n  .input-container {\n    .input-upload {\n      display: none !important;\n    }\n    .input-upload-current {\n      display: flex;\n      justify-content: space-between;\n    }\n    .input-upload-btn {\n      width: ${({ theme }) => theme.gridUnit * 32}px\n    }\n  }`;\n\nexport const SelectDatabaseStyles = styled.div`\n  .preferred {\n    .superset-button {\n      margin-left: 0;\n    }\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin: ${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  .preferred-item {\n    width: 32%;\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2.5}px;\n  }\n\n  .available {\n    margin: ${({ theme }) => theme.gridUnit * 4}px;\n    .available-label {\n      font-size: ${({ theme }) => theme.typography.sizes.l}px;\n      font-weight: ${({ theme }) => theme.typography.weights.bold};\n      margin: ${({ theme }) => theme.gridUnit * 6}px 0;\n    }\n    .available-select {\n      width: 100%;\n    }\n  }\n\n  .label-available-select {\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  }\n\n  .control-label {\n    color: ${({ theme }) => theme.colors.grayscale.dark1};\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n`;\n\nexport const StyledFooterButton = styled(Button)`\n  width: ${({ theme }) => theme.gridUnit * 40}px;\n`;\n\nexport const StyledStickyHeader = styled.div`\n  position: sticky;\n  top: 0;\n  z-index: ${({ theme }) => theme.zIndex.max};\n  background: ${({ theme }) => theme.colors.grayscale.light5};\n  height: auto;\n`;\n\nexport const StyledCatalogTable = styled.div`\n  margin-bottom: 16px;\n\n  .catalog-type-select {\n    margin: 0 0 20px;\n  }\n\n  .gsheet-title {\n    font-size: ${({ theme }) => theme.typography.sizes.l}px;\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\n    margin: ${({ theme }) => theme.gridUnit * 10}px 0 16px;\n  }\n\n  .catalog-label {\n    margin: 0 0 7px;\n  }\n\n  .catalog-name {\n    display: flex;\n    .catalog-name-input {\n      width: 95%;\n      margin-bottom: 0px;\n    }\n  }\n\n  .catalog-name-url {\n    margin: 4px 0;\n    width: 95%;\n  }\n\n  .catalog-add-btn {\n    width: 95%;\n  }\n`;\n\nexport const StyledUploadWrapper = styled.div`\n  .ant-progress-inner {\n    display: none;\n  }\n\n  .ant-upload-list-item-card-actions {\n    display: none;\n  }\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ChangeEvent, EventHandler } from 'react';\nimport cx from 'classnames';\nimport {\n  t,\n  DatabaseConnectionExtension,\n  isFeatureEnabled,\n  SupersetTheme,\n  useTheme,\n  FeatureFlag,\n} from '@superset-ui/core';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport IndeterminateCheckbox from 'src/components/IndeterminateCheckbox';\nimport Collapse from 'src/components/Collapse';\nimport {\n  StyledInputContainer,\n  StyledJsonEditor,\n  StyledExpandableForm,\n  antdCollapseStyles,\n  no_margin_bottom,\n} from './styles';\nimport { DatabaseObject, ExtraJson } from '../types';\n\nconst ExtraOptions = ({\n  db,\n  onInputChange,\n  onTextChange,\n  onEditorChange,\n  onExtraInputChange,\n  onExtraEditorChange,\n  extraExtension,\n}: {\n  db: DatabaseObject | null;\n  onInputChange: EventHandler<ChangeEvent<HTMLInputElement>>;\n  onTextChange: EventHandler<ChangeEvent<HTMLTextAreaElement>>;\n  onEditorChange: Function;\n  onExtraInputChange: EventHandler<ChangeEvent<HTMLInputElement>>;\n  onExtraEditorChange: Function;\n  extraExtension: DatabaseConnectionExtension | undefined;\n}) => {\n  const expandableModalIsOpen = !!db?.expose_in_sqllab;\n  const createAsOpen = !!(db?.allow_ctas || db?.allow_cvas);\n  const isFileUploadSupportedByEngine =\n    db?.engine_information?.supports_file_upload;\n  const supportsDynamicCatalog =\n    db?.engine_information?.supports_dynamic_catalog;\n\n  // JSON.parse will deep parse engine_params\n  // if it's an object, and we want to keep it a string\n  const extraJson: ExtraJson = JSON.parse(db?.extra || '{}', (key, value) => {\n    if (key === 'engine_params' && typeof value === 'object') {\n      // keep this as a string\n      return JSON.stringify(value);\n    }\n    return value;\n  });\n  const theme = useTheme();\n  const ExtraExtensionComponent = extraExtension?.component;\n  const ExtraExtensionLogo = extraExtension?.logo;\n  const ExtensionDescription = extraExtension?.description;\n  const allowRunAsync = isFeatureEnabled(FeatureFlag.ForceSqlLabRunAsync)\n    ? true\n    : !!db?.allow_run_async;\n  const isAllowRunAsyncDisabled = isFeatureEnabled(\n    FeatureFlag.ForceSqlLabRunAsync,\n  );\n\n  return (\n    <Collapse\n      expandIconPosition=\"right\"\n      accordion\n      css={(theme: SupersetTheme) => antdCollapseStyles(theme)}\n    >\n      <Collapse.Panel\n        header={\n          <div>\n            <h4>{t('SQL Lab')}</h4>\n            <p className=\"helper\">\n              {t('Adjust how this database will interact with SQL Lab.')}\n            </p>\n          </div>\n        }\n        key=\"1\"\n      >\n        <StyledInputContainer css={no_margin_bottom}>\n          <div className=\"input-container\">\n            <IndeterminateCheckbox\n              id=\"expose_in_sqllab\"\n              indeterminate={false}\n              checked={!!db?.expose_in_sqllab}\n              onChange={onInputChange}\n              labelText={t('Expose database in SQL Lab')}\n            />\n            <InfoTooltip\n              tooltip={t('Allow this database to be queried in SQL Lab')}\n            />\n          </div>\n          <StyledExpandableForm\n            className={cx('expandable', {\n              open: expandableModalIsOpen,\n              'ctas-open': createAsOpen,\n            })}\n          >\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"allow_ctas\"\n                  indeterminate={false}\n                  checked={!!db?.allow_ctas}\n                  onChange={onInputChange}\n                  labelText={t('Allow CREATE TABLE AS')}\n                />\n                <InfoTooltip\n                  tooltip={t('Allow creation of new tables based on queries')}\n                />\n              </div>\n            </StyledInputContainer>\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"allow_cvas\"\n                  indeterminate={false}\n                  checked={!!db?.allow_cvas}\n                  onChange={onInputChange}\n                  labelText={t('Allow CREATE VIEW AS')}\n                />\n                <InfoTooltip\n                  tooltip={t('Allow creation of new views based on queries')}\n                />\n              </div>\n              <StyledInputContainer\n                className={cx('expandable', { open: createAsOpen })}\n              >\n                <div className=\"control-label\">{t('CTAS & CVAS SCHEMA')}</div>\n                <div className=\"input-container\">\n                  <input\n                    type=\"text\"\n                    name=\"force_ctas_schema\"\n                    placeholder={t('Create or select schema...')}\n                    onChange={onInputChange}\n                    value={db?.force_ctas_schema || ''}\n                  />\n                </div>\n                <div className=\"helper\">\n                  {t(\n                    'Force all tables and views to be created in this schema when clicking CTAS or CVAS in SQL Lab.',\n                  )}\n                </div>\n              </StyledInputContainer>\n            </StyledInputContainer>\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"allow_dml\"\n                  indeterminate={false}\n                  checked={!!db?.allow_dml}\n                  onChange={onInputChange}\n                  labelText={t('Allow DDL and DML')}\n                />\n                <InfoTooltip\n                  tooltip={t(\n                    'Allow the execution of DDL (Data Definition Language: CREATE, DROP, TRUNCATE, etc.) and DML (Data Modification Language: INSERT, UPDATE, DELETE, etc)',\n                  )}\n                />\n              </div>\n            </StyledInputContainer>\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"cost_estimate_enabled\"\n                  indeterminate={false}\n                  checked={!!extraJson?.cost_estimate_enabled}\n                  onChange={onExtraInputChange}\n                  labelText={t('Enable query cost estimation')}\n                />\n                <InfoTooltip\n                  tooltip={t(\n                    'For Bigquery, Presto and Postgres, shows a button to compute cost before running a query.',\n                  )}\n                />\n              </div>\n            </StyledInputContainer>\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"allows_virtual_table_explore\"\n                  indeterminate={false}\n                  // when `allows_virtual_table_explore` is not present in `extra` it defaults to true\n                  checked={extraJson?.allows_virtual_table_explore !== false}\n                  onChange={onExtraInputChange}\n                  labelText={t('Allow this database to be explored')}\n                />\n                <InfoTooltip\n                  tooltip={t(\n                    'When enabled, users are able to visualize SQL Lab results in Explore.',\n                  )}\n                />\n              </div>\n            </StyledInputContainer>\n            <StyledInputContainer css={no_margin_bottom}>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"disable_data_preview\"\n                  indeterminate={false}\n                  checked={!!extraJson?.disable_data_preview}\n                  onChange={onExtraInputChange}\n                  labelText={t('Disable SQL Lab data preview queries')}\n                />\n                <InfoTooltip\n                  tooltip={t(\n                    'Disable data preview when fetching table metadata in SQL Lab. ' +\n                      ' Useful to avoid browser performance issues when using ' +\n                      ' databases with very wide tables.',\n                  )}\n                />\n              </div>\n            </StyledInputContainer>\n            <StyledInputContainer>\n              <div className=\"input-container\">\n                <IndeterminateCheckbox\n                  id=\"expand_rows\"\n                  indeterminate={false}\n                  checked={!!extraJson?.schema_options?.expand_rows}\n                  onChange={onExtraInputChange}\n                  labelText={t('Enable row expansion in schemas')}\n                />\n                <InfoTooltip\n                  tooltip={t(\n                    'For Trino, describe full schemas of nested ROW types, expanding them with dotted paths',\n                  )}\n                />\n              </div>\n            </StyledInputContainer>\n          </StyledExpandableForm>\n        </StyledInputContainer>\n      </Collapse.Panel>\n      <Collapse.Panel\n        header={\n          <div>\n            <h4>{t('Performance')}</h4>\n            <p className=\"helper\">\n              {t('Adjust performance settings of this database.')}\n            </p>\n          </div>\n        }\n        key=\"2\"\n      >\n        <StyledInputContainer className=\"mb-8\">\n          <div className=\"control-label\">{t('Chart cache timeout')}</div>\n          <div className=\"input-container\">\n            <input\n              type=\"number\"\n              name=\"cache_timeout\"\n              value={db?.cache_timeout || ''}\n              placeholder={t('Enter duration in seconds')}\n              onChange={onInputChange}\n            />\n          </div>\n          <div className=\"helper\">\n            {t(\n              'Duration (in seconds) of the caching timeout for charts of this database.' +\n                ' A timeout of 0 indicates that the cache never expires, and -1 bypasses the cache.' +\n                ' Note this defaults to the global timeout if undefined.',\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Schema cache timeout')}</div>\n          <div className=\"input-container\">\n            <input\n              type=\"number\"\n              name=\"schema_cache_timeout\"\n              value={\n                extraJson?.metadata_cache_timeout?.schema_cache_timeout || ''\n              }\n              placeholder={t('Enter duration in seconds')}\n              onChange={onExtraInputChange}\n              data-test=\"schema-cache-timeout-test\"\n            />\n          </div>\n          <div className=\"helper\">\n            {t(\n              'Duration (in seconds) of the metadata caching timeout for schemas of ' +\n                'this database. If left unset, the cache never expires.',\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Table cache timeout')}</div>\n          <div className=\"input-container\">\n            <input\n              type=\"number\"\n              name=\"table_cache_timeout\"\n              value={\n                extraJson?.metadata_cache_timeout?.table_cache_timeout || ''\n              }\n              placeholder={t('Enter duration in seconds')}\n              onChange={onExtraInputChange}\n              data-test=\"table-cache-timeout-test\"\n            />\n          </div>\n          <div className=\"helper\">\n            {t(\n              'Duration (in seconds) of the metadata caching timeout for tables of ' +\n                'this database. If left unset, the cache never expires. ',\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer css={{ no_margin_bottom }}>\n          <div className=\"input-container\">\n            <IndeterminateCheckbox\n              id=\"allow_run_async\"\n              indeterminate={false}\n              checked={allowRunAsync}\n              onChange={onInputChange}\n              labelText={t('Asynchronous query execution')}\n            />\n            <InfoTooltip\n              tooltip={t(\n                'Operate the database in asynchronous mode, meaning that the queries ' +\n                  'are executed on remote workers as opposed to on the web server itself. ' +\n                  'This assumes that you have a Celery worker setup as well as a results ' +\n                  'backend. Refer to the installation docs for more information.',\n              )}\n            />\n            {isAllowRunAsyncDisabled && (\n              <InfoTooltip\n                iconStyle={{ color: theme.colors.error.base }}\n                tooltip={t(\n                  'This option has been disabled by the administrator.',\n                )}\n              />\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer css={{ no_margin_bottom }}>\n          <div className=\"input-container\">\n            <IndeterminateCheckbox\n              id=\"cancel_query_on_windows_unload\"\n              indeterminate={false}\n              checked={!!extraJson?.cancel_query_on_windows_unload}\n              onChange={onExtraInputChange}\n              labelText={t('Cancel query on window unload event')}\n            />\n            <InfoTooltip\n              tooltip={t(\n                'Terminate running queries when browser window closed or navigated ' +\n                  'to another page. Available for Presto, Hive, MySQL, Postgres and ' +\n                  'Snowflake databases.',\n              )}\n            />\n          </div>\n        </StyledInputContainer>\n      </Collapse.Panel>\n      <Collapse.Panel\n        header={\n          <div>\n            <h4>{t('Security')}</h4>\n            <p className=\"helper\">{t('Add extra connection information.')}</p>\n          </div>\n        }\n        key=\"3\"\n      >\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Secure extra')}</div>\n          <div className=\"input-container\">\n            <StyledJsonEditor\n              name=\"masked_encrypted_extra\"\n              value={db?.masked_encrypted_extra || ''}\n              placeholder={t('Secure extra')}\n              onChange={(json: string) =>\n                onEditorChange({ json, name: 'masked_encrypted_extra' })\n              }\n              width=\"100%\"\n              height=\"160px\"\n            />\n          </div>\n          <div className=\"helper\">\n            <div>\n              {t(\n                'JSON string containing additional connection configuration. ' +\n                  'This is used to provide connection information for systems ' +\n                  'like Hive, Presto and BigQuery which do not conform to the ' +\n                  'username:password syntax normally used by SQLAlchemy.',\n              )}\n            </div>\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Root certificate')}</div>\n          <div className=\"input-container\">\n            <textarea\n              name=\"server_cert\"\n              value={db?.server_cert || ''}\n              placeholder={t('Enter CA_BUNDLE')}\n              onChange={onTextChange}\n            />\n          </div>\n          <div className=\"helper\">\n            {t(\n              'Optional CA_BUNDLE contents to validate HTTPS requests. Only ' +\n                'available on certain database engines.',\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer\n          css={!isFileUploadSupportedByEngine ? no_margin_bottom : {}}\n        >\n          <div className=\"input-container\">\n            <IndeterminateCheckbox\n              id=\"impersonate_user\"\n              indeterminate={false}\n              checked={!!db?.impersonate_user}\n              onChange={onInputChange}\n              labelText={t(\n                'Impersonate logged in user (Presto, Trino, Drill, Hive, and GSheets)',\n              )}\n            />\n            <InfoTooltip\n              tooltip={t(\n                'If Presto or Trino, all the queries in SQL Lab are going to be executed as the ' +\n                  'currently logged on user who must have permission to run them. If Hive ' +\n                  'and hive.server2.enable.doAs is enabled, will run the queries as ' +\n                  'service account, but impersonate the currently logged on user via ' +\n                  'hive.server2.proxy.user property.',\n              )}\n            />\n          </div>\n        </StyledInputContainer>\n        {isFileUploadSupportedByEngine && (\n          <StyledInputContainer\n            css={!db?.allow_file_upload ? no_margin_bottom : {}}\n          >\n            <div className=\"input-container\">\n              <IndeterminateCheckbox\n                id=\"allow_file_upload\"\n                indeterminate={false}\n                checked={!!db?.allow_file_upload}\n                onChange={onInputChange}\n                labelText={t('Allow file uploads to database')}\n              />\n            </div>\n          </StyledInputContainer>\n        )}\n        {isFileUploadSupportedByEngine && !!db?.allow_file_upload && (\n          <StyledInputContainer css={no_margin_bottom}>\n            <div className=\"control-label\">\n              {t('Schemas allowed for File upload')}\n            </div>\n            <div className=\"input-container\">\n              <input\n                type=\"text\"\n                name=\"schemas_allowed_for_file_upload\"\n                value={(extraJson?.schemas_allowed_for_file_upload || []).join(\n                  ',',\n                )}\n                placeholder=\"schema1,schema2\"\n                onChange={onExtraInputChange}\n              />\n            </div>\n            <div className=\"helper\">\n              {t(\n                'A comma-separated list of schemas that files are allowed to upload to.',\n              )}\n            </div>\n          </StyledInputContainer>\n        )}\n      </Collapse.Panel>\n      {extraExtension && ExtraExtensionComponent && ExtensionDescription && (\n        <Collapse.Panel\n          header={\n            <div>\n              {ExtraExtensionLogo && <ExtraExtensionLogo />}\n              <span\n                css={(theme: SupersetTheme) => ({\n                  fontSize: theme.typography.sizes.l,\n                  fontWeight: theme.typography.weights.bold,\n                })}\n              >\n                {extraExtension?.title}\n              </span>\n              <p className=\"helper\">\n                <ExtensionDescription />\n              </p>\n            </div>\n          }\n          key={extraExtension?.title}\n          // @ts-ignore, 'icon' is valid in >=4.9.0 but missing from `CollapsibleType`\n          collapsible={extraExtension.enabled?.() ? 'icon' : 'disabled'}\n        >\n          <StyledInputContainer css={no_margin_bottom}>\n            <ExtraExtensionComponent db={db} onEdit={extraExtension.onEdit} />\n          </StyledInputContainer>\n        </Collapse.Panel>\n      )}\n      <Collapse.Panel\n        header={\n          <div>\n            <h4>{t('Other')}</h4>\n            <p className=\"helper\">{t('Additional settings.')}</p>\n          </div>\n        }\n        key=\"4\"\n      >\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Metadata Parameters')}</div>\n          <div className=\"input-container\">\n            <StyledJsonEditor\n              name=\"metadata_params\"\n              placeholder={t('Metadata Parameters')}\n              onChange={(json: string) =>\n                onExtraEditorChange({ json, name: 'metadata_params' })\n              }\n              width=\"100%\"\n              height=\"160px\"\n              value={\n                !Object.keys(extraJson?.metadata_params || {}).length\n                  ? ''\n                  : extraJson?.metadata_params\n              }\n            />\n          </div>\n          <div className=\"helper\">\n            <div>\n              {t(\n                'The metadata_params object gets unpacked into the sqlalchemy.MetaData call.',\n              )}\n            </div>\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer>\n          <div className=\"control-label\">{t('Engine Parameters')}</div>\n          <div className=\"input-container\">\n            <StyledJsonEditor\n              name=\"engine_params\"\n              placeholder={t('Engine Parameters')}\n              onChange={(json: string) =>\n                onExtraEditorChange({ json, name: 'engine_params' })\n              }\n              width=\"100%\"\n              height=\"160px\"\n              value={\n                !Object.keys(extraJson?.engine_params || {}).length\n                  ? ''\n                  : extraJson?.engine_params\n              }\n            />\n          </div>\n          <div className=\"helper\">\n            <div>\n              {t(\n                'The engine_params object gets unpacked into the sqlalchemy.create_engine call.',\n              )}\n            </div>\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer>\n          <div className=\"control-label\" data-test=\"version-label-test\">\n            {t('Version')}\n          </div>\n          <div className=\"input-container\" data-test=\"version-spinbutton-test\">\n            <input\n              type=\"text\"\n              name=\"version\"\n              placeholder={t('Version number')}\n              onChange={onExtraInputChange}\n              value={extraJson?.version || ''}\n            />\n          </div>\n          <div className=\"helper\">\n            {t(\n              'Specify the database version. This is used with Presto for query cost ' +\n                'estimation, and Dremio for syntax changes, among others.',\n            )}\n          </div>\n        </StyledInputContainer>\n        <StyledInputContainer css={no_margin_bottom}>\n          <div className=\"input-container\">\n            <IndeterminateCheckbox\n              id=\"disable_drill_to_detail\"\n              indeterminate={false}\n              checked={!!extraJson?.disable_drill_to_detail}\n              onChange={onExtraInputChange}\n              labelText={t('Disable drill to detail')}\n            />\n            <InfoTooltip\n              tooltip={t(\n                'Disables the drill to detail feature for this database.',\n              )}\n            />\n          </div>\n        </StyledInputContainer>\n        {supportsDynamicCatalog && (\n          <StyledInputContainer css={no_margin_bottom}>\n            <div className=\"input-container\">\n              <IndeterminateCheckbox\n                id=\"allow_multi_catalog\"\n                indeterminate={false}\n                checked={!!extraJson?.allow_multi_catalog}\n                onChange={onExtraInputChange}\n                labelText={t('Allow changing catalogs')}\n              />\n              <InfoTooltip\n                tooltip={t(\n                  'Give access to multiple catalogs in a single database connection.',\n                )}\n              />\n            </div>\n          </StyledInputContainer>\n        )}\n      </Collapse.Panel>\n    </Collapse>\n  );\n};\n\nexport default ExtraOptions;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { EventHandler, ChangeEvent, MouseEvent, ReactNode } from 'react';\nimport { t, SupersetTheme } from '@superset-ui/core';\nimport SupersetText from 'src/utils/textUtils';\nimport Button from 'src/components/Button';\nimport { StyledInputContainer, wideButton } from './styles';\nimport { DatabaseObject } from '../types';\n\nconst SqlAlchemyTab = ({\n  db,\n  onInputChange,\n  testConnection,\n  conf,\n  testInProgress = false,\n  children,\n}: {\n  db: DatabaseObject | null;\n  onInputChange: EventHandler<ChangeEvent<HTMLInputElement>>;\n  testConnection: EventHandler<MouseEvent<HTMLElement>>;\n  conf: { SQLALCHEMY_DOCS_URL: string; SQLALCHEMY_DISPLAY_TEXT: string };\n  testInProgress?: boolean;\n  children?: ReactNode;\n}) => {\n  const fallbackDocsUrl =\n    SupersetText?.DB_MODAL_SQLALCHEMY_FORM?.SQLALCHEMY_DOCS_URL ||\n    'https://docs.sqlalchemy.org/en/13/core/engines.html';\n  const fallbackDisplayText =\n    SupersetText?.DB_MODAL_SQLALCHEMY_FORM?.SQLALCHEMY_DISPLAY_TEXT ||\n    'SQLAlchemy docs';\n\n  return (\n    <>\n      <StyledInputContainer>\n        <div className=\"control-label\">\n          {t('Display Name')}\n          <span className=\"required\">*</span>\n        </div>\n        <div className=\"input-container\">\n          <input\n            type=\"text\"\n            name=\"database_name\"\n            data-test=\"database-name-input\"\n            value={db?.database_name || ''}\n            placeholder={t('Name your database')}\n            onChange={onInputChange}\n          />\n        </div>\n        <div className=\"helper\">\n          {t('Pick a name to help you identify this database.')}\n        </div>\n      </StyledInputContainer>\n      <StyledInputContainer>\n        <div className=\"control-label\">\n          {t('SQLAlchemy URI')}\n          <span className=\"required\">*</span>\n        </div>\n        <div className=\"input-container\">\n          <input\n            type=\"text\"\n            name=\"sqlalchemy_uri\"\n            data-test=\"sqlalchemy-uri-input\"\n            value={db?.sqlalchemy_uri || ''}\n            autoComplete=\"off\"\n            placeholder={\n              db?.sqlalchemy_uri_placeholder ||\n              t('dialect+driver://username:password@host:port/database')\n            }\n            onChange={onInputChange}\n          />\n        </div>\n        <div className=\"helper\">\n          {t('Refer to the')}{' '}\n          <a\n            href={fallbackDocsUrl || conf?.SQLALCHEMY_DOCS_URL || ''}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {fallbackDisplayText || conf?.SQLALCHEMY_DISPLAY_TEXT || ''}\n          </a>{' '}\n          {t('for more information on how to structure your URI.')}\n        </div>\n      </StyledInputContainer>\n      {children}\n      <Button\n        onClick={testConnection}\n        loading={testInProgress}\n        cta\n        buttonStyle=\"link\"\n        css={(theme: SupersetTheme) => wideButton(theme)}\n      >\n        {t('Test connection')}\n      </Button>\n    </>\n  );\n};\nexport default SqlAlchemyTab;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useState } from 'react';\n\nimport Collapse from 'src/components/Collapse';\nimport { Input } from 'src/components/Input';\nimport { FormItem } from 'src/components/Form';\nimport { FieldPropTypes } from '../../types';\n\ninterface OAuth2ClientInfo {\n  id: string;\n  secret: string;\n  authorization_request_uri: string;\n  token_request_uri: string;\n  scope: string;\n}\n\nexport const OAuth2ClientField = ({ changeMethods, db }: FieldPropTypes) => {\n  const encryptedExtra = JSON.parse(db?.masked_encrypted_extra || '{}');\n  const [oauth2ClientInfo, setOauth2ClientInfo] = useState<OAuth2ClientInfo>({\n    id: encryptedExtra.oauth2_client_info?.id || '',\n    secret: encryptedExtra.oauth2_client_info?.secret || '',\n    authorization_request_uri:\n      encryptedExtra.oauth2_client_info?.authorization_request_uri || '',\n    token_request_uri:\n      encryptedExtra.oauth2_client_info?.token_request_uri || '',\n    scope: encryptedExtra.oauth2_client_info?.scope || '',\n  });\n\n  if (db?.engine_information?.supports_oauth2 !== true) {\n    return null;\n  }\n\n  const handleChange = (key: any) => (e: any) => {\n    const updatedInfo = {\n      ...oauth2ClientInfo,\n      [key]: e.target.value,\n    };\n\n    setOauth2ClientInfo(updatedInfo);\n\n    const event = {\n      target: {\n        name: 'oauth2_client_info',\n        value: updatedInfo,\n      },\n    };\n    changeMethods.onEncryptedExtraInputChange(event);\n  };\n\n  return (\n    <Collapse>\n      <Collapse.Panel header=\"OAuth2 client information\" key=\"1\">\n        <FormItem label=\"Client ID\">\n          <Input\n            data-test=\"client-id\"\n            value={oauth2ClientInfo.id}\n            onChange={handleChange('id')}\n          />\n        </FormItem>\n        <FormItem label=\"Client Secret\">\n          <Input\n            data-test=\"client-secret\"\n            type=\"password\"\n            value={oauth2ClientInfo.secret}\n            onChange={handleChange('secret')}\n          />\n        </FormItem>\n        <FormItem label=\"Authorization Request URI\">\n          <Input\n            data-test=\"client-authorization-request-uri\"\n            placeholder=\"https://\"\n            value={oauth2ClientInfo.authorization_request_uri}\n            onChange={handleChange('authorization_request_uri')}\n          />\n        </FormItem>\n        <FormItem label=\"Token Request URI\">\n          <Input\n            data-test=\"client-token-request-uri\"\n            placeholder=\"https://\"\n            value={oauth2ClientInfo.token_request_uri}\n            onChange={handleChange('token_request_uri')}\n          />\n        </FormItem>\n        <FormItem label=\"Scope\">\n          <Input\n            data-test=\"client-scope\"\n            value={oauth2ClientInfo.scope}\n            onChange={handleChange('scope')}\n          />\n        </FormItem>\n      </Collapse.Panel>\n    </Collapse>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport ValidatedInput from 'src/components/Form/LabeledErrorBoundInput';\nimport { FieldPropTypes } from '../../types';\n\nconst FIELD_TEXT_MAP = {\n  account: {\n    label: 'Account',\n    helpText: t(\n      'Copy the identifier of the account you are trying to connect to.',\n    ),\n    placeholder: t('e.g. xy12345.us-east-2.aws'),\n  },\n  warehouse: {\n    label: 'Warehouse',\n    placeholder: t('e.g. compute_wh'),\n    className: 'form-group-w-50',\n  },\n  role: {\n    label: 'Role',\n    placeholder: t('e.g. AccountAdmin'),\n    className: 'form-group-w-50',\n  },\n};\n\nexport const validatedInputField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n  field,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id={field}\n    name={field}\n    required={required}\n    value={db?.parameters?.[field]}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.[field]}\n    placeholder={FIELD_TEXT_MAP[field].placeholder}\n    helpText={FIELD_TEXT_MAP[field].helpText}\n    label={FIELD_TEXT_MAP[field].label || field}\n    onChange={changeMethods.onParametersChange}\n    className={FIELD_TEXT_MAP[field].className || field}\n  />\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState } from 'react';\nimport { SupersetTheme, t } from '@superset-ui/core';\nimport { Button, AntdSelect } from 'src/components';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport FormLabel from 'src/components/Form/FormLabel';\nimport Icons from 'src/components/Icons';\nimport { FieldPropTypes } from '../../types';\nimport { infoTooltip, labelMarginBottom, CredentialInfoForm } from '../styles';\n\nenum CredentialInfoOptions {\n  JsonUpload,\n  CopyPaste,\n}\n\n// These are the columns that are going to be added to encrypted extra, they differ in name based\n// on the engine, however we want to use the same component for each of them. Make sure to add the\n// the engine specific name here.\nexport const encryptedCredentialsMap = {\n  gsheets: 'service_account_info',\n  bigquery: 'credentials_info',\n};\n\nconst castStringToBoolean = (optionValue: string) => optionValue === 'true';\n\nexport const EncryptedField = ({\n  changeMethods,\n  isEditMode,\n  db,\n  editNewDb,\n}: FieldPropTypes) => {\n  const [uploadOption, setUploadOption] = useState<number>(\n    CredentialInfoOptions.JsonUpload.valueOf(),\n  );\n  const [fileToUpload, setFileToUpload] = useState<string | null | undefined>(\n    null,\n  );\n  const [isPublic, setIsPublic] = useState<boolean>(true);\n  const showCredentialsInfo =\n    db?.engine === 'gsheets' ? !isEditMode && !isPublic : !isEditMode;\n  const isEncrypted = isEditMode && db?.masked_encrypted_extra !== '{}';\n  const encryptedField = db?.engine && encryptedCredentialsMap[db.engine];\n  const encryptedValue =\n    typeof db?.parameters?.[encryptedField] === 'object'\n      ? JSON.stringify(db?.parameters?.[encryptedField])\n      : db?.parameters?.[encryptedField];\n  return (\n    <CredentialInfoForm>\n      {db?.engine === 'gsheets' && (\n        <div className=\"catalog-type-select\">\n          <FormLabel\n            css={(theme: SupersetTheme) => labelMarginBottom(theme)}\n            required\n          >\n            {t('Type of Google Sheets allowed')}\n          </FormLabel>\n          <AntdSelect\n            style={{ width: '100%' }}\n            defaultValue={isEncrypted ? 'false' : 'true'}\n            onChange={(value: string) =>\n              setIsPublic(castStringToBoolean(value))\n            }\n          >\n            <AntdSelect.Option value=\"true\" key={1}>\n              {t('Publicly shared sheets only')}\n            </AntdSelect.Option>\n            <AntdSelect.Option value=\"false\" key={2}>\n              {t('Public and privately shared sheets')}\n            </AntdSelect.Option>\n          </AntdSelect>\n        </div>\n      )}\n      {showCredentialsInfo && (\n        <>\n          <FormLabel required>\n            {t('How do you want to enter service account credentials?')}\n          </FormLabel>\n          <AntdSelect\n            defaultValue={uploadOption}\n            style={{ width: '100%' }}\n            onChange={option => setUploadOption(option)}\n          >\n            <AntdSelect.Option value={CredentialInfoOptions.JsonUpload}>\n              {t('Upload JSON file')}\n            </AntdSelect.Option>\n\n            <AntdSelect.Option value={CredentialInfoOptions.CopyPaste}>\n              {t('Copy and Paste JSON credentials')}\n            </AntdSelect.Option>\n          </AntdSelect>\n        </>\n      )}\n      {uploadOption === CredentialInfoOptions.CopyPaste ||\n      isEditMode ||\n      editNewDb ? (\n        <div className=\"input-container\">\n          <FormLabel required>{t('Service Account')}</FormLabel>\n          <textarea\n            className=\"input-form\"\n            name={encryptedField}\n            value={encryptedValue}\n            onChange={changeMethods.onParametersChange}\n            placeholder={t(\n              'Paste content of service credentials JSON file here',\n            )}\n          />\n          <span className=\"label-paste\">\n            {t('Copy and paste the entire service account .json file here')}\n          </span>\n        </div>\n      ) : (\n        showCredentialsInfo && (\n          <div\n            className=\"input-container\"\n            css={(theme: SupersetTheme) => infoTooltip(theme)}\n          >\n            <div css={{ display: 'flex', alignItems: 'center' }}>\n              <FormLabel required>{t('Upload Credentials')}</FormLabel>\n              <InfoTooltip\n                tooltip={t(\n                  'Use the JSON file you automatically downloaded when creating your service account.',\n                )}\n                viewBox=\"0 0 24 24\"\n              />\n            </div>\n\n            {!fileToUpload && (\n              <Button\n                className=\"input-upload-btn\"\n                onClick={() =>\n                  document?.getElementById('selectedFile')?.click()\n                }\n              >\n                {t('Choose File')}\n              </Button>\n            )}\n            {fileToUpload && (\n              <div className=\"input-upload-current\">\n                {fileToUpload}\n                <Icons.DeleteFilled\n                  iconSize=\"m\"\n                  onClick={() => {\n                    setFileToUpload(null);\n                    changeMethods.onParametersChange({\n                      target: {\n                        name: encryptedField,\n                        value: '',\n                      },\n                    });\n                  }}\n                />\n              </div>\n            )}\n\n            <input\n              id=\"selectedFile\"\n              accept=\".json\"\n              className=\"input-upload\"\n              type=\"file\"\n              onChange={async event => {\n                let file;\n                if (event.target.files) {\n                  file = event.target.files[0];\n                }\n                setFileToUpload(file?.name);\n                changeMethods.onParametersChange({\n                  target: {\n                    type: null,\n                    name: encryptedField,\n                    value: await file?.text(),\n                    checked: false,\n                  },\n                });\n                (\n                  document.getElementById('selectedFile') as HTMLInputElement\n                ).value = null as any;\n              }}\n            />\n          </div>\n        )\n      )}\n    </CredentialInfoForm>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useState } from 'react';\nimport {\n  t,\n  SupersetTheme,\n  isFeatureEnabled,\n  FeatureFlag,\n} from '@superset-ui/core';\nimport { AntdSwitch } from 'src/components';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport { isEmpty } from 'lodash';\nimport { infoTooltip, toggleStyle } from './styles';\nimport { SwitchProps } from '../types';\n\nconst SSHTunnelSwitch = ({\n  clearValidationErrors,\n  changeMethods,\n  db,\n  dbModel,\n}: SwitchProps) => {\n  const [isChecked, setChecked] = useState(false);\n  const sshTunnelEnabled = isFeatureEnabled(FeatureFlag.SshTunneling);\n  const disableSSHTunnelingForEngine =\n    dbModel?.engine_information?.disable_ssh_tunneling || false;\n  const isSSHTunnelEnabled = sshTunnelEnabled && !disableSSHTunnelingForEngine;\n\n  const handleOnChange = (changed: boolean) => {\n    setChecked(changed);\n    changeMethods.onParametersChange({\n      target: {\n        type: 'toggle',\n        name: 'ssh',\n        checked: true,\n        value: changed,\n      },\n    });\n    clearValidationErrors();\n  };\n\n  useEffect(() => {\n    if (isSSHTunnelEnabled && db?.parameters?.ssh !== undefined) {\n      setChecked(db.parameters.ssh);\n    }\n  }, [db?.parameters?.ssh, isSSHTunnelEnabled]);\n\n  useEffect(() => {\n    if (\n      isSSHTunnelEnabled &&\n      db?.parameters?.ssh === undefined &&\n      !isEmpty(db?.ssh_tunnel)\n    ) {\n      // reflecting the state of the ssh tunnel on first load\n      changeMethods.onParametersChange({\n        target: {\n          type: 'toggle',\n          name: 'ssh',\n          checked: true,\n          value: true,\n        },\n      });\n    }\n  }, [changeMethods, db?.parameters?.ssh, db?.ssh_tunnel, isSSHTunnelEnabled]);\n\n  return isSSHTunnelEnabled ? (\n    <div css={(theme: SupersetTheme) => infoTooltip(theme)}>\n      <AntdSwitch\n        checked={isChecked}\n        onChange={handleOnChange}\n        data-test=\"ssh-tunnel-switch\"\n      />\n      <span css={toggleStyle}>{t('SSH Tunnel')}</span>\n      <InfoTooltip\n        tooltip={t('SSH Tunnel configuration parameters')}\n        placement=\"right\"\n        viewBox=\"0 -5 24 24\"\n      />\n    </div>\n  ) : null;\n};\n\nexport default SSHTunnelSwitch;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getExtensionsRegistry } from '@superset-ui/core';\nimport {\n  accessTokenField,\n  databaseField,\n  defaultCatalogField,\n  defaultSchemaField,\n  displayField,\n  forceSSLField,\n  hostField,\n  httpPath,\n  httpPathField,\n  passwordField,\n  portField,\n  queryField,\n  usernameField,\n} from './CommonParameters';\nimport { OAuth2ClientField } from './OAuth2ClientField';\nimport { validatedInputField } from './ValidatedInputField';\nimport { EncryptedField } from './EncryptedField';\nimport { TableCatalog } from './TableCatalog';\nimport SSHTunnelSwitch from '../SSHTunnelSwitch';\n\nexport const FormFieldOrder = [\n  'host',\n  'port',\n  'database',\n  'default_catalog',\n  'default_schema',\n  'username',\n  'password',\n  'access_token',\n  'http_path',\n  'http_path_field',\n  'database_name',\n  'credentials_info',\n  'service_account_info',\n  'catalog',\n  'query',\n  'encryption',\n  'account',\n  'warehouse',\n  'role',\n  'ssh',\n  'oauth2_client',\n];\n\nconst extensionsRegistry = getExtensionsRegistry();\n\nconst SSHTunnelSwitchComponent =\n  extensionsRegistry.get('ssh_tunnel.form.switch') ?? SSHTunnelSwitch;\n\nexport const FORM_FIELD_MAP = {\n  host: hostField,\n  http_path: httpPath,\n  http_path_field: httpPathField,\n  port: portField,\n  database: databaseField,\n  default_catalog: defaultCatalogField,\n  default_schema: defaultSchemaField,\n  username: usernameField,\n  password: passwordField,\n  oauth2_client: OAuth2ClientField,\n  access_token: accessTokenField,\n  database_name: displayField,\n  query: queryField,\n  encryption: forceSSLField,\n  credentials_info: EncryptedField,\n  service_account_info: EncryptedField,\n  catalog: TableCatalog,\n  warehouse: validatedInputField,\n  role: validatedInputField,\n  account: validatedInputField,\n  ssh: SSHTunnelSwitchComponent,\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { SupersetTheme, t } from '@superset-ui/core';\nimport { AntdSwitch } from 'src/components';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport ValidatedInput from 'src/components/Form/LabeledErrorBoundInput';\nimport { FieldPropTypes } from '../../types';\nimport { toggleStyle, infoTooltip } from '../styles';\n\nexport const hostField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"host\"\n    name=\"host\"\n    value={db?.parameters?.host}\n    required={required}\n    hasTooltip\n    tooltipText={t(\n      'This can be either an IP address (e.g. 127.0.0.1) or a domain name (e.g. mydatabase.com).',\n    )}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.host}\n    placeholder={t('e.g. 127.0.0.1')}\n    className=\"form-group-w-50\"\n    label={t('Host')}\n    onChange={changeMethods.onParametersChange}\n  />\n);\n\nexport const portField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <>\n    <ValidatedInput\n      id=\"port\"\n      name=\"port\"\n      type=\"number\"\n      required={required}\n      value={db?.parameters?.port as number}\n      validationMethods={{ onBlur: getValidation }}\n      errorMessage={validationErrors?.port}\n      placeholder={t('e.g. 5432')}\n      className=\"form-group-w-50\"\n      label={t('Port')}\n      onChange={changeMethods.onParametersChange}\n    />\n  </>\n);\nexport const httpPath = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => {\n  const extraJson = JSON.parse(db?.extra || '{}');\n  return (\n    <ValidatedInput\n      id=\"http_path\"\n      name=\"http_path\"\n      required={required}\n      value={extraJson.engine_params?.connect_args?.http_path}\n      validationMethods={{ onBlur: getValidation }}\n      errorMessage={validationErrors?.http_path}\n      placeholder={t('e.g. sql/protocolv1/o/12345')}\n      label=\"HTTP Path\"\n      onChange={changeMethods.onExtraInputChange}\n      helpText={t('Copy the name of the HTTP Path of your cluster.')}\n    />\n  );\n};\nexport const databaseField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  placeholder,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"database\"\n    name=\"database\"\n    required={required}\n    value={db?.parameters?.database}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.database}\n    placeholder={placeholder ?? t('e.g. world_population')}\n    label={t('Database name')}\n    onChange={changeMethods.onParametersChange}\n    helpText={t('Copy the name of the database you are trying to connect to.')}\n  />\n);\nexport const defaultCatalogField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"default_catalog\"\n    name=\"default_catalog\"\n    required={required}\n    value={db?.parameters?.default_catalog}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.default_catalog}\n    placeholder={t('e.g. hive_metastore')}\n    label={t('Default Catalog')}\n    onChange={changeMethods.onParametersChange}\n    helpText={t('The default catalog that should be used for the connection.')}\n  />\n);\nexport const defaultSchemaField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"default_schema\"\n    name=\"default_schema\"\n    required={required}\n    value={db?.parameters?.default_schema}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.default_schema}\n    placeholder={t('e.g. default')}\n    label={t('Default Schema')}\n    onChange={changeMethods.onParametersChange}\n    helpText={t('The default schema that should be used for the connection.')}\n  />\n);\nexport const httpPathField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"http_path_field\"\n    name=\"http_path_field\"\n    required={required}\n    value={db?.parameters?.http_path_field}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.http_path}\n    placeholder={t('e.g. sql/protocolv1/o/12345')}\n    label=\"HTTP Path\"\n    onChange={changeMethods.onParametersChange}\n    helpText={t('Copy the name of the HTTP Path of your cluster.')}\n  />\n);\nexport const usernameField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"username\"\n    name=\"username\"\n    required={required}\n    value={db?.parameters?.username}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.username}\n    placeholder={t('e.g. Analytics')}\n    label={t('Username')}\n    onChange={changeMethods.onParametersChange}\n  />\n);\nexport const passwordField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n  isEditMode,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"password\"\n    name=\"password\"\n    required={required}\n    visibilityToggle={!isEditMode}\n    value={db?.parameters?.password}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.password}\n    placeholder={t('e.g. ********')}\n    label={t('Password')}\n    onChange={changeMethods.onParametersChange}\n  />\n);\nexport const accessTokenField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n  isEditMode,\n  default_value,\n  description,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"access_token\"\n    name=\"access_token\"\n    required={required}\n    visibilityToggle={!isEditMode}\n    value={db?.parameters?.access_token}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.access_token}\n    placeholder={t('Paste your access token here')}\n    get_url={\n      typeof default_value === 'string' && default_value.includes('https://')\n        ? default_value\n        : null\n    }\n    description={description}\n    label={t('Access token')}\n    onChange={changeMethods.onParametersChange}\n  />\n);\nexport const displayField = ({\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <>\n    <ValidatedInput\n      id=\"database_name\"\n      name=\"database_name\"\n      required\n      value={db?.database_name}\n      validationMethods={{ onBlur: getValidation }}\n      errorMessage={validationErrors?.database_name}\n      placeholder=\"\"\n      label={t('Display Name')}\n      onChange={changeMethods.onChange}\n      helpText={t(\n        'Pick a nickname for how the database will display in Superset.',\n      )}\n    />\n  </>\n);\n\nexport const queryField = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => (\n  <ValidatedInput\n    id=\"query_input\"\n    name=\"query_input\"\n    required={required}\n    value={db?.query_input || ''}\n    validationMethods={{ onBlur: getValidation }}\n    errorMessage={validationErrors?.query}\n    placeholder={t('e.g. param1=value1&param2=value2')}\n    label={t('Additional Parameters')}\n    onChange={changeMethods.onQueryChange}\n    helpText={t('Add additional custom parameters')}\n  />\n);\n\nexport const forceSSLField = ({\n  isEditMode,\n  changeMethods,\n  db,\n  sslForced,\n}: FieldPropTypes) => (\n  <div css={(theme: SupersetTheme) => infoTooltip(theme)}>\n    <AntdSwitch\n      disabled={sslForced && !isEditMode}\n      checked={db?.parameters?.encryption || sslForced}\n      onChange={changed => {\n        changeMethods.onParametersChange({\n          target: {\n            type: 'toggle',\n            name: 'encryption',\n            checked: true,\n            value: changed,\n          },\n        });\n      }}\n    />\n    <span css={toggleStyle}>SSL</span>\n    <InfoTooltip\n      tooltip={t('SSL Mode \"require\" will be used.')}\n      placement=\"right\"\n      viewBox=\"0 -5 24 24\"\n    />\n  </div>\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { css, SupersetTheme, t } from '@superset-ui/core';\nimport ValidatedInput from 'src/components/Form/LabeledErrorBoundInput';\nimport FormLabel from 'src/components/Form/FormLabel';\nimport Icons from 'src/components/Icons';\nimport { StyledFooterButton, StyledCatalogTable } from '../styles';\nimport { CatalogObject, FieldPropTypes } from '../../types';\n\nexport const TableCatalog = ({\n  required,\n  changeMethods,\n  getValidation,\n  validationErrors,\n  db,\n}: FieldPropTypes) => {\n  const tableCatalog = db?.catalog || [];\n  const catalogError = validationErrors || {};\n  return (\n    <StyledCatalogTable>\n      <h4 className=\"gsheet-title\">\n        {t('Connect Google Sheets as tables to this database')}\n      </h4>\n      <div>\n        {tableCatalog?.map((sheet: CatalogObject, idx: number) => (\n          <>\n            <FormLabel className=\"catalog-label\" required>\n              {t('Google Sheet Name and URL')}\n            </FormLabel>\n            <div className=\"catalog-name\">\n              <ValidatedInput\n                className=\"catalog-name-input\"\n                required={required}\n                validationMethods={{ onBlur: getValidation }}\n                errorMessage={catalogError[idx]?.name}\n                placeholder={t('Enter a name for this sheet')}\n                onChange={(e: { target: { value: any } }) => {\n                  changeMethods.onParametersChange({\n                    target: {\n                      type: `catalog-${idx}`,\n                      name: 'name',\n                      value: e.target.value,\n                    },\n                  });\n                }}\n                value={sheet.name}\n              />\n              {tableCatalog?.length > 1 && (\n                <Icons.CloseOutlined\n                  css={(theme: SupersetTheme) => css`\n                    align-self: center;\n                    background: ${theme.colors.grayscale.light4};\n                    margin: 5px 5px 8px 5px;\n\n                    &.anticon > * {\n                      line-height: 0;\n                    }\n                  `}\n                  iconSize=\"m\"\n                  onClick={() => changeMethods.onRemoveTableCatalog(idx)}\n                />\n              )}\n            </div>\n            <ValidatedInput\n              className=\"catalog-name-url\"\n              required={required}\n              validationMethods={{ onBlur: getValidation }}\n              errorMessage={catalogError[idx]?.url}\n              placeholder={t('Paste the shareable Google Sheet URL here')}\n              onChange={(e: { target: { value: any } }) =>\n                changeMethods.onParametersChange({\n                  target: {\n                    type: `catalog-${idx}`,\n                    name: 'value',\n                    value: e.target.value,\n                  },\n                })\n              }\n              value={sheet.value}\n            />\n          </>\n        ))}\n        <StyledFooterButton\n          className=\"catalog-add-btn\"\n          onClick={() => {\n            changeMethods.onAddTableCatalog();\n          }}\n        >\n          + {t('Add sheet')}\n        </StyledFooterButton>\n      </div>\n    </StyledCatalogTable>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { SupersetTheme } from '@superset-ui/core';\nimport { Form } from 'src/components/Form';\nimport { FormFieldOrder, FORM_FIELD_MAP } from './constants';\nimport { formScrollableStyles, validatedFormStyles } from '../styles';\nimport { DatabaseConnectionFormProps } from '../../types';\n\nconst DatabaseConnectionForm = ({\n  dbModel,\n  db,\n  editNewDb,\n  getPlaceholder,\n  getValidation,\n  isEditMode = false,\n  onAddTableCatalog,\n  onChange,\n  onExtraInputChange,\n  onEncryptedExtraInputChange,\n  onParametersChange,\n  onParametersUploadFileChange,\n  onQueryChange,\n  onRemoveTableCatalog,\n  sslForced,\n  validationErrors,\n  clearValidationErrors,\n}: DatabaseConnectionFormProps) => {\n  const parameters = dbModel?.parameters as {\n    properties: {\n      [key: string]: {\n        default?: any;\n        description?: string;\n      };\n    };\n    required?: string[];\n  };\n\n  return (\n    <Form>\n      <div\n        // @ts-ignore\n        css={(theme: SupersetTheme) => [\n          formScrollableStyles,\n          validatedFormStyles(theme),\n        ]}\n      >\n        {parameters &&\n          FormFieldOrder.filter(\n            (key: string) =>\n              Object.keys(parameters.properties).includes(key) ||\n              key === 'database_name',\n          ).map(field =>\n            FORM_FIELD_MAP[field]({\n              required: parameters.required?.includes(field),\n              changeMethods: {\n                onParametersChange,\n                onChange,\n                onQueryChange,\n                onParametersUploadFileChange,\n                onAddTableCatalog,\n                onRemoveTableCatalog,\n                onExtraInputChange,\n                onEncryptedExtraInputChange,\n              },\n              validationErrors,\n              getValidation,\n              clearValidationErrors,\n              db,\n              key: field,\n              field,\n              default_value: parameters.properties[field]?.default,\n              description: parameters.properties[field]?.description,\n              isEditMode,\n              sslForced,\n              editNewDb,\n              placeholder: getPlaceholder ? getPlaceholder(field) : undefined,\n            }),\n          )}\n      </div>\n    </Form>\n  );\n};\nexport const FormFieldMap = FORM_FIELD_MAP;\n\nexport default DatabaseConnectionForm;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { getDatabaseDocumentationLinks } from 'src/views/CRUD/hooks';\nimport { UploadFile } from 'antd/lib/upload/interface';\nimport { t } from '@superset-ui/core';\nimport {\n  EditHeaderTitle,\n  EditHeaderSubtitle,\n  StyledFormHeader,\n  StyledStickyHeader,\n} from './styles';\nimport { DatabaseForm, DatabaseObject } from '../types';\n\nconst supersetTextDocs = getDatabaseDocumentationLinks();\n\nexport const DOCUMENTATION_LINK = supersetTextDocs\n  ? supersetTextDocs.support\n  : 'https://superset.apache.org/docs/configuration/databases#installing-database-drivers';\n\nconst irregularDocumentationLinks = {\n  postgresql: 'https://superset.apache.org',\n  mssql: 'https://superset.apache.org/docs/databases/sql-server',\n  gsheets: 'https://superset.apache.org/docs/databases/google-sheets',\n};\n\nconst documentationLink = (engine: string | undefined) => {\n  if (!engine) return null;\n\n  if (supersetTextDocs) {\n    // override doc link for superset_txt yml\n    return supersetTextDocs[engine] || supersetTextDocs.default;\n  }\n\n  if (!irregularDocumentationLinks[engine]) {\n    return `https://superset.apache.org/docs/databases/${engine}`;\n  }\n  return irregularDocumentationLinks[engine];\n};\n\nconst ModalHeader = ({\n  isLoading,\n  isEditMode,\n  useSqlAlchemyForm,\n  hasConnectedDb,\n  db,\n  dbName,\n  dbModel,\n  editNewDb,\n  fileList,\n}: {\n  isLoading: boolean;\n  isEditMode: boolean;\n  useSqlAlchemyForm: boolean;\n  hasConnectedDb: boolean;\n  db: Partial<DatabaseObject> | null;\n  dbName: string;\n  dbModel: DatabaseForm;\n  editNewDb?: boolean;\n  fileList?: UploadFile[];\n  passwordFields?: string[];\n  needsOverwriteConfirm?: boolean;\n}) => {\n  const fileCheck = fileList && fileList?.length > 0;\n\n  const isEditHeader = (\n    <StyledFormHeader>\n      <EditHeaderTitle>{db?.backend}</EditHeaderTitle>\n      <EditHeaderSubtitle>{dbName}</EditHeaderSubtitle>\n    </StyledFormHeader>\n  );\n\n  const useSqlAlchemyFormHeader = (\n    <StyledFormHeader>\n      <p className=\"helper-top\">\n        {t('STEP %(stepCurr)s OF %(stepLast)s', {\n          stepCurr: 2,\n          stepLast: 2,\n        })}\n      </p>\n      <h4>{t('Enter Primary Credentials')}</h4>\n      <p className=\"helper-bottom\">\n        {t('Need help? Learn how to connect your database')}{' '}\n        <a\n          href={supersetTextDocs?.default || DOCUMENTATION_LINK}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {t('here')}\n        </a>\n        .\n      </p>\n    </StyledFormHeader>\n  );\n\n  const hasConnectedDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 3,\n            stepLast: 3,\n          })}\n        </p>\n        <h4 className=\"step-3-text\">{t('Database connected')}</h4>\n        <p className=\"subheader-text\">\n          {t(`Create a dataset to begin visualizing your data as a chart or go to\n          SQL Lab to query your data.`)}\n        </p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  const hasDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 2,\n            stepLast: 3,\n          })}\n        </p>\n        <h4>\n          {t('Enter the required %(dbModelName)s credentials', {\n            dbModelName: dbModel.name,\n          })}\n        </h4>\n        <p className=\"helper-bottom\">\n          {t('Need help? Learn more about')}{' '}\n          <a\n            href={documentationLink(db?.engine)}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {t('connecting to %(dbModelName)s', { dbModelName: dbModel.name })}.\n          </a>\n        </p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  const noDbHeader = (\n    <StyledFormHeader>\n      <div className=\"select-db\">\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 1,\n            stepLast: 3,\n          })}\n        </p>\n        <h4>{t('Select a database to connect')}</h4>\n      </div>\n    </StyledFormHeader>\n  );\n\n  const importDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 2,\n            stepLast: 2,\n          })}\n        </p>\n        <h4>\n          {t('Enter the required %(dbModelName)s credentials', {\n            dbModelName: dbModel.name,\n          })}\n        </h4>\n        <p className=\"helper-bottom\">{fileCheck ? fileList[0].name : ''}</p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  if (fileCheck) return importDbHeader;\n  if (isLoading) return <></>;\n  if (isEditMode) return isEditHeader;\n  if (useSqlAlchemyForm) return useSqlAlchemyFormHeader;\n  if (hasConnectedDb && !editNewDb) return hasConnectedDbHeader;\n  if (db || editNewDb) return hasDbHeader;\n\n  return noDbHeader;\n};\n\nexport default ModalHeader;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState } from 'react';\nimport { t, styled } from '@superset-ui/core';\nimport { AntdForm, Col, Row } from 'src/components';\nimport { Form, FormLabel } from 'src/components/Form';\nimport { Radio } from 'src/components/Radio';\nimport { Input, TextArea } from 'src/components/Input';\nimport { Input as AntdInput, Tooltip } from 'antd';\nimport { EyeInvisibleOutlined, EyeOutlined } from '@ant-design/icons';\nimport { DatabaseObject, FieldPropTypes } from '../types';\nimport { AuthType } from '.';\n\nconst StyledDiv = styled.div`\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\n  label {\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n`;\n\nconst StyledRow = styled(Row)`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nconst StyledFormItem = styled(AntdForm.Item)`\n  margin-bottom: 0 !important;\n`;\n\nconst StyledInputPassword = styled(AntdInput.Password)`\n  margin: ${({ theme }) => `${theme.gridUnit}px 0 ${theme.gridUnit * 2}px`};\n`;\n\nconst SSHTunnelForm = ({\n  db,\n  onSSHTunnelParametersChange,\n  setSSHTunnelLoginMethod,\n}: {\n  db: DatabaseObject | null;\n  onSSHTunnelParametersChange: FieldPropTypes['changeMethods']['onSSHTunnelParametersChange'];\n  setSSHTunnelLoginMethod: (method: AuthType) => void;\n}) => {\n  const [usePassword, setUsePassword] = useState<AuthType>(AuthType.Password);\n\n  return (\n    <Form>\n      <StyledRow gutter={16}>\n        <Col xs={24} md={12}>\n          <StyledDiv>\n            <FormLabel htmlFor=\"server_address\" required>\n              {t('SSH Host')}\n            </FormLabel>\n            <Input\n              name=\"server_address\"\n              type=\"text\"\n              placeholder={t('e.g. 127.0.0.1')}\n              value={db?.ssh_tunnel?.server_address || ''}\n              onChange={onSSHTunnelParametersChange}\n              data-test=\"ssh-tunnel-server_address-input\"\n            />\n          </StyledDiv>\n        </Col>\n        <Col xs={24} md={12}>\n          <StyledDiv>\n            <FormLabel htmlFor=\"server_port\" required>\n              {t('SSH Port')}\n            </FormLabel>\n            <Input\n              name=\"server_port\"\n              placeholder={t('22')}\n              type=\"number\"\n              value={db?.ssh_tunnel?.server_port}\n              onChange={onSSHTunnelParametersChange}\n              data-test=\"ssh-tunnel-server_port-input\"\n            />\n          </StyledDiv>\n        </Col>\n      </StyledRow>\n      <StyledRow gutter={16}>\n        <Col xs={24}>\n          <StyledDiv>\n            <FormLabel htmlFor=\"username\" required>\n              {t('Username')}\n            </FormLabel>\n            <Input\n              name=\"username\"\n              type=\"text\"\n              placeholder={t('e.g. Analytics')}\n              value={db?.ssh_tunnel?.username || ''}\n              onChange={onSSHTunnelParametersChange}\n              data-test=\"ssh-tunnel-username-input\"\n            />\n          </StyledDiv>\n        </Col>\n      </StyledRow>\n      <StyledRow gutter={16}>\n        <Col xs={24}>\n          <StyledDiv>\n            <FormLabel htmlFor=\"use_password\" required>\n              {t('Login with')}\n            </FormLabel>\n            <StyledFormItem name=\"use_password\" initialValue={usePassword}>\n              <Radio.Group\n                onChange={({ target: { value } }) => {\n                  setUsePassword(value);\n                  setSSHTunnelLoginMethod(value);\n                }}\n              >\n                <Radio\n                  value={AuthType.Password}\n                  data-test=\"ssh-tunnel-use_password-radio\"\n                >\n                  {t('Password')}\n                </Radio>\n                <Radio\n                  value={AuthType.PrivateKey}\n                  data-test=\"ssh-tunnel-use_private_key-radio\"\n                >\n                  {t('Private Key & Password')}\n                </Radio>\n              </Radio.Group>\n            </StyledFormItem>\n          </StyledDiv>\n        </Col>\n      </StyledRow>\n      {usePassword === AuthType.Password && (\n        <StyledRow gutter={16}>\n          <Col xs={24}>\n            <StyledDiv>\n              <FormLabel htmlFor=\"password\" required>\n                {t('SSH Password')}\n              </FormLabel>\n              <StyledInputPassword\n                name=\"password\"\n                placeholder={t('e.g. ********')}\n                value={db?.ssh_tunnel?.password || ''}\n                onChange={onSSHTunnelParametersChange}\n                data-test=\"ssh-tunnel-password-input\"\n                iconRender={visible =>\n                  visible ? (\n                    <Tooltip title=\"Hide password.\">\n                      <EyeInvisibleOutlined />\n                    </Tooltip>\n                  ) : (\n                    <Tooltip title=\"Show password.\">\n                      <EyeOutlined />\n                    </Tooltip>\n                  )\n                }\n                role=\"textbox\"\n              />\n            </StyledDiv>\n          </Col>\n        </StyledRow>\n      )}\n      {usePassword === AuthType.PrivateKey && (\n        <>\n          <StyledRow gutter={16}>\n            <Col xs={24}>\n              <StyledDiv>\n                <FormLabel htmlFor=\"private_key\" required>\n                  {t('Private Key')}\n                </FormLabel>\n                <TextArea\n                  name=\"private_key\"\n                  placeholder={t('Paste Private Key here')}\n                  value={db?.ssh_tunnel?.private_key || ''}\n                  onChange={onSSHTunnelParametersChange}\n                  data-test=\"ssh-tunnel-private_key-input\"\n                  rows={4}\n                />\n              </StyledDiv>\n            </Col>\n          </StyledRow>\n          <StyledRow gutter={16}>\n            <Col xs={24}>\n              <StyledDiv>\n                <FormLabel htmlFor=\"private_key_password\" required>\n                  {t('Private Key Password')}\n                </FormLabel>\n                <StyledInputPassword\n                  name=\"private_key_password\"\n                  placeholder={t('e.g. ********')}\n                  value={db?.ssh_tunnel?.private_key_password || ''}\n                  onChange={onSSHTunnelParametersChange}\n                  data-test=\"ssh-tunnel-private_key_password-input\"\n                  iconRender={visible =>\n                    visible ? (\n                      <Tooltip title=\"Hide password.\">\n                        <EyeInvisibleOutlined />\n                      </Tooltip>\n                    ) : (\n                      <Tooltip title=\"Show password.\">\n                        <EyeOutlined />\n                      </Tooltip>\n                    )\n                  }\n                  role=\"textbox\"\n                />\n              </StyledDiv>\n            </Col>\n          </StyledRow>\n        </>\n      )}\n    </Form>\n  );\n};\nexport default SSHTunnelForm;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  t,\n  styled,\n  SupersetTheme,\n  getExtensionsRegistry,\n} from '@superset-ui/core';\n\nimport {\n  FunctionComponent,\n  useEffect,\n  useRef,\n  useState,\n  useReducer,\n  Reducer,\n  useCallback,\n  ChangeEvent,\n} from 'react';\n\nimport { useHistory } from 'react-router-dom';\nimport { setItem, LocalStorageKeys } from 'src/utils/localStorageHelpers';\nimport { UploadChangeParam, UploadFile } from 'antd/lib/upload/interface';\nimport Tabs from 'src/components/Tabs';\nimport { AntdSelect, Upload } from 'src/components';\nimport Alert from 'src/components/Alert';\nimport Modal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport IconButton from 'src/components/IconButton';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport ValidatedInput from 'src/components/Form/LabeledErrorBoundInput';\nimport ErrorMessageWithStackTrace from 'src/components/ErrorMessage/ErrorMessageWithStackTrace';\nimport ErrorAlert from 'src/components/ImportModal/ErrorAlert';\nimport {\n  testDatabaseConnection,\n  useSingleViewResource,\n  useAvailableDatabases,\n  useDatabaseValidation,\n  getDatabaseImages,\n  getConnectionAlert,\n  useImportResource,\n} from 'src/views/CRUD/hooks';\nimport { useCommonConf } from 'src/features/databases/state';\nimport Loading from 'src/components/Loading';\nimport { isEmpty, pick } from 'lodash';\nimport {\n  DatabaseObject,\n  DatabaseForm,\n  ConfigurationMethod,\n  CatalogObject,\n  Engines,\n  ExtraJson,\n  CustomTextType,\n} from '../types';\nimport ExtraOptions from './ExtraOptions';\nimport SqlAlchemyForm from './SqlAlchemyForm';\nimport DatabaseConnectionForm from './DatabaseConnectionForm';\nimport {\n  antDAlertStyles,\n  antdWarningAlertStyles,\n  StyledAlertMargin,\n  antDModalNoPaddingStyles,\n  antDModalStyles,\n  antDTabsStyles,\n  buttonLinkStyles,\n  importDbButtonLinkStyles,\n  alchemyButtonLinkStyles,\n  TabHeader,\n  formHelperStyles,\n  formStyles,\n  StyledAlignment,\n  SelectDatabaseStyles,\n  infoTooltip,\n  StyledFooterButton,\n  StyledStickyHeader,\n  formScrollableStyles,\n  StyledUploadWrapper,\n} from './styles';\nimport ModalHeader, { DOCUMENTATION_LINK } from './ModalHeader';\nimport SSHTunnelForm from './SSHTunnelForm';\nimport SSHTunnelSwitch from './SSHTunnelSwitch';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\nconst DEFAULT_EXTRA = JSON.stringify({ allows_virtual_table_explore: true });\n\nconst engineSpecificAlertMapping = {\n  [Engines.GSheet]: {\n    message: 'Why do I need to create a database?',\n    description:\n      'To begin using your Google Sheets, you need to create a database first. ' +\n      'Databases are used as a way to identify ' +\n      'your data so that it can be queried and visualized. This ' +\n      'database will hold all of your individual Google Sheets ' +\n      'you choose to connect here.',\n  },\n};\n\nconst TabsStyled = styled(Tabs)`\n  .ant-tabs-content {\n    display: flex;\n    width: 100%;\n    overflow: inherit;\n\n    & > .ant-tabs-tabpane {\n      position: relative;\n    }\n  }\n`;\n\nconst ErrorAlertContainer = styled.div`\n  ${({ theme }) => `\n    margin: ${theme.gridUnit * 8}px ${theme.gridUnit * 4}px;\n  `};\n`;\n\nconst SSHTunnelContainer = styled.div`\n  ${({ theme }) => `\n    padding: 0px ${theme.gridUnit * 4}px;\n  `};\n`;\n\ninterface DatabaseModalProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  onDatabaseAdd?: (database?: DatabaseObject) => void;\n  onHide: () => void;\n  show: boolean;\n  databaseId: number | undefined; // If included, will go into edit mode\n  dbEngine: string | undefined; // if included goto step 2 with engine already set\n}\n\nexport enum ActionType {\n  AddTableCatalogSheet,\n  ConfigMethodChange,\n  DbSelected,\n  EditorChange,\n  ExtraEditorChange,\n  ExtraInputChange,\n  EncryptedExtraInputChange,\n  Fetched,\n  InputChange,\n  ParametersChange,\n  QueryChange,\n  RemoveTableCatalogSheet,\n  Reset,\n  TextChange,\n  ParametersSSHTunnelChange,\n  SetSSHTunnelLoginMethod,\n  RemoveSSHTunnelConfig,\n}\n\nexport enum AuthType {\n  Password,\n  PrivateKey,\n}\n\ninterface DBReducerPayloadType {\n  target?: string;\n  name: string;\n  json?: string;\n  type?: string;\n  checked?: boolean;\n  value?: string;\n}\n\nexport type DBReducerActionType =\n  | {\n      type:\n        | ActionType.ExtraEditorChange\n        | ActionType.ExtraInputChange\n        | ActionType.EncryptedExtraInputChange\n        | ActionType.TextChange\n        | ActionType.QueryChange\n        | ActionType.InputChange\n        | ActionType.EditorChange\n        | ActionType.ParametersChange\n        | ActionType.ParametersSSHTunnelChange;\n      payload: DBReducerPayloadType;\n    }\n  | {\n      type: ActionType.Fetched;\n      payload: Partial<DatabaseObject>;\n    }\n  | {\n      type: ActionType.DbSelected;\n      payload: {\n        database_name?: string;\n        engine?: string;\n        configuration_method: ConfigurationMethod;\n        engine_information?: {};\n        driver?: string;\n        sqlalchemy_uri_placeholder?: string;\n      };\n    }\n  | {\n      type:\n        | ActionType.Reset\n        | ActionType.RemoveSSHTunnelConfig\n        | ActionType.AddTableCatalogSheet;\n    }\n  | {\n      type: ActionType.RemoveTableCatalogSheet;\n      payload: {\n        indexToDelete: number;\n      };\n    }\n  | {\n      type: ActionType.ConfigMethodChange;\n      payload: {\n        database_name?: string;\n        engine?: string;\n        configuration_method: ConfigurationMethod;\n      };\n    }\n  | {\n      type: ActionType.SetSSHTunnelLoginMethod;\n      payload: {\n        login_method: AuthType;\n      };\n    };\n\nconst StyledBtns = styled.div`\n  margin-bottom: ${({ theme }) => theme.gridUnit * 3}px;\n  margin-left: ${({ theme }) => theme.gridUnit * 3}px;\n`;\n\nexport function dbReducer(\n  state: Partial<DatabaseObject> | null,\n  action: DBReducerActionType,\n): Partial<DatabaseObject> | null {\n  const trimmedState = {\n    ...(state || {}),\n  };\n  let query = {};\n  let query_input = '';\n  let parametersCatalog;\n  let actionPayloadJson;\n  const extraJson: ExtraJson = JSON.parse(trimmedState.extra || '{}');\n\n  switch (action.type) {\n    case ActionType.ExtraEditorChange:\n      // \"extra\" payload in state is a string\n      try {\n        // we don't want to stringify encoded strings twice\n        actionPayloadJson = JSON.parse(action.payload.json || '{}');\n      } catch (e) {\n        actionPayloadJson = action.payload.json;\n      }\n      return {\n        ...trimmedState,\n        extra: JSON.stringify({\n          ...extraJson,\n          [action.payload.name]: actionPayloadJson,\n        }),\n      };\n    case ActionType.EncryptedExtraInputChange:\n      return {\n        ...trimmedState,\n        masked_encrypted_extra: JSON.stringify({\n          ...JSON.parse(trimmedState.masked_encrypted_extra || '{}'),\n          [action.payload.name]: action.payload.value,\n        }),\n      };\n    case ActionType.ExtraInputChange:\n      // \"extra\" payload in state is a string\n      if (\n        action.payload.name === 'schema_cache_timeout' ||\n        action.payload.name === 'table_cache_timeout'\n      ) {\n        return {\n          ...trimmedState,\n          extra: JSON.stringify({\n            ...extraJson,\n            metadata_cache_timeout: {\n              ...extraJson?.metadata_cache_timeout,\n              [action.payload.name]: action.payload.value,\n            },\n          }),\n        };\n      }\n      if (action.payload.name === 'schemas_allowed_for_file_upload') {\n        return {\n          ...trimmedState,\n          extra: JSON.stringify({\n            ...extraJson,\n            schemas_allowed_for_file_upload: (action.payload.value || '')\n              .split(',')\n              .filter(schema => schema !== ''),\n          }),\n        };\n      }\n      if (action.payload.name === 'http_path') {\n        return {\n          ...trimmedState,\n          extra: JSON.stringify({\n            ...extraJson,\n            engine_params: {\n              connect_args: {\n                [action.payload.name]: action.payload.value?.trim(),\n              },\n            },\n          }),\n        };\n      }\n      if (action.payload.name === 'expand_rows') {\n        return {\n          ...trimmedState,\n          extra: JSON.stringify({\n            ...extraJson,\n            schema_options: {\n              ...extraJson?.schema_options,\n              [action.payload.name]: !!action.payload.value,\n            },\n          }),\n        };\n      }\n      return {\n        ...trimmedState,\n        extra: JSON.stringify({\n          ...extraJson,\n          [action.payload.name]:\n            action.payload.type === 'checkbox'\n              ? action.payload.checked\n              : action.payload.value,\n        }),\n      };\n    case ActionType.InputChange:\n      if (action.payload.type === 'checkbox') {\n        return {\n          ...trimmedState,\n          [action.payload.name]: action.payload.checked,\n        };\n      }\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n      };\n    case ActionType.ParametersChange:\n      // catalog params will always have a catalog state for\n      // dbs that use a catalog, i.e., gsheets, even if the\n      // fields are empty strings\n      if (\n        action.payload.type?.startsWith('catalog') &&\n        trimmedState.catalog !== undefined\n      ) {\n        // Formatting wrapping google sheets table catalog\n        const catalogCopy: CatalogObject[] = [...trimmedState.catalog];\n        const idx = action.payload.type?.split('-')[1];\n        const catalogToUpdate: CatalogObject = catalogCopy[idx] || {};\n        catalogToUpdate[action.payload.name] = action.payload.value;\n\n        // insert updated catalog to existing state\n        catalogCopy.splice(parseInt(idx, 10), 1, catalogToUpdate);\n\n        // format catalog for state\n        // eslint-disable-next-line array-callback-return\n        parametersCatalog = catalogCopy.reduce((obj, item: any) => {\n          const catalog = { ...obj };\n          catalog[item.name] = item.value;\n          return catalog;\n        }, {});\n\n        return {\n          ...trimmedState,\n          catalog: catalogCopy,\n          parameters: {\n            ...trimmedState.parameters,\n            catalog: parametersCatalog,\n          },\n        };\n      }\n      return {\n        ...trimmedState,\n        parameters: {\n          ...trimmedState.parameters,\n          [action.payload.name]: action.payload.value,\n        },\n      };\n\n    case ActionType.ParametersSSHTunnelChange:\n      return {\n        ...trimmedState,\n        ssh_tunnel: {\n          ...trimmedState.ssh_tunnel,\n          [action.payload.name]: action.payload.value,\n        },\n      };\n    case ActionType.SetSSHTunnelLoginMethod: {\n      let ssh_tunnel = {};\n      if (trimmedState?.ssh_tunnel) {\n        // remove any attributes that are considered sensitive\n        ssh_tunnel = pick(trimmedState.ssh_tunnel, [\n          'id',\n          'server_address',\n          'server_port',\n          'username',\n        ]);\n      }\n      if (action.payload.login_method === AuthType.PrivateKey) {\n        return {\n          ...trimmedState,\n          ssh_tunnel: {\n            private_key: trimmedState?.ssh_tunnel?.private_key,\n            private_key_password:\n              trimmedState?.ssh_tunnel?.private_key_password,\n            ...ssh_tunnel,\n          },\n        };\n      }\n      if (action.payload.login_method === AuthType.Password) {\n        return {\n          ...trimmedState,\n          ssh_tunnel: {\n            password: trimmedState?.ssh_tunnel?.password,\n            ...ssh_tunnel,\n          },\n        };\n      }\n      return {\n        ...trimmedState,\n      };\n    }\n    case ActionType.RemoveSSHTunnelConfig:\n      return {\n        ...trimmedState,\n        ssh_tunnel: undefined,\n      };\n    case ActionType.AddTableCatalogSheet:\n      if (trimmedState.catalog !== undefined) {\n        return {\n          ...trimmedState,\n          catalog: [...trimmedState.catalog, { name: '', value: '' }],\n        };\n      }\n      return {\n        ...trimmedState,\n        catalog: [{ name: '', value: '' }],\n      };\n    case ActionType.RemoveTableCatalogSheet:\n      trimmedState.catalog?.splice(action.payload.indexToDelete, 1);\n      return {\n        ...trimmedState,\n      };\n    case ActionType.EditorChange:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.json,\n      };\n    case ActionType.QueryChange:\n      return {\n        ...trimmedState,\n        parameters: {\n          ...trimmedState.parameters,\n          query: Object.fromEntries(new URLSearchParams(action.payload.value)),\n        },\n        query_input: action.payload.value,\n      };\n    case ActionType.TextChange:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n      };\n    case ActionType.Fetched:\n      // convert query to a string and store in query_input\n      query = action.payload?.parameters?.query || {};\n      query_input = Object.entries(query)\n        .map(([key, value]) => `${key}=${value}`)\n        .join('&');\n\n      if (\n        action.payload.masked_encrypted_extra &&\n        action.payload.configuration_method === ConfigurationMethod.DynamicForm\n      ) {\n        // \"extra\" payload from the api is a string\n        const extraJsonPayload: ExtraJson = {\n          ...JSON.parse((action.payload.extra as string) || '{}'),\n        };\n\n        const payloadCatalog = extraJsonPayload.engine_params?.catalog;\n\n        const engineRootCatalog = Object.entries(payloadCatalog || {}).map(\n          ([name, value]: string[]) => ({ name, value }),\n        );\n\n        return {\n          ...action.payload,\n          engine: action.payload.backend || trimmedState.engine,\n          configuration_method: action.payload.configuration_method,\n          catalog: engineRootCatalog,\n          parameters: {\n            ...(action.payload.parameters || trimmedState.parameters),\n            catalog: payloadCatalog,\n          },\n          query_input,\n        };\n      }\n      return {\n        ...action.payload,\n        masked_encrypted_extra: action.payload.masked_encrypted_extra || '',\n        engine: action.payload.backend || trimmedState.engine,\n        configuration_method: action.payload.configuration_method,\n        parameters: action.payload.parameters || trimmedState.parameters,\n        ssh_tunnel: action.payload.ssh_tunnel || trimmedState.ssh_tunnel,\n        query_input,\n      };\n\n    case ActionType.DbSelected:\n      // set initial state for blank form\n      return {\n        ...action.payload,\n        extra: DEFAULT_EXTRA,\n        expose_in_sqllab: true,\n      };\n    case ActionType.ConfigMethodChange:\n      return {\n        ...action.payload,\n      };\n\n    case ActionType.Reset:\n    default:\n      return null;\n  }\n}\n\nconst DEFAULT_TAB_KEY = '1';\n\nconst DatabaseModal: FunctionComponent<DatabaseModalProps> = ({\n  addDangerToast,\n  addSuccessToast,\n  onDatabaseAdd,\n  onHide,\n  show,\n  databaseId,\n  dbEngine,\n}) => {\n  const [db, setDB] = useReducer<\n    Reducer<Partial<DatabaseObject> | null, DBReducerActionType>\n  >(dbReducer, null);\n  // Database fetch logic\n  const {\n    state: { loading: dbLoading, resource: dbFetched, error: dbErrors },\n    fetchResource,\n    createResource,\n    updateResource,\n    clearError,\n  } = useSingleViewResource<DatabaseObject>(\n    'database',\n    t('database'),\n    addDangerToast,\n    'connection',\n  );\n\n  const [tabKey, setTabKey] = useState<string>(DEFAULT_TAB_KEY);\n  const [availableDbs, getAvailableDbs] = useAvailableDatabases();\n  const [validationErrors, getValidation, setValidationErrors] =\n    useDatabaseValidation();\n  const [hasConnectedDb, setHasConnectedDb] = useState<boolean>(false);\n  const [showCTAbtns, setShowCTAbtns] = useState(false);\n  const [dbName, setDbName] = useState('');\n  const [editNewDb, setEditNewDb] = useState<boolean>(false);\n  const [isLoading, setLoading] = useState<boolean>(false);\n  const [testInProgress, setTestInProgress] = useState<boolean>(false);\n  const [passwords, setPasswords] = useState<Record<string, string>>({});\n  const [sshTunnelPasswords, setSSHTunnelPasswords] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeys, setSSHTunnelPrivateKeys] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeyPasswords, setSSHTunnelPrivateKeyPasswords] =\n    useState<Record<string, string>>({});\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState<boolean>(false);\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [importingModal, setImportingModal] = useState<boolean>(false);\n  const [importingErrorMessage, setImportingErrorMessage] = useState<string>();\n  const [passwordFields, setPasswordFields] = useState<string[]>([]);\n  const [sshTunnelPasswordFields, setSSHTunnelPasswordFields] = useState<\n    string[]\n  >([]);\n  const [sshTunnelPrivateKeyFields, setSSHTunnelPrivateKeyFields] = useState<\n    string[]\n  >([]);\n  const [\n    sshTunnelPrivateKeyPasswordFields,\n    setSSHTunnelPrivateKeyPasswordFields,\n  ] = useState<string[]>([]);\n  const [extraExtensionComponentState, setExtraExtensionComponentState] =\n    useState<object>({});\n\n  const SSHTunnelSwitchComponent =\n    extensionsRegistry.get('ssh_tunnel.form.switch') ?? SSHTunnelSwitch;\n\n  const [useSSHTunneling, setUseSSHTunneling] = useState<boolean | undefined>(\n    undefined,\n  );\n\n  let dbConfigExtraExtension = extensionsRegistry.get(\n    'databaseconnection.extraOption',\n  );\n\n  if (dbConfigExtraExtension) {\n    // add method for db modal to store data\n    dbConfigExtraExtension = {\n      ...dbConfigExtraExtension,\n      onEdit: componentState => {\n        setExtraExtensionComponentState({\n          ...extraExtensionComponentState,\n          ...componentState,\n        });\n      },\n    };\n  }\n\n  const conf = useCommonConf();\n  const dbImages = getDatabaseImages();\n  const connectionAlert = getConnectionAlert();\n  const isEditMode = !!databaseId;\n  const hasAlert =\n    connectionAlert || !!(db?.engine && engineSpecificAlertMapping[db.engine]);\n  const useSqlAlchemyForm =\n    db?.configuration_method === ConfigurationMethod.SqlalchemyUri;\n  const useTabLayout = isEditMode || useSqlAlchemyForm;\n  const isDynamic = (engine: string | undefined) =>\n    availableDbs?.databases?.find(\n      (DB: DatabaseObject) => DB.backend === engine || DB.engine === engine,\n    )?.parameters !== undefined;\n  const showDBError = validationErrors || dbErrors;\n  const history = useHistory();\n\n  const dbModel: DatabaseForm =\n    // TODO: we need a centralized engine in one place\n\n    // first try to match both engine and driver\n    availableDbs?.databases?.find(\n      (available: {\n        engine: string | undefined;\n        default_driver: string | undefined;\n      }) =>\n        available.engine === (isEditMode ? db?.backend : db?.engine) &&\n        available.default_driver === db?.driver,\n    ) ||\n    // alternatively try to match only engine\n    availableDbs?.databases?.find(\n      (available: { engine: string | undefined }) =>\n        available.engine === (isEditMode ? db?.backend : db?.engine),\n    ) ||\n    {};\n\n  // Test Connection logic\n  const testConnection = () => {\n    if (!db?.sqlalchemy_uri) {\n      addDangerToast(t('Please enter a SQLAlchemy URI to test'));\n      return;\n    }\n\n    const connection = {\n      sqlalchemy_uri: db?.sqlalchemy_uri || '',\n      database_name: db?.database_name?.trim() || undefined,\n      impersonate_user: db?.impersonate_user || undefined,\n      extra: db?.extra,\n      masked_encrypted_extra: db?.masked_encrypted_extra || '',\n      server_cert: db?.server_cert || undefined,\n      ssh_tunnel:\n        !isEmpty(db?.ssh_tunnel) && useSSHTunneling\n          ? {\n              ...db.ssh_tunnel,\n              server_port: Number(db.ssh_tunnel!.server_port),\n            }\n          : undefined,\n    };\n    setTestInProgress(true);\n    testDatabaseConnection(\n      connection,\n      (errorMsg: string) => {\n        setTestInProgress(false);\n        addDangerToast(errorMsg);\n      },\n      (errorMsg: string) => {\n        setTestInProgress(false);\n        addSuccessToast(errorMsg);\n      },\n    );\n  };\n\n  const getPlaceholder = (field: string) => {\n    if (field === 'database') {\n      return t('e.g. world_population');\n    }\n    return undefined;\n  };\n\n  const removeFile = (removedFile: UploadFile) => {\n    setFileList(fileList.filter(file => file.uid !== removedFile.uid));\n    return false;\n  };\n\n  const onChange = useCallback(\n    (\n      type: DBReducerActionType['type'],\n      payload: CustomTextType | DBReducerPayloadType,\n    ) => {\n      setDB({ type, payload } as DBReducerActionType);\n    },\n    [],\n  );\n\n  const handleClearValidationErrors = useCallback(() => {\n    setValidationErrors(null);\n  }, [setValidationErrors]);\n\n  const handleParametersChange = useCallback(\n    ({ target }: { target: HTMLInputElement }) => {\n      onChange(ActionType.ParametersChange, {\n        type: target.type,\n        name: target.name,\n        checked: target.checked,\n        value: target.value,\n      });\n    },\n    [onChange],\n  );\n\n  const onClose = () => {\n    setDB({ type: ActionType.Reset });\n    setHasConnectedDb(false);\n    handleClearValidationErrors(); // reset validation errors on close\n    clearError();\n    setEditNewDb(false);\n    setFileList([]);\n    setImportingModal(false);\n    setImportingErrorMessage('');\n    setPasswordFields([]);\n    setSSHTunnelPasswordFields([]);\n    setSSHTunnelPrivateKeyFields([]);\n    setSSHTunnelPrivateKeyPasswordFields([]);\n    setPasswords({});\n    setSSHTunnelPasswords({});\n    setSSHTunnelPrivateKeys({});\n    setSSHTunnelPrivateKeyPasswords({});\n    setConfirmedOverwrite(false);\n    setUseSSHTunneling(undefined);\n    onHide();\n  };\n\n  const redirectURL = (url: string) => {\n    history.push(url);\n  };\n\n  // Database import logic\n  const {\n    state: {\n      alreadyExists,\n      passwordsNeeded,\n      sshPasswordNeeded,\n      sshPrivateKeyNeeded,\n      sshPrivateKeyPasswordNeeded,\n      loading: importLoading,\n      failed: importErrored,\n    },\n    importResource,\n  } = useImportResource('database', t('database'), msg => {\n    setImportingErrorMessage(msg);\n  });\n\n  const onSave = async () => {\n    let dbConfigExtraExtensionOnSaveError;\n\n    setLoading(true);\n\n    dbConfigExtraExtension\n      ?.onSave(extraExtensionComponentState, db)\n      .then(({ error }: { error: any }) => {\n        if (error) {\n          dbConfigExtraExtensionOnSaveError = error;\n          addDangerToast(error);\n        }\n      });\n\n    if (dbConfigExtraExtensionOnSaveError) {\n      setLoading(false);\n      return;\n    }\n    // Clone DB object\n    const dbToUpdate = { ...(db || {}) };\n\n    if (dbToUpdate.configuration_method === ConfigurationMethod.DynamicForm) {\n      // Validate DB before saving\n      if (dbToUpdate?.parameters?.catalog) {\n        // need to stringify gsheets catalog to allow it to be serialized\n        dbToUpdate.extra = JSON.stringify({\n          ...JSON.parse(dbToUpdate.extra || '{}'),\n          engine_params: {\n            catalog: dbToUpdate.parameters.catalog,\n          },\n        });\n      }\n\n      const errors = await getValidation(dbToUpdate, true);\n      if (!isEmpty(validationErrors) || errors?.length) {\n        addDangerToast(\n          t('Connection failed, please check your connection settings.'),\n        );\n        setLoading(false);\n        return;\n      }\n\n      const parameters_schema = isEditMode\n        ? dbToUpdate.parameters_schema?.properties\n        : dbModel?.parameters.properties;\n      const additionalEncryptedExtra = JSON.parse(\n        dbToUpdate.masked_encrypted_extra || '{}',\n      );\n      const paramConfigArray = Object.keys(parameters_schema || {});\n\n      paramConfigArray.forEach(paramConfig => {\n        /*\n         * Parameters that are annotated with the `x-encrypted-extra` properties should be\n         * moved to `masked_encrypted_extra`, so that they are stored encrypted in the\n         * backend when the database is created or edited.\n         */\n        if (\n          parameters_schema[paramConfig]['x-encrypted-extra'] &&\n          dbToUpdate.parameters?.[paramConfig]\n        ) {\n          if (typeof dbToUpdate.parameters?.[paramConfig] === 'object') {\n            // add new encrypted extra to masked_encrypted_extra object\n            additionalEncryptedExtra[paramConfig] =\n              dbToUpdate.parameters?.[paramConfig];\n            // The backend expects `masked_encrypted_extra` as a string for historical\n            // reasons.\n            dbToUpdate.parameters[paramConfig] = JSON.stringify(\n              dbToUpdate.parameters[paramConfig],\n            );\n          } else {\n            additionalEncryptedExtra[paramConfig] = JSON.parse(\n              dbToUpdate.parameters?.[paramConfig] || '{}',\n            );\n          }\n        }\n      });\n      // cast the new encrypted extra object into a string\n      dbToUpdate.masked_encrypted_extra = JSON.stringify(\n        additionalEncryptedExtra,\n      );\n      // this needs to be added by default to gsheets\n      if (dbToUpdate.engine === Engines.GSheet) {\n        dbToUpdate.impersonate_user = true;\n      }\n    }\n\n    if (dbToUpdate?.parameters?.catalog) {\n      // need to stringify gsheets catalog to allow it to be serialized\n      dbToUpdate.extra = JSON.stringify({\n        ...JSON.parse(dbToUpdate.extra || '{}'),\n        engine_params: {\n          catalog: dbToUpdate.parameters.catalog,\n        },\n      });\n    }\n\n    // strictly checking for false as an indication that the toggle got unchecked\n    if (useSSHTunneling === false) {\n      // remove ssh tunnel\n      dbToUpdate.ssh_tunnel = null;\n    }\n\n    if (db?.id) {\n      const result = await updateResource(\n        db.id as number,\n        dbToUpdate as DatabaseObject,\n        dbToUpdate.configuration_method === ConfigurationMethod.DynamicForm, // onShow toast on SQLA Forms\n      );\n      if (result) {\n        if (onDatabaseAdd) onDatabaseAdd();\n        dbConfigExtraExtension\n          ?.onSave(extraExtensionComponentState, db)\n          .then(({ error }: { error: any }) => {\n            if (error) {\n              dbConfigExtraExtensionOnSaveError = error;\n              addDangerToast(error);\n            }\n          });\n        if (dbConfigExtraExtensionOnSaveError) {\n          setLoading(false);\n          return;\n        }\n        if (!editNewDb) {\n          onClose();\n          addSuccessToast(t('Database settings updated'));\n        }\n      }\n    } else if (db) {\n      // Create\n      const dbId = await createResource(\n        dbToUpdate as DatabaseObject,\n        dbToUpdate.configuration_method === ConfigurationMethod.DynamicForm, // onShow toast on SQLA Forms\n      );\n      if (dbId) {\n        setHasConnectedDb(true);\n        if (onDatabaseAdd) onDatabaseAdd();\n        dbConfigExtraExtension\n          ?.onSave(extraExtensionComponentState, db)\n          .then(({ error }: { error: any }) => {\n            if (error) {\n              dbConfigExtraExtensionOnSaveError = error;\n              addDangerToast(error);\n            }\n          });\n        if (dbConfigExtraExtensionOnSaveError) {\n          setLoading(false);\n          return;\n        }\n\n        if (useTabLayout) {\n          // tab layout only has one step\n          // so it should close immediately on save\n          onClose();\n          addSuccessToast(t('Database connected'));\n        }\n      }\n    } else {\n      // Import - doesn't use db state\n      setImportingModal(true);\n\n      if (!(fileList[0].originFileObj instanceof File)) {\n        return;\n      }\n\n      const dbId = await importResource(\n        fileList[0].originFileObj,\n        passwords,\n        sshTunnelPasswords,\n        sshTunnelPrivateKeys,\n        sshTunnelPrivateKeyPasswords,\n        confirmedOverwrite,\n      );\n      if (dbId) {\n        if (onDatabaseAdd) onDatabaseAdd();\n        onClose();\n        addSuccessToast(t('Database connected'));\n      }\n    }\n\n    setShowCTAbtns(true);\n    setEditNewDb(false);\n    setLoading(false);\n  };\n\n  // Initialize\n  const fetchDB = () => {\n    if (isEditMode && databaseId) {\n      if (!dbLoading) {\n        fetchResource(databaseId).catch(e =>\n          addDangerToast(\n            t(\n              'Sorry there was an error fetching database information: %s',\n              e.message,\n            ),\n          ),\n        );\n      }\n    }\n  };\n\n  const setDatabaseModel = (database_name: string) => {\n    if (database_name === 'Other') {\n      // Allow users to connect to DB via legacy SQLA form\n      setDB({\n        type: ActionType.DbSelected,\n        payload: {\n          database_name,\n          configuration_method: ConfigurationMethod.SqlalchemyUri,\n          engine: undefined,\n          engine_information: {\n            supports_file_upload: true,\n          },\n        },\n      });\n    } else {\n      const selectedDbModel = availableDbs?.databases.filter(\n        (db: DatabaseObject) => db.name === database_name,\n      )[0];\n      const {\n        engine,\n        parameters,\n        engine_information,\n        default_driver,\n        sqlalchemy_uri_placeholder,\n      } = selectedDbModel;\n      const isDynamic = parameters !== undefined;\n      setDB({\n        type: ActionType.DbSelected,\n        payload: {\n          database_name,\n          engine,\n          configuration_method: isDynamic\n            ? ConfigurationMethod.DynamicForm\n            : ConfigurationMethod.SqlalchemyUri,\n          engine_information,\n          driver: default_driver,\n          sqlalchemy_uri_placeholder,\n        },\n      });\n\n      if (engine === Engines.GSheet) {\n        // only create a catalog if the DB is Google Sheets\n        setDB({ type: ActionType.AddTableCatalogSheet });\n      }\n    }\n  };\n\n  const renderAvailableSelector = () => (\n    <div className=\"available\">\n      <h4 className=\"available-label\">\n        {t('Or choose from a list of other databases we support:')}\n      </h4>\n      <div className=\"control-label\">{t('Supported databases')}</div>\n      <AntdSelect\n        className=\"available-select\"\n        onChange={setDatabaseModel}\n        placeholder={t('Choose a database...')}\n        showSearch\n      >\n        {[...(availableDbs?.databases || [])]\n          ?.sort((a: DatabaseForm, b: DatabaseForm) =>\n            a.name.localeCompare(b.name),\n          )\n          .map((database: DatabaseForm, index: number) => (\n            <AntdSelect.Option value={database.name} key={`database-${index}`}>\n              {database.name}\n            </AntdSelect.Option>\n          ))}\n        {/* Allow users to connect to DB via legacy SQLA form */}\n        <AntdSelect.Option value=\"Other\" key=\"Other\">\n          {t('Other')}\n        </AntdSelect.Option>\n      </AntdSelect>\n      <Alert\n        showIcon\n        closable={false}\n        css={(theme: SupersetTheme) => antDAlertStyles(theme)}\n        type=\"info\"\n        message={\n          connectionAlert?.ADD_DATABASE?.message ||\n          t('Want to add a new database?')\n        }\n        description={\n          connectionAlert?.ADD_DATABASE ? (\n            <>\n              {t(\n                'Any databases that allow connections via SQL Alchemy URIs can be added. ',\n              )}\n              <a\n                href={connectionAlert?.ADD_DATABASE.contact_link}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {connectionAlert?.ADD_DATABASE.contact_description_link}\n              </a>{' '}\n              {connectionAlert?.ADD_DATABASE.description}\n            </>\n          ) : (\n            <>\n              {t(\n                'Any databases that allow connections via SQL Alchemy URIs can be added. Learn about how to connect a database driver ',\n              )}\n              <a\n                href={DOCUMENTATION_LINK}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {t('here')}\n              </a>\n              .\n            </>\n          )\n        }\n      />\n    </div>\n  );\n\n  const renderPreferredSelector = () => (\n    <div className=\"preferred\">\n      {availableDbs?.databases\n        ?.filter((db: DatabaseForm) => db.preferred)\n        .map((database: DatabaseForm) => (\n          <IconButton\n            className=\"preferred-item\"\n            onClick={() => setDatabaseModel(database.name)}\n            buttonText={database.name}\n            icon={dbImages?.[database.engine]}\n            key={`${database.name}`}\n          />\n        ))}\n    </div>\n  );\n\n  const handleBackButtonOnFinish = () => {\n    if (dbFetched) {\n      fetchResource(dbFetched.id as number);\n    }\n    setShowCTAbtns(false);\n    setEditNewDb(true);\n  };\n\n  const handleBackButtonOnConnect = () => {\n    if (editNewDb) setHasConnectedDb(false);\n    if (importingModal) setImportingModal(false);\n    if (importErrored) {\n      setImportingModal(false);\n      setImportingErrorMessage('');\n      setPasswordFields([]);\n      setSSHTunnelPasswordFields([]);\n      setSSHTunnelPrivateKeyFields([]);\n      setSSHTunnelPrivateKeyPasswordFields([]);\n      setPasswords({});\n      setSSHTunnelPasswords({});\n      setSSHTunnelPrivateKeys({});\n      setSSHTunnelPrivateKeyPasswords({});\n    }\n    setDB({ type: ActionType.Reset });\n    setFileList([]);\n  };\n\n  const handleDisableOnImport = () => {\n    if (\n      importLoading ||\n      (alreadyExists.length && !confirmedOverwrite) ||\n      (passwordsNeeded.length && JSON.stringify(passwords) === '{}') ||\n      (sshPasswordNeeded.length &&\n        JSON.stringify(sshTunnelPasswords) === '{}') ||\n      (sshPrivateKeyNeeded.length &&\n        JSON.stringify(sshTunnelPrivateKeys) === '{}') ||\n      (sshPrivateKeyPasswordNeeded.length &&\n        JSON.stringify(sshTunnelPrivateKeyPasswords) === '{}')\n    )\n      return true;\n    return false;\n  };\n\n  const renderModalFooter = () => {\n    if (db) {\n      // if db show back + connect\n      if (!hasConnectedDb || editNewDb) {\n        return (\n          <>\n            <StyledFooterButton key=\"back\" onClick={handleBackButtonOnConnect}>\n              {t('Back')}\n            </StyledFooterButton>\n            <StyledFooterButton\n              key=\"submit\"\n              buttonStyle=\"primary\"\n              onClick={onSave}\n              loading={isLoading}\n            >\n              {t('Connect')}\n            </StyledFooterButton>\n          </>\n        );\n      }\n\n      return (\n        <>\n          <StyledFooterButton key=\"back\" onClick={handleBackButtonOnFinish}>\n            {t('Back')}\n          </StyledFooterButton>\n          <StyledFooterButton\n            key=\"submit\"\n            buttonStyle=\"primary\"\n            onClick={onSave}\n            data-test=\"modal-confirm-button\"\n            loading={isLoading}\n          >\n            {t('Finish')}\n          </StyledFooterButton>\n        </>\n      );\n    }\n\n    // Import doesn't use db state, so footer will not render in the if statement above\n    if (importingModal) {\n      return (\n        <>\n          <StyledFooterButton key=\"back\" onClick={handleBackButtonOnConnect}>\n            {t('Back')}\n          </StyledFooterButton>\n          <StyledFooterButton\n            key=\"submit\"\n            buttonStyle=\"primary\"\n            onClick={onSave}\n            disabled={handleDisableOnImport()}\n            loading={isLoading}\n          >\n            {t('Connect')}\n          </StyledFooterButton>\n        </>\n      );\n    }\n\n    return <></>;\n  };\n\n  const renderEditModalFooter = (db: Partial<DatabaseObject> | null) => (\n    <>\n      <StyledFooterButton key=\"close\" onClick={onClose}>\n        {t('Close')}\n      </StyledFooterButton>\n      <StyledFooterButton\n        key=\"submit\"\n        buttonStyle=\"primary\"\n        onClick={onSave}\n        disabled={db?.is_managed_externally}\n        loading={isLoading}\n        tooltip={\n          db?.is_managed_externally\n            ? t(\n                \"This database is managed externally, and can't be edited in Superset\",\n              )\n            : ''\n        }\n      >\n        {t('Finish')}\n      </StyledFooterButton>\n    </>\n  );\n\n  const firstUpdate = useRef(true); // Captures first render\n  // Only runs when importing files don't need user input\n  useEffect(() => {\n    // Will not run on first render\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n\n    if (\n      !importLoading &&\n      !alreadyExists.length &&\n      !passwordsNeeded.length &&\n      !sshPasswordNeeded.length &&\n      !sshPrivateKeyNeeded.length &&\n      !sshPrivateKeyPasswordNeeded.length &&\n      !isLoading && // This prevents a double toast for non-related imports\n      !importErrored // This prevents a success toast on error\n    ) {\n      onClose();\n      addSuccessToast(t('Database connected'));\n    }\n  }, [\n    alreadyExists,\n    passwordsNeeded,\n    importLoading,\n    importErrored,\n    sshPasswordNeeded,\n    sshPrivateKeyNeeded,\n    sshPrivateKeyPasswordNeeded,\n  ]);\n\n  useEffect(() => {\n    if (show) {\n      setTabKey(DEFAULT_TAB_KEY);\n      setLoading(true);\n      getAvailableDbs();\n    }\n    if (databaseId && show) {\n      fetchDB();\n    }\n  }, [show, databaseId]);\n\n  useEffect(() => {\n    if (dbFetched) {\n      setDB({\n        type: ActionType.Fetched,\n        payload: dbFetched,\n      });\n      // keep a copy of the name separate for display purposes\n      // because it shouldn't change when the form is updated\n      setDbName(dbFetched.database_name);\n    }\n  }, [dbFetched]);\n\n  useEffect(() => {\n    if (isLoading) {\n      setLoading(false);\n    }\n\n    if (availableDbs && dbEngine) {\n      // set model if passed into props\n      setDatabaseModel(dbEngine);\n    }\n  }, [availableDbs]);\n\n  // This forces the modal to scroll until the importing filename is in view\n  useEffect(() => {\n    if (importingModal) {\n      document\n        .getElementsByClassName('ant-upload-list-item-name')[0]\n        .scrollIntoView();\n    }\n  }, [importingModal]);\n\n  useEffect(() => {\n    setPasswordFields([...passwordsNeeded]);\n  }, [passwordsNeeded]);\n\n  useEffect(() => {\n    setSSHTunnelPasswordFields([...sshPasswordNeeded]);\n  }, [sshPasswordNeeded]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyFields([...sshPrivateKeyNeeded]);\n  }, [sshPrivateKeyNeeded]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyPasswordFields([...sshPrivateKeyPasswordNeeded]);\n  }, [sshPrivateKeyPasswordNeeded]);\n\n  useEffect(() => {\n    if (db?.parameters?.ssh !== undefined) {\n      setUseSSHTunneling(db.parameters.ssh);\n    }\n  }, [db?.parameters?.ssh]);\n\n  const onDbImport = async (info: UploadChangeParam) => {\n    setImportingErrorMessage('');\n    setPasswordFields([]);\n    setSSHTunnelPasswordFields([]);\n    setSSHTunnelPrivateKeyFields([]);\n    setSSHTunnelPrivateKeyPasswordFields([]);\n    setPasswords({});\n    setSSHTunnelPasswords({});\n    setSSHTunnelPrivateKeys({});\n    setSSHTunnelPrivateKeyPasswords({});\n    setImportingModal(true);\n    setFileList([\n      {\n        ...info.file,\n        status: 'done',\n      },\n    ]);\n\n    if (!(info.file.originFileObj instanceof File)) return;\n    const dbId = await importResource(\n      info.file.originFileObj,\n      passwords,\n      sshTunnelPasswords,\n      sshTunnelPrivateKeys,\n      sshTunnelPrivateKeyPasswords,\n      confirmedOverwrite,\n    );\n    if (dbId) onDatabaseAdd?.();\n  };\n\n  const passwordNeededField = () => {\n    if (\n      !passwordFields.length &&\n      !sshTunnelPasswordFields.length &&\n      !sshTunnelPrivateKeyFields.length &&\n      !sshTunnelPrivateKeyPasswordFields.length\n    )\n      return null;\n\n    const files = [\n      ...new Set([\n        ...passwordFields,\n        ...sshTunnelPasswordFields,\n        ...sshTunnelPrivateKeyFields,\n        ...sshTunnelPrivateKeyPasswordFields,\n      ]),\n    ];\n\n    return files.map(database => (\n      <>\n        <StyledAlertMargin>\n          <Alert\n            closable={false}\n            css={(theme: SupersetTheme) => antDAlertStyles(theme)}\n            type=\"info\"\n            showIcon\n            message=\"Database passwords\"\n            description={t(\n              `The passwords for the databases below are needed in order to import them. Please note that the \"Secure Extra\" and \"Certificate\" sections of the database configuration are not present in explore files and should be added manually after the import if they are needed.`,\n            )}\n          />\n        </StyledAlertMargin>\n        {passwordFields?.indexOf(database) >= 0 && (\n          <ValidatedInput\n            id=\"password_needed\"\n            name=\"password_needed\"\n            required\n            value={passwords[database]}\n            onChange={(event: ChangeEvent<HTMLInputElement>) =>\n              setPasswords({ ...passwords, [database]: event.target.value })\n            }\n            validationMethods={{ onBlur: () => {} }}\n            errorMessage={validationErrors?.password_needed}\n            label={t('%s PASSWORD', database.slice(10))}\n            css={formScrollableStyles}\n          />\n        )}\n        {sshTunnelPasswordFields?.indexOf(database) >= 0 && (\n          <ValidatedInput\n            id=\"ssh_tunnel_password_needed\"\n            name=\"ssh_tunnel_password_needed\"\n            required\n            value={sshTunnelPasswords[database]}\n            onChange={(event: ChangeEvent<HTMLInputElement>) =>\n              setSSHTunnelPasswords({\n                ...sshTunnelPasswords,\n                [database]: event.target.value,\n              })\n            }\n            validationMethods={{ onBlur: () => {} }}\n            errorMessage={validationErrors?.ssh_tunnel_password_needed}\n            label={t('%s SSH TUNNEL PASSWORD', database.slice(10))}\n            css={formScrollableStyles}\n          />\n        )}\n        {sshTunnelPrivateKeyFields?.indexOf(database) >= 0 && (\n          <ValidatedInput\n            id=\"ssh_tunnel_private_key_needed\"\n            name=\"ssh_tunnel_private_key_needed\"\n            required\n            value={sshTunnelPrivateKeys[database]}\n            onChange={(event: ChangeEvent<HTMLInputElement>) =>\n              setSSHTunnelPrivateKeys({\n                ...sshTunnelPrivateKeys,\n                [database]: event.target.value,\n              })\n            }\n            validationMethods={{ onBlur: () => {} }}\n            errorMessage={validationErrors?.ssh_tunnel_private_key_needed}\n            label={t('%s SSH TUNNEL PRIVATE KEY', database.slice(10))}\n            css={formScrollableStyles}\n          />\n        )}\n        {sshTunnelPrivateKeyPasswordFields?.indexOf(database) >= 0 && (\n          <ValidatedInput\n            id=\"ssh_tunnel_private_key_password_needed\"\n            name=\"ssh_tunnel_private_key_password_needed\"\n            required\n            value={sshTunnelPrivateKeyPasswords[database]}\n            onChange={(event: ChangeEvent<HTMLInputElement>) =>\n              setSSHTunnelPrivateKeyPasswords({\n                ...sshTunnelPrivateKeyPasswords,\n                [database]: event.target.value,\n              })\n            }\n            validationMethods={{ onBlur: () => {} }}\n            errorMessage={\n              validationErrors?.ssh_tunnel_private_key_password_needed\n            }\n            label={t('%s SSH TUNNEL PRIVATE KEY PASSWORD', database.slice(10))}\n            css={formScrollableStyles}\n          />\n        )}\n      </>\n    ));\n  };\n\n  const importingErrorAlert = () => {\n    if (!importingErrorMessage) return null;\n\n    return (\n      <StyledAlertMargin>\n        <ErrorAlert\n          errorMessage={importingErrorMessage}\n          showDbInstallInstructions={passwordFields.length > 0}\n        />\n      </StyledAlertMargin>\n    );\n  };\n\n  const confirmOverwrite = (event: ChangeEvent<HTMLInputElement>) => {\n    const targetValue = (event.currentTarget?.value as string) ?? '';\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\n  };\n\n  const confirmOverwriteField = () => {\n    if (!alreadyExists.length) return null;\n\n    return (\n      <>\n        <StyledAlertMargin>\n          <Alert\n            closable={false}\n            css={(theme: SupersetTheme) => antdWarningAlertStyles(theme)}\n            type=\"warning\"\n            showIcon\n            message=\"\"\n            description={t(\n              'You are importing one or more databases that already exist. Overwriting might cause you to lose some of your work. Are you sure you want to overwrite?',\n            )}\n          />\n        </StyledAlertMargin>\n        <ValidatedInput\n          id=\"confirm_overwrite\"\n          name=\"confirm_overwrite\"\n          required\n          validationMethods={{ onBlur: () => {} }}\n          errorMessage={validationErrors?.confirm_overwrite}\n          label={t('Type \"%s\" to confirm', t('OVERWRITE'))}\n          onChange={confirmOverwrite}\n          css={formScrollableStyles}\n        />\n      </>\n    );\n  };\n\n  const tabChange = (key: string) => setTabKey(key);\n\n  const renderStepTwoAlert = () => {\n    const { hostname } = window.location;\n    let ipAlert = connectionAlert?.REGIONAL_IPS?.default || '';\n    const regionalIPs = connectionAlert?.REGIONAL_IPS || {};\n    Object.entries(regionalIPs).forEach(([ipRegion, ipRange]) => {\n      const regex = new RegExp(ipRegion);\n      if (hostname.match(regex)) ipAlert = ipRange;\n    });\n    return (\n      db?.engine && (\n        <StyledAlertMargin>\n          <Alert\n            closable={false}\n            css={(theme: SupersetTheme) => antDAlertStyles(theme)}\n            type=\"info\"\n            showIcon\n            message={\n              engineSpecificAlertMapping[db.engine]?.message ||\n              connectionAlert?.DEFAULT?.message\n            }\n            description={\n              engineSpecificAlertMapping[db.engine]?.description ||\n              connectionAlert?.DEFAULT?.description + ipAlert\n            }\n          />\n        </StyledAlertMargin>\n      )\n    );\n  };\n\n  // eslint-disable-next-line consistent-return\n  const errorAlert = () => {\n    let alertErrors: string[] = [];\n    if (!isEmpty(dbErrors)) {\n      alertErrors =\n        typeof dbErrors === 'object'\n          ? Object.values(dbErrors)\n          : typeof dbErrors === 'string'\n            ? [dbErrors]\n            : [];\n    } else if (\n      !isEmpty(validationErrors) &&\n      validationErrors?.error_type === 'GENERIC_DB_ENGINE_ERROR'\n    ) {\n      alertErrors = [\n        validationErrors?.description || validationErrors?.message,\n      ];\n    }\n    if (alertErrors.length) {\n      return (\n        <ErrorAlertContainer>\n          <ErrorMessageWithStackTrace\n            title={t('Database Creation Error')}\n            description={t(\n              'We are unable to connect to your database. Click \"See more\" for database-provided information that may help troubleshoot the issue.',\n            )}\n            subtitle={alertErrors?.[0] || validationErrors?.description}\n            copyText={validationErrors?.description}\n          />\n        </ErrorAlertContainer>\n      );\n    }\n    return <></>;\n  };\n\n  const fetchAndSetDB = () => {\n    setLoading(true);\n    fetchResource(dbFetched?.id as number).then(r => {\n      setItem(LocalStorageKeys.Database, r);\n    });\n  };\n\n  const renderSSHTunnelForm = () => (\n    <SSHTunnelForm\n      db={db as DatabaseObject}\n      onSSHTunnelParametersChange={({ target }) => {\n        onChange(ActionType.ParametersSSHTunnelChange, {\n          type: target.type,\n          name: target.name,\n          value: target.value,\n        });\n        handleClearValidationErrors();\n      }}\n      setSSHTunnelLoginMethod={(method: AuthType) =>\n        setDB({\n          type: ActionType.SetSSHTunnelLoginMethod,\n          payload: { login_method: method },\n        })\n      }\n    />\n  );\n\n  const renderCTABtns = () => (\n    <StyledBtns>\n      <Button\n        buttonStyle=\"secondary\"\n        onClick={() => {\n          setLoading(true);\n          fetchAndSetDB();\n          redirectURL('/dataset/add/');\n        }}\n      >\n        {t('CREATE DATASET')}\n      </Button>\n      <Button\n        buttonStyle=\"secondary\"\n        onClick={() => {\n          setLoading(true);\n          fetchAndSetDB();\n          redirectURL(`/sqllab?db=true`);\n        }}\n      >\n        {t('QUERY DATA IN SQL LAB')}\n      </Button>\n    </StyledBtns>\n  );\n\n  const renderDatabaseConnectionForm = () => (\n    <>\n      <DatabaseConnectionForm\n        isEditMode={isEditMode}\n        db={db as DatabaseObject}\n        sslForced={false}\n        dbModel={dbModel}\n        onAddTableCatalog={() => {\n          setDB({ type: ActionType.AddTableCatalogSheet });\n        }}\n        onQueryChange={({ target }: { target: HTMLInputElement }) =>\n          onChange(ActionType.QueryChange, {\n            name: target.name,\n            value: target.value,\n          })\n        }\n        onExtraInputChange={({ target }: { target: HTMLInputElement }) =>\n          onChange(ActionType.ExtraInputChange, {\n            name: target.name,\n            value: target.value,\n          })\n        }\n        onEncryptedExtraInputChange={({\n          target,\n        }: {\n          target: HTMLInputElement;\n        }) =>\n          onChange(ActionType.EncryptedExtraInputChange, {\n            name: target.name,\n            value: target.value,\n          })\n        }\n        onRemoveTableCatalog={(idx: number) => {\n          setDB({\n            type: ActionType.RemoveTableCatalogSheet,\n            payload: { indexToDelete: idx },\n          });\n        }}\n        onParametersChange={handleParametersChange}\n        onChange={({ target }: { target: HTMLInputElement }) =>\n          onChange(ActionType.TextChange, {\n            name: target.name,\n            value: target.value,\n          })\n        }\n        getValidation={() => getValidation(db)}\n        validationErrors={validationErrors}\n        getPlaceholder={getPlaceholder}\n        clearValidationErrors={handleClearValidationErrors}\n      />\n      {useSSHTunneling && (\n        <SSHTunnelContainer>{renderSSHTunnelForm()}</SSHTunnelContainer>\n      )}\n    </>\n  );\n\n  const renderFinishState = () => {\n    if (!editNewDb) {\n      return (\n        <ExtraOptions\n          extraExtension={dbConfigExtraExtension}\n          db={db as DatabaseObject}\n          onInputChange={({ target }: { target: HTMLInputElement }) =>\n            onChange(ActionType.InputChange, {\n              type: target.type,\n              name: target.name,\n              checked: target.checked,\n              value: target.value,\n            })\n          }\n          onTextChange={({ target }: { target: HTMLTextAreaElement }) =>\n            onChange(ActionType.TextChange, {\n              name: target.name,\n              value: target.value,\n            })\n          }\n          onEditorChange={(payload: { name: string; json: any }) =>\n            onChange(ActionType.EditorChange, payload)\n          }\n          onExtraInputChange={({ target }: { target: HTMLInputElement }) => {\n            onChange(ActionType.ExtraInputChange, {\n              type: target.type,\n              name: target.name,\n              checked: target.checked,\n              value: target.value,\n            });\n          }}\n          onExtraEditorChange={(payload: { name: string; json: any }) =>\n            onChange(ActionType.ExtraEditorChange, payload)\n          }\n        />\n      );\n    }\n    return renderDatabaseConnectionForm();\n  };\n\n  if (\n    fileList.length > 0 &&\n    (alreadyExists.length ||\n      passwordFields.length ||\n      sshTunnelPasswordFields.length ||\n      sshTunnelPrivateKeyFields.length ||\n      sshTunnelPrivateKeyPasswordFields.length)\n  ) {\n    return (\n      <Modal\n        centered\n        css={(theme: SupersetTheme) => [\n          antDModalNoPaddingStyles,\n          antDModalStyles(theme),\n          formHelperStyles(theme),\n          formStyles(theme),\n        ]}\n        footer={renderModalFooter()}\n        maskClosable={false}\n        name=\"database\"\n        onHide={onClose}\n        onHandledPrimaryAction={onSave}\n        primaryButtonName={t('Connect')}\n        show={show}\n        title={<h4>{t('Connect a database')}</h4>}\n        width=\"500px\"\n      >\n        <ModalHeader\n          db={db}\n          dbName={dbName}\n          dbModel={dbModel}\n          fileList={fileList}\n          hasConnectedDb={hasConnectedDb}\n          isEditMode={isEditMode}\n          isLoading={isLoading}\n          useSqlAlchemyForm={useSqlAlchemyForm}\n        />\n        {confirmOverwriteField()}\n        {importingErrorAlert()}\n        {passwordNeededField()}\n      </Modal>\n    );\n  }\n  const modalFooter = isEditMode\n    ? renderEditModalFooter(db)\n    : renderModalFooter();\n  return useTabLayout ? (\n    <Modal\n      css={(theme: SupersetTheme) => [\n        antDTabsStyles,\n        antDModalNoPaddingStyles,\n        antDModalStyles(theme),\n        formHelperStyles(theme),\n        formStyles(theme),\n      ]}\n      name=\"database\"\n      data-test=\"database-modal\"\n      onHandledPrimaryAction={onSave}\n      onHide={onClose}\n      primaryButtonName={isEditMode ? t('Save') : t('Connect')}\n      width=\"500px\"\n      centered\n      show={show}\n      title={\n        <h4>{isEditMode ? t('Edit database') : t('Connect a database')}</h4>\n      }\n      footer={modalFooter}\n      maskClosable={false}\n    >\n      <StyledStickyHeader>\n        <TabHeader>\n          <ModalHeader\n            isLoading={isLoading}\n            isEditMode={isEditMode}\n            useSqlAlchemyForm={useSqlAlchemyForm}\n            hasConnectedDb={hasConnectedDb}\n            db={db}\n            dbName={dbName}\n            dbModel={dbModel}\n          />\n        </TabHeader>\n      </StyledStickyHeader>\n      <TabsStyled\n        defaultActiveKey={DEFAULT_TAB_KEY}\n        activeKey={tabKey}\n        onTabClick={tabChange}\n        animated={{ inkBar: true, tabPane: true }}\n      >\n        <Tabs.TabPane tab={<span>{t('Basic')}</span>} key=\"1\">\n          {useSqlAlchemyForm ? (\n            <StyledAlignment>\n              <SqlAlchemyForm\n                db={db as DatabaseObject}\n                onInputChange={({ target }: { target: HTMLInputElement }) =>\n                  onChange(ActionType.InputChange, {\n                    type: target.type,\n                    name: target.name,\n                    checked: target.checked,\n                    value: target.value,\n                  })\n                }\n                conf={conf}\n                testConnection={testConnection}\n                testInProgress={testInProgress}\n              >\n                <SSHTunnelSwitchComponent\n                  dbModel={dbModel}\n                  db={db as DatabaseObject}\n                  changeMethods={{\n                    onParametersChange: handleParametersChange,\n                  }}\n                  clearValidationErrors={handleClearValidationErrors}\n                />\n                {useSSHTunneling && renderSSHTunnelForm()}\n              </SqlAlchemyForm>\n              {isDynamic(db?.backend || db?.engine) && !isEditMode && (\n                <div css={(theme: SupersetTheme) => infoTooltip(theme)}>\n                  <Button\n                    buttonStyle=\"link\"\n                    onClick={() =>\n                      setDB({\n                        type: ActionType.ConfigMethodChange,\n                        payload: {\n                          database_name: db?.database_name,\n                          configuration_method: ConfigurationMethod.DynamicForm,\n                          engine: db?.engine,\n                        },\n                      })\n                    }\n                    css={theme => alchemyButtonLinkStyles(theme)}\n                  >\n                    {t('Connect this database using the dynamic form instead')}\n                  </Button>\n                  <InfoTooltip\n                    tooltip={t(\n                      'Click this link to switch to an alternate form that exposes only the required fields needed to connect this database.',\n                    )}\n                    viewBox=\"0 -6 24 24\"\n                  />\n                </div>\n              )}\n            </StyledAlignment>\n          ) : (\n            renderDatabaseConnectionForm()\n          )}\n          {!isEditMode && (\n            <StyledAlertMargin>\n              <Alert\n                closable={false}\n                css={(theme: SupersetTheme) => antDAlertStyles(theme)}\n                message={t('Additional fields may be required')}\n                showIcon\n                description={\n                  <>\n                    {t(\n                      'Select databases require additional fields to be completed in the Advanced tab to successfully connect the database. Learn what requirements your databases has ',\n                    )}\n                    <a\n                      href={DOCUMENTATION_LINK}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"additional-fields-alert-description\"\n                    >\n                      {t('here')}\n                    </a>\n                    .\n                  </>\n                }\n                type=\"info\"\n              />\n            </StyledAlertMargin>\n          )}\n          {showDBError && errorAlert()}\n        </Tabs.TabPane>\n        <Tabs.TabPane tab={<span>{t('Advanced')}</span>} key=\"2\">\n          <ExtraOptions\n            extraExtension={dbConfigExtraExtension}\n            db={db as DatabaseObject}\n            onInputChange={({ target }: { target: HTMLInputElement }) =>\n              onChange(ActionType.InputChange, {\n                type: target.type,\n                name: target.name,\n                checked: target.checked,\n                value: target.value,\n              })\n            }\n            onTextChange={({ target }: { target: HTMLTextAreaElement }) =>\n              onChange(ActionType.TextChange, {\n                name: target.name,\n                value: target.value,\n              })\n            }\n            onEditorChange={(payload: { name: string; json: any }) =>\n              onChange(ActionType.EditorChange, payload)\n            }\n            onExtraInputChange={({ target }: { target: HTMLInputElement }) => {\n              onChange(ActionType.ExtraInputChange, {\n                type: target.type,\n                name: target.name,\n                checked: target.checked,\n                value: target.value,\n              });\n            }}\n            onExtraEditorChange={(payload: { name: string; json: any }) => {\n              onChange(ActionType.ExtraEditorChange, payload);\n            }}\n          />\n        </Tabs.TabPane>\n      </TabsStyled>\n    </Modal>\n  ) : (\n    <Modal\n      css={(theme: SupersetTheme) => [\n        antDModalNoPaddingStyles,\n        antDModalStyles(theme),\n        formHelperStyles(theme),\n        formStyles(theme),\n      ]}\n      name=\"database\"\n      onHandledPrimaryAction={onSave}\n      onHide={onClose}\n      primaryButtonName={hasConnectedDb ? t('Finish') : t('Connect')}\n      width=\"500px\"\n      centered\n      show={show}\n      title={<h4>{t('Connect a database')}</h4>}\n      footer={renderModalFooter()}\n      maskClosable={false}\n    >\n      {!isLoading && hasConnectedDb ? (\n        <>\n          <ModalHeader\n            isLoading={isLoading}\n            isEditMode={isEditMode}\n            useSqlAlchemyForm={useSqlAlchemyForm}\n            hasConnectedDb={hasConnectedDb}\n            db={db}\n            dbName={dbName}\n            dbModel={dbModel}\n            editNewDb={editNewDb}\n          />\n          {showCTAbtns && renderCTABtns()}\n          {renderFinishState()}\n        </>\n      ) : (\n        <>\n          {/* Dynamic Form Step 1 */}\n          {!isLoading &&\n            (!db ? (\n              <SelectDatabaseStyles>\n                <ModalHeader\n                  isLoading={isLoading}\n                  isEditMode={isEditMode}\n                  useSqlAlchemyForm={useSqlAlchemyForm}\n                  hasConnectedDb={hasConnectedDb}\n                  db={db}\n                  dbName={dbName}\n                  dbModel={dbModel}\n                />\n                {renderPreferredSelector()}\n                {renderAvailableSelector()}\n                <StyledUploadWrapper>\n                  <Upload\n                    name=\"databaseFile\"\n                    id=\"databaseFile\"\n                    data-test=\"database-file-input\"\n                    accept=\".yaml,.json,.yml,.zip\"\n                    customRequest={() => {}}\n                    onChange={onDbImport}\n                    onRemove={removeFile}\n                  >\n                    <Button\n                      data-test=\"import-database-btn\"\n                      buttonStyle=\"link\"\n                      type=\"link\"\n                      css={importDbButtonLinkStyles}\n                    >\n                      {t('Import database from file')}\n                    </Button>\n                  </Upload>\n                </StyledUploadWrapper>\n                {importingErrorAlert()}\n              </SelectDatabaseStyles>\n            ) : (\n              <>\n                <ModalHeader\n                  isLoading={isLoading}\n                  isEditMode={isEditMode}\n                  useSqlAlchemyForm={useSqlAlchemyForm}\n                  hasConnectedDb={hasConnectedDb}\n                  db={db}\n                  dbName={dbName}\n                  dbModel={dbModel}\n                />\n                {hasAlert && renderStepTwoAlert()}\n                {renderDatabaseConnectionForm()}\n                <div css={(theme: SupersetTheme) => infoTooltip(theme)}>\n                  {dbModel.engine !== Engines.GSheet && (\n                    <>\n                      <Button\n                        data-test=\"sqla-connect-btn\"\n                        buttonStyle=\"link\"\n                        onClick={() =>\n                          setDB({\n                            type: ActionType.ConfigMethodChange,\n                            payload: {\n                              engine: db.engine,\n                              configuration_method:\n                                ConfigurationMethod.SqlalchemyUri,\n                              database_name: db.database_name,\n                            },\n                          })\n                        }\n                        css={buttonLinkStyles}\n                      >\n                        {t(\n                          'Connect this database with a SQLAlchemy URI string instead',\n                        )}\n                      </Button>\n                      <InfoTooltip\n                        tooltip={t(\n                          'Click this link to switch to an alternate form that allows you to input the SQLAlchemy URL for this database manually.',\n                        )}\n                        viewBox=\"0 -6 24 24\"\n                      />\n                    </>\n                  )}\n                </div>\n                {/* Step 2 */}\n                {showDBError && errorAlert()}\n              </>\n            ))}\n        </>\n      )}\n      {isLoading && <Loading />}\n    </Modal>\n  );\n};\n\nexport default withToasts(DatabaseModal);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { FormItem } from 'src/components/Form';\nimport { css, styled, SupersetTheme } from '@superset-ui/core';\n\nconst MODAL_BODY_HEIGHT = 180.5;\nconst antIconHeight = 12;\n\nexport const StyledFormItem = styled(FormItem)`\n  ${({ theme }) => css`\n    flex: 1;\n    margin-top: 0;\n    margin-bottom: ${theme.gridUnit * 2.5}px;\n  }\n  `}\n`;\n\nexport const StyledSwitchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 0;\n`;\n\nexport const antdCollapseStyles = (theme: SupersetTheme) => css`\n  .ant-collapse-header {\n    padding-top: ${theme.gridUnit * 3.5}px;\n    padding-bottom: ${theme.gridUnit * 2.5}px;\n    .anticon.ant-collapse-arrow {\n      top: calc(50% - ${antIconHeight / 2}px);\n    }\n    .helper {\n      color: ${theme.colors.grayscale.base};\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  }\n  h4 {\n    font-size: ${theme.typography.sizes.l}px;\n    margin-top: 0;\n    margin-bottom: ${theme.gridUnit}px;\n  }\n  p.helper {\n    margin-bottom: 0;\n    padding: 0;\n  }\n`;\n\nexport const antDModalNoPaddingStyles = css`\n  .ant-modal-body {\n    padding-left: 0;\n    padding-right: 0;\n    padding-top: 0;\n  }\n`;\n\nexport const formStyles = (theme: SupersetTheme) => css`\n  .switch-label {\n    color: ${theme.colors.grayscale.base};\n    margin-left: ${theme.gridUnit * 4}px;\n  }\n`;\n\nexport const antDModalStyles = (theme: SupersetTheme) => css`\n  .ant-modal-header {\n    padding: ${theme.gridUnit * 4.5}px ${theme.gridUnit * 4}px\n      ${theme.gridUnit * 4}px;\n  }\n\n  .ant-modal-close-x .close {\n    color: ${theme.colors.grayscale.dark1};\n    opacity: 1;\n  }\n\n  .ant-modal-body {\n    height: ${theme.gridUnit * MODAL_BODY_HEIGHT}px;\n  }\n\n  .ant-modal-footer {\n    height: ${theme.gridUnit * 16.25}px;\n  }\n\n  .info-solid-small {\n    vertical-align: bottom;\n  }\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { FC } from 'react';\nimport { styled, t } from '@superset-ui/core';\n\nimport { Typography } from 'src/components';\nimport TagsList from 'src/components/Tags/TagsList';\nimport TagType from 'src/types/TagType';\n\ninterface ColumnsPreviewProps {\n  columns: string[];\n  maxColumnsToShow?: number;\n}\n\nexport const StyledDivContainer = styled.div`\n  //margin-top: 10px;\n  //margin-bottom: 10px;\n`;\n\nconst ColumnsPreview: FC<ColumnsPreviewProps> = ({\n  columns,\n  maxColumnsToShow = 4,\n}) => {\n  const tags: TagType[] = columns.map(column => ({ name: column }));\n\n  return (\n    <StyledDivContainer>\n      <Typography.Text type=\"secondary\">Columns:</Typography.Text>\n      {columns.length === 0 ? (\n        <p className=\"help-block\">{t('Upload file to preview columns')}</p>\n      ) : (\n        <TagsList tags={tags} maxTags={maxColumnsToShow} />\n      )}\n    </StyledDivContainer>\n  );\n};\n\nexport default ColumnsPreview;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, ReactNode } from 'react';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport { StyledFormItem } from './styles';\n\ninterface StyledFormItemWithTipProps {\n  label: string;\n  tip: string;\n  name: string;\n  children: ReactNode;\n  rules?: any[];\n}\n\nconst StyledFormItemWithTip: FC<StyledFormItemWithTipProps> = ({\n  label,\n  tip,\n  children,\n  name,\n  rules,\n}) => (\n  <StyledFormItem\n    label={\n      <div>\n        {label}\n        <InfoTooltip tooltip={tip} />\n      </div>\n    }\n    name={name}\n    rules={rules}\n  >\n    {children}\n  </StyledFormItem>\n);\n\nexport default StyledFormItemWithTip;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  FunctionComponent,\n  useEffect,\n  useMemo,\n  useState,\n  ReactNode,\n  FC,\n} from 'react';\n\nimport {\n  getClientErrorObject,\n  SupersetClient,\n  SupersetTheme,\n  t,\n} from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport { Switch, SwitchProps } from 'src/components/Switch';\nimport Collapse from 'src/components/Collapse';\nimport {\n  AntdForm,\n  AsyncSelect,\n  Col,\n  Row,\n  Select,\n  Upload,\n} from 'src/components';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { Input, InputNumber } from 'src/components/Input';\nimport rison from 'rison';\nimport { UploadChangeParam, UploadFile } from 'antd/lib/upload/interface';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport {\n  antdCollapseStyles,\n  antDModalNoPaddingStyles,\n  antDModalStyles,\n  formStyles,\n  StyledFormItem,\n  StyledSwitchContainer,\n} from './styles';\nimport ColumnsPreview from './ColumnsPreview';\nimport StyledFormItemWithTip from './StyledFormItemWithTip';\n\ntype UploadType = 'csv' | 'excel' | 'columnar';\n\ninterface UploadDataModalProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  onHide: () => void;\n  show: boolean;\n  allowedExtensions: string[];\n  type: UploadType;\n}\n\nconst CSVSpecificFields = [\n  'delimiter',\n  'skip_initial_space',\n  'skip_blank_lines',\n  'day_first',\n  'column_data_types',\n  'column_dates',\n  'decimal_character',\n  'null_values',\n  'index_column',\n  'header_row',\n  'rows_to_read',\n  'skip_rows',\n];\n\nconst ExcelSpecificFields = [\n  'sheet_name',\n  'column_dates',\n  'decimal_character',\n  'null_values',\n  'index_column',\n  'header_row',\n  'rows_to_read',\n  'skip_rows',\n];\n\nconst ColumnarSpecificFields: string[] = [];\n\nconst NonNullFields = ['rows_to_read', 'index_column'];\n\nconst AllSpecificFields = [\n  ...CSVSpecificFields,\n  ...ExcelSpecificFields,\n  ...ColumnarSpecificFields,\n];\n\nconst UploadTypeToSpecificFields: Record<UploadType, string[]> = {\n  csv: CSVSpecificFields,\n  excel: ExcelSpecificFields,\n  columnar: ColumnarSpecificFields,\n};\n\nconst isFieldATypeSpecificField = (field: string, type: UploadType) =>\n  UploadTypeToSpecificFields[type].includes(field);\n\ninterface UploadInfo {\n  table_name: string;\n  schema: string;\n  sheet_name?: string;\n  delimiter: string;\n  already_exists: string;\n  skip_initial_space: boolean;\n  skip_blank_lines: boolean;\n  day_first: boolean;\n  decimal_character: string;\n  null_values: Array<string>;\n  header_row: string;\n  rows_to_read: string | null;\n  skip_rows: string;\n  column_dates: Array<string>;\n  index_column: string | null;\n  dataframe_index: boolean;\n  index_label: string;\n  columns_read: Array<string>;\n  column_data_types: string;\n}\n\ninterface SheetColumnNames {\n  sheet_name: string;\n  column_names: string[];\n}\n\nconst defaultUploadInfo: UploadInfo = {\n  table_name: '',\n  schema: '',\n  sheet_name: undefined,\n  delimiter: ',',\n  already_exists: 'fail',\n  skip_initial_space: false,\n  skip_blank_lines: false,\n  day_first: false,\n  decimal_character: '.',\n  null_values: [],\n  header_row: '0',\n  rows_to_read: null,\n  skip_rows: '0',\n  column_dates: [],\n  index_column: null,\n  dataframe_index: false,\n  index_label: '',\n  columns_read: [],\n  column_data_types: '',\n};\n\n// Allowed extensions to accept for file upload, users can always override this\n// by selecting all file extensions on the OS file picker. Also \".txt\" will\n// allow all files to be selected.\nconst allowedExtensionsToAccept = {\n  csv: '.csv, .tsv',\n  excel: '.xls, .xlsx',\n  columnar: '.parquet, .zip',\n};\n\nexport const validateUploadFileExtension = (\n  file: UploadFile<any>,\n  allowedExtensions: string[],\n) => {\n  const extensionMatch = file.name.match(/.+\\.([^.]+)$/);\n  if (!extensionMatch) {\n    return false;\n  }\n\n  const fileType = extensionMatch[1];\n  return allowedExtensions.includes(fileType);\n};\n\ninterface StyledSwitchContainerProps extends SwitchProps {\n  label: string;\n  dataTest: string;\n  children?: ReactNode;\n}\n\nconst SwitchContainer = ({\n  label,\n  dataTest,\n  children,\n  ...switchProps\n}: StyledSwitchContainerProps) => (\n  <StyledSwitchContainer>\n    <Switch data-test={dataTest} {...switchProps} />\n    <div className=\"switch-label\">{label}</div>\n    {children}\n  </StyledSwitchContainer>\n);\n\nconst UploadDataModal: FunctionComponent<UploadDataModalProps> = ({\n  addDangerToast,\n  addSuccessToast,\n  onHide,\n  show,\n  allowedExtensions,\n  type = 'csv',\n}) => {\n  const [form] = AntdForm.useForm();\n  const [currentDatabaseId, setCurrentDatabaseId] = useState<number>(0);\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [columns, setColumns] = useState<string[]>([]);\n  const [sheetNames, setSheetNames] = useState<string[]>([]);\n  const [sheetsColumnNames, setSheetsColumnNames] = useState<\n    SheetColumnNames[]\n  >([]);\n  const [delimiter, setDelimiter] = useState<string>(',');\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [currentSchema, setCurrentSchema] = useState<string | undefined>();\n  const [currentDataframeIndex, setCurrentDataframeIndex] =\n    useState<boolean>(false);\n  const [previewUploadedFile, setPreviewUploadedFile] = useState<boolean>(true);\n  const [fileLoading, setFileLoading] = useState<boolean>(false);\n\n  const createTypeToEndpointMap = (\n    databaseId: number,\n  ): { [key: string]: string } => ({\n    csv: `/api/v1/database/${databaseId}/csv_upload/`,\n    excel: `/api/v1/database/${databaseId}/excel_upload/`,\n    columnar: `/api/v1/database/${databaseId}/columnar_upload/`,\n  });\n\n  const typeToFileMetadataEndpoint = {\n    csv: '/api/v1/database/csv_metadata/',\n    excel: '/api/v1/database/excel_metadata/',\n    columnar: '/api/v1/database/columnar_metadata/',\n  };\n\n  const nullValuesOptions = [\n    {\n      value: '\"\"',\n      label: 'Empty Strings \"\"',\n    },\n    {\n      value: 'None',\n      label: 'None',\n    },\n    {\n      value: 'nan',\n      label: 'nan',\n    },\n    {\n      value: 'null',\n      label: 'null',\n    },\n    {\n      value: 'N/A',\n      label: 'N/A',\n    },\n  ];\n\n  const delimiterOptions = [\n    {\n      value: ',',\n      label: 'Comma \",\"',\n    },\n    {\n      value: ';',\n      label: 'Semicolon \";\"',\n    },\n    {\n      value: '\\t',\n      label: 'Tab \"\\\\t\"',\n    },\n    {\n      value: '|',\n      label: 'Pipe',\n    },\n  ];\n\n  const tableAlreadyExistsOptions = [\n    {\n      value: 'fail',\n      label: 'Fail',\n    },\n    {\n      value: 'replace',\n      label: 'Replace',\n    },\n    {\n      value: 'append',\n      label: 'Append',\n    },\n  ];\n\n  const onChangePreviewUploadedFile = (value: boolean) => {\n    setPreviewUploadedFile(value);\n  };\n\n  const onChangeDatabase = (database: { value: number; label: string }) => {\n    setCurrentDatabaseId(database?.value);\n    setCurrentSchema(undefined);\n    form.setFieldsValue({ schema: undefined });\n  };\n\n  const onChangeSchema = (schema: { value: string; label: string }) => {\n    setCurrentSchema(schema?.value);\n  };\n\n  const onChangeDelimiter = (value: string) => {\n    setDelimiter(value);\n  };\n\n  const clearModal = () => {\n    setFileList([]);\n    setColumns([]);\n    setCurrentSchema('');\n    setCurrentDatabaseId(0);\n    setSheetNames([]);\n    setIsLoading(false);\n    setDelimiter(',');\n    setPreviewUploadedFile(true);\n    setFileLoading(false);\n    setSheetsColumnNames([]);\n    form.resetFields();\n  };\n\n  const loadDatabaseOptions = useMemo(\n    () =>\n      (input = '', page: number, pageSize: number) => {\n        const query = rison.encode_uri({\n          filters: [\n            {\n              col: 'allow_file_upload',\n              opr: 'eq',\n              value: true,\n            },\n          ],\n          page,\n          page_size: pageSize,\n        });\n        return SupersetClient.get({\n          endpoint: `/api/v1/database/?q=${query}`,\n        }).then(response => {\n          const list = response.json.result.map(\n            (item: { id: number; database_name: string }) => ({\n              value: item.id,\n              label: item.database_name,\n            }),\n          );\n          return { data: list, totalCount: response.json.count };\n        });\n      },\n    [],\n  );\n\n  const loadSchemaOptions = useMemo(\n    () =>\n      (input = '', page: number, pageSize: number) => {\n        if (!currentDatabaseId) {\n          return Promise.resolve({ data: [], totalCount: 0 });\n        }\n        return SupersetClient.get({\n          endpoint: `/api/v1/database/${currentDatabaseId}/schemas/`,\n        }).then(response => {\n          const list = response.json.result.map((item: string) => ({\n            value: item,\n            label: item,\n          }));\n          return { data: list, totalCount: response.json.count };\n        });\n      },\n    [currentDatabaseId],\n  );\n\n  const loadFileMetadata = (file: File) => {\n    const fields = form.getFieldsValue();\n    const mergedValues = { ...defaultUploadInfo, ...fields };\n    const formData = new FormData();\n    formData.append('file', file);\n    if (type === 'csv') {\n      formData.append('delimiter', mergedValues.delimiter);\n    }\n    setFileLoading(true);\n    return SupersetClient.post({\n      endpoint: typeToFileMetadataEndpoint[type],\n      body: formData,\n      headers: { Accept: 'application/json' },\n    })\n      .then(response => {\n        const { items } = response.json.result;\n        if (items && type !== 'excel') {\n          setColumns(items[0].column_names);\n        } else {\n          const { allSheetNames, sheetColumnNamesMap } = items.reduce(\n            (\n              acc: {\n                allSheetNames: any[];\n                sheetColumnNamesMap: Record<string, string[]>;\n              },\n              item: { sheet_name: any; column_names: any },\n            ) => {\n              acc.allSheetNames.push(item.sheet_name);\n              acc.sheetColumnNamesMap[item.sheet_name] = item.column_names;\n              return acc;\n            },\n            { allSheetNames: [], sheetColumnNamesMap: {} },\n          );\n          setColumns(items[0].column_names);\n          setSheetNames(allSheetNames);\n          form.setFieldsValue({ sheet_name: allSheetNames[0] });\n          setSheetsColumnNames(sheetColumnNamesMap);\n        }\n      })\n      .catch(response =>\n        getClientErrorObject(response).then(error => {\n          addDangerToast(error.error || 'Error');\n          setColumns([]);\n          form.setFieldsValue({ sheet_name: undefined });\n          setSheetNames([]);\n        }),\n      )\n      .finally(() => {\n        setFileLoading(false);\n      });\n  };\n\n  const getAllFieldsNotInType = (): string[] => {\n    const specificFields = UploadTypeToSpecificFields[type] || [];\n    return [...AllSpecificFields].filter(\n      field => !specificFields.includes(field),\n    );\n  };\n\n  const appendFormData = (formData: FormData, data: Record<string, any>) => {\n    const allFieldsNotInType = getAllFieldsNotInType();\n    Object.entries(data).forEach(([key, value]) => {\n      if (\n        !(\n          allFieldsNotInType.includes(key) ||\n          (NonNullFields.includes(key) &&\n            (value === undefined || value === null))\n        )\n      ) {\n        formData.append(key, value);\n      }\n    });\n  };\n\n  const onClose = () => {\n    clearModal();\n    onHide();\n  };\n\n  const onFinish = () => {\n    const fields = form.getFieldsValue();\n    delete fields.database;\n    fields.schema = currentSchema;\n    const mergedValues = { ...defaultUploadInfo, ...fields };\n    const formData = new FormData();\n    const file = fileList[0]?.originFileObj;\n    if (file) {\n      formData.append('file', file);\n    }\n    appendFormData(formData, mergedValues);\n    setIsLoading(true);\n    const endpoint = createTypeToEndpointMap(currentDatabaseId)[type];\n    return SupersetClient.post({\n      endpoint,\n      body: formData,\n      headers: { Accept: 'application/json' },\n    })\n      .then(() => {\n        addSuccessToast(t('Data Imported'));\n        setIsLoading(false);\n        onClose();\n      })\n      .catch(response =>\n        getClientErrorObject(response).then(error => {\n          addDangerToast(error.error || 'Error');\n        }),\n      )\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const onRemoveFile = (removedFile: UploadFile) => {\n    setFileList(fileList.filter(file => file.uid !== removedFile.uid));\n    setColumns([]);\n    setSheetNames([]);\n    form.setFieldsValue({ sheet_name: undefined });\n    return false;\n  };\n\n  const onSheetNameChange = (value: string) => {\n    setColumns(sheetsColumnNames[value] ?? []);\n  };\n\n  const columnsToOptions = () =>\n    columns.map(column => ({\n      value: column,\n      label: column,\n    }));\n\n  const sheetNamesToOptions = () =>\n    sheetNames.map(sheetName => ({\n      value: sheetName,\n      label: sheetName,\n    }));\n\n  const onChangeFile = async (info: UploadChangeParam<any>) => {\n    setFileList([\n      {\n        ...info.file,\n        status: 'done',\n      },\n    ]);\n    if (!previewUploadedFile) {\n      return;\n    }\n    await loadFileMetadata(info.file.originFileObj);\n  };\n\n  useEffect(() => {\n    if (\n      columns.length > 0 &&\n      fileList[0].originFileObj &&\n      fileList[0].originFileObj instanceof File\n    ) {\n      if (!previewUploadedFile) {\n        return;\n      }\n      loadFileMetadata(fileList[0].originFileObj).then(r => r);\n    }\n  }, [delimiter]);\n\n  const validateUpload = (_: any, value: string) => {\n    if (fileList.length === 0) {\n      return Promise.reject(t('Uploading a file is required'));\n    }\n    if (!validateUploadFileExtension(fileList[0], allowedExtensions)) {\n      return Promise.reject(\n        t(\n          'Upload a file with a valid extension. Valid: [%s]',\n          allowedExtensions.join(','),\n        ),\n      );\n    }\n    return Promise.resolve();\n  };\n\n  const validateDatabase = (_: any, value: string) => {\n    if (!currentDatabaseId) {\n      return Promise.reject(t('Selecting a database is required'));\n    }\n    return Promise.resolve();\n  };\n\n  const uploadTitles = {\n    csv: t('CSV Upload'),\n    excel: t('Excel Upload'),\n    columnar: t('Columnar Upload'),\n  };\n\n  const UploadTitle: FC = () => {\n    const title = uploadTitles[type] || t('Upload');\n    return <h4>{title}</h4>;\n  };\n\n  return (\n    <Modal\n      css={(theme: SupersetTheme) => [\n        antDModalNoPaddingStyles,\n        antDModalStyles(theme),\n        formStyles(theme),\n      ]}\n      primaryButtonLoading={isLoading}\n      name=\"database\"\n      data-test=\"upload-modal\"\n      onHandledPrimaryAction={form.submit}\n      onHide={onClose}\n      width=\"500px\"\n      primaryButtonName=\"Upload\"\n      centered\n      show={show}\n      title={<UploadTitle />}\n    >\n      <AntdForm\n        form={form}\n        onFinish={onFinish}\n        data-test=\"dashboard-edit-properties-form\"\n        layout=\"vertical\"\n        initialValues={defaultUploadInfo}\n      >\n        <Collapse\n          expandIconPosition=\"right\"\n          accordion\n          defaultActiveKey=\"general\"\n          css={(theme: SupersetTheme) => antdCollapseStyles(theme)}\n        >\n          <Collapse.Panel\n            header={\n              <div>\n                <h4>{t('General information')}</h4>\n                <p className=\"helper\">{t('Upload a file to a database.')}</p>\n              </div>\n            }\n            key=\"general\"\n          >\n            <Row>\n              <Col span={12}>\n                <StyledFormItem\n                  label={t('%(type)s File', { type })}\n                  name=\"file\"\n                  required\n                  rules={[{ validator: validateUpload }]}\n                >\n                  <Upload\n                    name=\"modelFile\"\n                    id=\"modelFile\"\n                    data-test=\"model-file-input\"\n                    accept={allowedExtensionsToAccept[type]}\n                    fileList={fileList}\n                    onChange={onChangeFile}\n                    onRemove={onRemoveFile}\n                    // upload is handled by hook\n                    customRequest={() => {}}\n                  >\n                    <Button\n                      aria-label={t('Select')}\n                      icon={<UploadOutlined />}\n                      loading={fileLoading}\n                    >\n                      {t('Select')}\n                    </Button>\n                  </Upload>\n                </StyledFormItem>\n              </Col>\n              <Col span={12}>\n                <StyledFormItem>\n                  <SwitchContainer\n                    label={t('Preview uploaded file')}\n                    dataTest=\"previewUploadedFile\"\n                    onChange={onChangePreviewUploadedFile}\n                    checked={previewUploadedFile}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            {previewUploadedFile && (\n              <Row>\n                <Col span={24}>\n                  <ColumnsPreview columns={columns} />\n                </Col>\n              </Row>\n            )}\n            <Row>\n              <Col span={24}>\n                <StyledFormItem\n                  label={t('Database')}\n                  required\n                  name=\"database\"\n                  rules={[{ validator: validateDatabase }]}\n                >\n                  <AsyncSelect\n                    ariaLabel={t('Select a database')}\n                    options={loadDatabaseOptions}\n                    onChange={onChangeDatabase}\n                    allowClear\n                    placeholder={t('Select a database to upload the file to')}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={24}>\n                <StyledFormItem label={t('Schema')} name=\"schema\">\n                  <AsyncSelect\n                    ariaLabel={t('Select a schema')}\n                    options={loadSchemaOptions}\n                    onChange={onChangeSchema}\n                    allowClear\n                    placeholder={t(\n                      'Select a schema if the database supports this',\n                    )}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={24}>\n                <StyledFormItem\n                  label={t('Table Name')}\n                  name=\"table_name\"\n                  required\n                  rules={[\n                    { required: true, message: 'Table name is required' },\n                  ]}\n                >\n                  <Input\n                    aria-label={t('Table Name')}\n                    name=\"table_name\"\n                    data-test=\"properties-modal-name-input\"\n                    type=\"text\"\n                    placeholder={t('Name of table to be created')}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            {isFieldATypeSpecificField('delimiter', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItemWithTip\n                    label={t('Delimiter')}\n                    tip={t('Select a delimiter for this data')}\n                    name=\"delimiter\"\n                  >\n                    <Select\n                      ariaLabel={t('Choose a delimiter')}\n                      options={delimiterOptions}\n                      onChange={onChangeDelimiter}\n                      allowNewOptions\n                    />\n                  </StyledFormItemWithTip>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('sheet_name', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItem label={t('Sheet name')} name=\"sheet_name\">\n                    <Select\n                      ariaLabel={t('Choose sheet name')}\n                      options={sheetNamesToOptions()}\n                      onChange={onSheetNameChange}\n                      allowNewOptions\n                      placeholder={t(\n                        'Select a sheet name from the uploaded file',\n                      )}\n                    />\n                  </StyledFormItem>\n                </Col>\n              </Row>\n            )}\n          </Collapse.Panel>\n          <Collapse.Panel\n            header={\n              <div>\n                <h4>{t('File Settings')}</h4>\n                <p className=\"helper\">\n                  {t(\n                    'Adjust how spaces, blank lines, null values are handled and other file wide settings.',\n                  )}\n                </p>\n              </div>\n            }\n            key=\"2\"\n          >\n            <Row>\n              <Col span={24}>\n                <StyledFormItemWithTip\n                  label={t('If Table Already Exists')}\n                  tip={t('What should happen if the table already exists')}\n                  name=\"already_exists\"\n                >\n                  <Select\n                    ariaLabel={t('Choose already exists')}\n                    options={tableAlreadyExistsOptions}\n                    onChange={() => {}}\n                  />\n                </StyledFormItemWithTip>\n              </Col>\n            </Row>\n            {isFieldATypeSpecificField('column_dates', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItem\n                    label={t('Columns To Be Parsed as Dates')}\n                    name=\"column_dates\"\n                  >\n                    <Select\n                      ariaLabel={t('Choose columns to be parsed as dates')}\n                      mode=\"multiple\"\n                      options={columnsToOptions()}\n                      allowClear\n                      allowNewOptions\n                      placeholder={t(\n                        'A comma separated list of columns that should be parsed as dates',\n                      )}\n                    />\n                  </StyledFormItem>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('decimal_character', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItemWithTip\n                    label={t('Decimal Character')}\n                    tip={t('Character to interpret as decimal point')}\n                    name=\"decimal_character\"\n                  >\n                    <Input type=\"text\" />\n                  </StyledFormItemWithTip>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('null_values', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItemWithTip\n                    label={t('Null Values')}\n                    tip={t(\n                      'Choose values that should be treated as null. Warning: Hive database supports only a single value',\n                    )}\n                    name=\"null_values\"\n                  >\n                    <Select\n                      mode=\"multiple\"\n                      options={nullValuesOptions}\n                      allowClear\n                      allowNewOptions\n                    />\n                  </StyledFormItemWithTip>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('skip_initial_space', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItem name=\"skip_initial_space\">\n                    <SwitchContainer\n                      label={t('Skip spaces after delimiter')}\n                      dataTest=\"skipInitialSpace\"\n                    />\n                  </StyledFormItem>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('skip_blank_lines', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItem name=\"skip_blank_lines\">\n                    <SwitchContainer\n                      label={t(\n                        'Skip blank lines rather than interpreting them as Not A Number values',\n                      )}\n                      dataTest=\"skipBlankLines\"\n                    />\n                  </StyledFormItem>\n                </Col>\n              </Row>\n            )}\n            {isFieldATypeSpecificField('day_first', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItem name=\"day_first\">\n                    <SwitchContainer\n                      label={t(\n                        'DD/MM format dates, international and European format',\n                      )}\n                      dataTest=\"dayFirst\"\n                    />\n                  </StyledFormItem>\n                </Col>\n              </Row>\n            )}\n          </Collapse.Panel>\n          <Collapse.Panel\n            header={\n              <div>\n                <h4>{t('Columns')}</h4>\n                <p className=\"helper\">\n                  {t(\n                    'Adjust column settings such as specifying the columns to read, how duplicates are handled, column data types, and more.',\n                  )}\n                </p>\n              </div>\n            }\n            key=\"3\"\n          >\n            <Row>\n              <Col span={24}>\n                <StyledFormItem\n                  label={t('Columns To Read')}\n                  name=\"columns_read\"\n                >\n                  <Select\n                    ariaLabel={t('Choose columns to read')}\n                    mode=\"multiple\"\n                    options={columnsToOptions()}\n                    allowClear\n                    allowNewOptions\n                    placeholder={t(\n                      'List of the column names that should be read',\n                    )}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            {isFieldATypeSpecificField('column_data_types', type) && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItemWithTip\n                    label={t('Column Data Types')}\n                    tip={t(\n                      'A dictionary with column names and their data types if you need to change the defaults. Example: {\"user_id\":\"int\"}. Check Python\\'s Pandas library for supported data types.',\n                    )}\n                    name=\"column_data_types\"\n                  >\n                    <Input aria-label={t('Column data types')} type=\"text\" />\n                  </StyledFormItemWithTip>\n                </Col>\n              </Row>\n            )}\n            <Row>\n              <Col span={24}>\n                <StyledFormItem name=\"dataframe_index\">\n                  <SwitchContainer\n                    label={t('Create dataframe index')}\n                    dataTest=\"dataFrameIndex\"\n                    onChange={setCurrentDataframeIndex}\n                  />\n                </StyledFormItem>\n              </Col>\n            </Row>\n            {currentDataframeIndex &&\n              isFieldATypeSpecificField('index_column', type) && (\n                <Row>\n                  <Col span={24}>\n                    <StyledFormItemWithTip\n                      label={t('Index Column')}\n                      tip={t(\n                        'Column to use as the index of the dataframe. If None is given, Index label is used.',\n                      )}\n                      name=\"index_column\"\n                    >\n                      <Select\n                        ariaLabel={t('Choose index column')}\n                        options={columns.map(column => ({\n                          value: column,\n                          label: column,\n                        }))}\n                        allowClear\n                        allowNewOptions\n                      />\n                    </StyledFormItemWithTip>\n                  </Col>\n                </Row>\n              )}\n            {currentDataframeIndex && (\n              <Row>\n                <Col span={24}>\n                  <StyledFormItemWithTip\n                    label={t('Index Label')}\n                    tip={t(\n                      \"Label for the index column. Don't use an existing column name.\",\n                    )}\n                    name=\"index_label\"\n                  >\n                    <Input aria-label={t('Index label')} type=\"text\" />\n                  </StyledFormItemWithTip>\n                </Col>\n              </Row>\n            )}\n          </Collapse.Panel>\n          {isFieldATypeSpecificField('header_row', type) &&\n            isFieldATypeSpecificField('rows_to_read', type) &&\n            isFieldATypeSpecificField('skip_rows', type) && (\n              <Collapse.Panel\n                header={\n                  <div>\n                    <h4>{t('Rows')}</h4>\n                    <p className=\"helper\">\n                      {t(\n                        'Set header rows and the number of rows to read or skip.',\n                      )}\n                    </p>\n                  </div>\n                }\n                key=\"4\"\n              >\n                <Row>\n                  <Col span={8}>\n                    <StyledFormItemWithTip\n                      label={t('Header Row')}\n                      tip={t(\n                        'Row containing the headers to use as column names (0 is first line of data).',\n                      )}\n                      name=\"header_row\"\n                      rules={[\n                        { required: true, message: 'Header row is required' },\n                      ]}\n                    >\n                      <InputNumber\n                        aria-label={t('Header row')}\n                        type=\"text\"\n                        min={0}\n                      />\n                    </StyledFormItemWithTip>\n                  </Col>\n                  <Col span={8}>\n                    <StyledFormItemWithTip\n                      label={t('Rows to Read')}\n                      tip={t(\n                        'Number of rows of file to read. Leave empty (default) to read all rows',\n                      )}\n                      name=\"rows_to_read\"\n                    >\n                      <InputNumber aria-label={t('Rows to read')} min={1} />\n                    </StyledFormItemWithTip>\n                  </Col>\n                  <Col span={8}>\n                    <StyledFormItemWithTip\n                      label={t('Skip Rows')}\n                      tip={t('Number of rows to skip at start of file.')}\n                      name=\"skip_rows\"\n                      rules={[\n                        { required: true, message: 'Skip rows is required' },\n                      ]}\n                    >\n                      <InputNumber aria-label={t('Skip rows')} min={0} />\n                    </StyledFormItemWithTip>\n                  </Col>\n                </Row>\n              </Collapse.Panel>\n            )}\n        </Collapse>\n      </AntdForm>\n    </Modal>\n  );\n};\n\nexport default withToasts(UploadDataModal);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { ReactElement } from 'react';\n\ninterface TelemetryPixelProps {\n  version?: string;\n  sha?: string;\n  build?: string;\n}\n\n/**\n * Renders a telemetry pixel component to capture anonymous, aggregated telemetry via Scarf.\n * This can be disabled by setting the SCARF_ANALYTICS environment variable to false.\n *\n * @component\n * @param {TelemetryPixelProps} props - The props for the TelemetryPixel component.\n * @param {string} props.version - The version of  Superset that's currently in use.\n * @param {string} props.sha - The SHA of Superset that's currently in use.\n * @param {string} props.build - The build of Superset that's currently in use.\n * @returns {JSX.Element | null} The rendered TelemetryPixel component.\n */\n\nconst PIXEL_ID = '0d3461e1-abb1-4691-a0aa-5ed50de66af0';\n\nconst TelemetryPixel = ({\n  version = 'unknownVersion',\n  sha = 'unknownSHA',\n  build = 'unknownBuild',\n}: TelemetryPixelProps): ReactElement | null => {\n  const pixelPath = `https://apachesuperset.gateway.scarf.sh/pixel/${PIXEL_ID}/${version}/${sha}/${build}`;\n  return process.env.SCARF_ANALYTICS === 'false' ? null : (\n    <img\n      // @ts-ignore\n      referrerPolicy=\"no-referrer-when-downgrade\"\n      src={pixelPath}\n      width={0}\n      height={0}\n      alt=\"\"\n    />\n  );\n};\nexport default TelemetryPixel;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { MainNav as Menu } from 'src/components/Menu';\nimport { styled } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\n\nconst { SubMenu } = Menu;\n\nexport interface Languages {\n  [key: string]: {\n    flag: string;\n    url: string;\n    name: string;\n  };\n}\n\ninterface LanguagePickerProps {\n  locale: string;\n  languages: Languages;\n}\n\nconst StyledLabel = styled.div`\n  display: flex;\n  align-items: center;\n\n  & i {\n    margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  & a {\n    display: block;\n    width: 150px;\n    word-wrap: break-word;\n    text-decoration: none;\n  }\n`;\n\nconst StyledFlag = styled.i`\n  margin-top: 2px;\n`;\n\nexport default function LanguagePicker(props: LanguagePickerProps) {\n  const { locale, languages, ...rest } = props;\n  return (\n    <SubMenu\n      aria-label=\"Languages\"\n      title={\n        <div className=\"f16\">\n          <StyledFlag className={`flag ${languages[locale].flag}`} />\n        </div>\n      }\n      icon={<Icons.TriangleDown />}\n      {...rest}\n    >\n      {Object.keys(languages).map(langKey => (\n        <Menu.Item\n          key={langKey}\n          style={{ whiteSpace: 'normal', height: 'auto' }}\n        >\n          <StyledLabel className=\"f16\">\n            <i className={`flag ${languages[langKey].flag}`} />\n            <a href={languages[langKey].url}>{languages[langKey].name}</a>\n          </StyledLabel>\n        </Menu.Item>\n      ))}\n    </SubMenu>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Fragment, useState, useEffect, FC, PureComponent } from 'react';\n\nimport rison from 'rison';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useQueryParams, BooleanParam } from 'use-query-params';\nimport { isEmpty } from 'lodash';\n\nimport {\n  t,\n  styled,\n  css,\n  SupersetTheme,\n  SupersetClient,\n  getExtensionsRegistry,\n  useTheme,\n} from '@superset-ui/core';\nimport { MainNav as Menu } from 'src/components/Menu';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\nimport Label from 'src/components/Label';\nimport { findPermission } from 'src/utils/findPermission';\nimport { isUserAdmin } from 'src/dashboard/util/permissionUtils';\nimport {\n  MenuObjectProps,\n  UserWithPermissionsAndRoles,\n  MenuObjectChildProps,\n} from 'src/types/bootstrapTypes';\nimport { RootState } from 'src/dashboard/types';\nimport DatabaseModal from 'src/features/databases/DatabaseModal';\nimport UploadDataModal from 'src/features/databases/UploadDataModel';\nimport { uploadUserPerms } from 'src/views/CRUD/utils';\nimport TelemetryPixel from 'src/components/TelemetryPixel';\nimport LanguagePicker from './LanguagePicker';\nimport {\n  ExtensionConfigs,\n  GlobalMenuDataOptions,\n  RightMenuProps,\n} from './types';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\nconst versionInfoStyles = (theme: SupersetTheme) => css`\n  padding: ${theme.gridUnit * 1.5}px ${theme.gridUnit * 4}px\n    ${theme.gridUnit * 4}px ${theme.gridUnit * 7}px;\n  color: ${theme.colors.grayscale.base};\n  font-size: ${theme.typography.sizes.xs}px;\n  white-space: nowrap;\n`;\nconst StyledI = styled.div`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n`;\n\nconst styledDisabled = (theme: SupersetTheme) => css`\n  color: ${theme.colors.grayscale.light1};\n  .ant-menu-item-active {\n    color: ${theme.colors.grayscale.light1};\n    cursor: default;\n  }\n`;\n\nconst StyledDiv = styled.div<{ align: string }>`\n  display: flex;\n  flex-direction: row;\n  justify-content: ${({ align }) => align};\n  align-items: center;\n  margin-right: ${({ theme }) => theme.gridUnit}px;\n  .ant-menu-submenu-title > svg {\n    top: ${({ theme }) => theme.gridUnit * 5.25}px;\n  }\n`;\n\nconst StyledMenuItemWithIcon = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst StyledAnchor = styled.a`\n  padding-right: ${({ theme }) => theme.gridUnit}px;\n  padding-left: ${({ theme }) => theme.gridUnit}px;\n`;\n\nconst tagStyles = (theme: SupersetTheme) => css`\n  color: ${theme.colors.grayscale.light5};\n`;\n\nconst styledChildMenu = (theme: SupersetTheme) => css`\n  &:hover {\n    color: ${theme.colors.primary.base} !important;\n    cursor: pointer !important;\n  }\n`;\n\nconst { SubMenu } = Menu;\n\nconst RightMenu = ({\n  align,\n  settings,\n  navbarRight,\n  isFrontendRoute,\n  environmentTag,\n  setQuery,\n}: RightMenuProps & {\n  setQuery: ({\n    databaseAdded,\n    datasetAdded,\n  }: {\n    databaseAdded?: boolean;\n    datasetAdded?: boolean;\n  }) => void;\n}) => {\n  const user = useSelector<any, UserWithPermissionsAndRoles>(\n    state => state.user,\n  );\n  const dashboardId = useSelector<RootState, number | undefined>(\n    state => state.dashboardInfo?.id,\n  );\n  const userValues = user || {};\n  const { roles } = userValues;\n  const {\n    CSV_EXTENSIONS,\n    COLUMNAR_EXTENSIONS,\n    EXCEL_EXTENSIONS,\n    ALLOWED_EXTENSIONS,\n    HAS_GSHEETS_INSTALLED,\n  } = useSelector<any, ExtensionConfigs>(state => state.common.conf);\n  const [showDatabaseModal, setShowDatabaseModal] = useState<boolean>(false);\n  const [showCSVUploadModal, setShowCSVUploadModal] = useState<boolean>(false);\n  const [showExcelUploadModal, setShowExcelUploadModal] =\n    useState<boolean>(false);\n  const [showColumnarUploadModal, setShowColumnarUploadModal] =\n    useState<boolean>(false);\n  const [engine, setEngine] = useState<string>('');\n  const canSql = findPermission('can_sqllab', 'Superset', roles);\n  const canDashboard = findPermission('can_write', 'Dashboard', roles);\n  const canChart = findPermission('can_write', 'Chart', roles);\n  const canDatabase = findPermission('can_write', 'Database', roles);\n  const canDataset = findPermission('can_write', 'Dataset', roles);\n\n  const { canUploadData, canUploadCSV, canUploadColumnar, canUploadExcel } =\n    uploadUserPerms(\n      roles,\n      CSV_EXTENSIONS,\n      COLUMNAR_EXTENSIONS,\n      EXCEL_EXTENSIONS,\n      ALLOWED_EXTENSIONS,\n    );\n\n  const showActionDropdown = canSql || canChart || canDashboard;\n  const [allowUploads, setAllowUploads] = useState<boolean>(false);\n  const [nonExamplesDBConnected, setNonExamplesDBConnected] =\n    useState<boolean>(false);\n  const isAdmin = isUserAdmin(user);\n  const showUploads = allowUploads || isAdmin;\n  const dropdownItems: MenuObjectProps[] = [\n    {\n      label: t('Data'),\n      icon: 'fa-database',\n      childs: [\n        {\n          label: t('Connect database'),\n          name: GlobalMenuDataOptions.DbConnection,\n          perm: canDatabase && !nonExamplesDBConnected,\n        },\n        {\n          label: t('Create dataset'),\n          name: GlobalMenuDataOptions.DatasetCreation,\n          url: '/dataset/add/',\n          perm: canDataset && nonExamplesDBConnected,\n        },\n        {\n          label: t('Connect Google Sheet'),\n          name: GlobalMenuDataOptions.GoogleSheets,\n          perm: canDatabase && HAS_GSHEETS_INSTALLED,\n        },\n        {\n          label: t('Upload CSV to database'),\n          name: GlobalMenuDataOptions.CSVUpload,\n          perm: canUploadCSV && showUploads,\n          disable: isAdmin && !allowUploads,\n        },\n        {\n          label: t('Upload Excel to database'),\n          name: GlobalMenuDataOptions.ExcelUpload,\n          perm: canUploadExcel && showUploads,\n          disable: isAdmin && !allowUploads,\n        },\n        {\n          label: t('Upload Columnar file to database'),\n          name: GlobalMenuDataOptions.ColumnarUpload,\n          perm: canUploadColumnar && showUploads,\n          disable: isAdmin && !allowUploads,\n        },\n      ],\n    },\n    {\n      label: t('SQL query'),\n      url: '/sqllab?new=true',\n      icon: 'fa-fw fa-search',\n      perm: 'can_sqllab',\n      view: 'Superset',\n    },\n    {\n      label: t('Chart'),\n      url: Number.isInteger(dashboardId)\n        ? `/chart/add?dashboard_id=${dashboardId}`\n        : '/chart/add',\n      icon: 'fa-fw fa-bar-chart',\n      perm: 'can_write',\n      view: 'Chart',\n    },\n    {\n      label: t('Dashboard'),\n      url: '/dashboard/new',\n      icon: 'fa-fw fa-dashboard',\n      perm: 'can_write',\n      view: 'Dashboard',\n    },\n  ];\n\n  const checkAllowUploads = () => {\n    const payload = {\n      filters: [\n        { col: 'allow_file_upload', opr: 'upload_is_enabled', value: true },\n      ],\n    };\n    SupersetClient.get({\n      endpoint: `/api/v1/database/?q=${rison.encode(payload)}`,\n    }).then(({ json }: Record<string, any>) => {\n      // There might be some existing Gsheets and Clickhouse DBs\n      // with allow_file_upload set as True which is not possible from now on\n      const allowedDatabasesWithFileUpload =\n        json?.result?.filter(\n          (database: any) => database?.engine_information?.supports_file_upload,\n        ) || [];\n      setAllowUploads(allowedDatabasesWithFileUpload?.length >= 1);\n    });\n  };\n\n  const existsNonExamplesDatabases = () => {\n    const payload = {\n      filters: [{ col: 'database_name', opr: 'neq', value: 'examples' }],\n    };\n    SupersetClient.get({\n      endpoint: `/api/v1/database/?q=${rison.encode(payload)}`,\n    }).then(({ json }: Record<string, any>) => {\n      setNonExamplesDBConnected(json.count >= 1);\n    });\n  };\n\n  useEffect(() => {\n    if (canUploadData) {\n      checkAllowUploads();\n    }\n  }, [canUploadData]);\n\n  useEffect(() => {\n    if (canDatabase || canDataset) {\n      existsNonExamplesDatabases();\n    }\n  }, [canDatabase, canDataset]);\n\n  const menuIconAndLabel = (menu: MenuObjectProps) => (\n    <>\n      <i data-test={`menu-item-${menu.label}`} className={`fa ${menu.icon}`} />\n      {menu.label}\n    </>\n  );\n\n  const handleMenuSelection = (itemChose: any) => {\n    if (itemChose.key === GlobalMenuDataOptions.DbConnection) {\n      setShowDatabaseModal(true);\n    } else if (itemChose.key === GlobalMenuDataOptions.GoogleSheets) {\n      setShowDatabaseModal(true);\n      setEngine('Google Sheets');\n    } else if (itemChose.key === GlobalMenuDataOptions.CSVUpload) {\n      setShowCSVUploadModal(true);\n    } else if (itemChose.key === GlobalMenuDataOptions.ExcelUpload) {\n      setShowExcelUploadModal(true);\n    } else if (itemChose.key === GlobalMenuDataOptions.ColumnarUpload) {\n      setShowColumnarUploadModal(true);\n    }\n  };\n\n  const handleOnHideModal = () => {\n    setEngine('');\n    setShowDatabaseModal(false);\n  };\n\n  const tooltipText = t(\n    \"Enable 'Allow file uploads to database' in any database's settings\",\n  );\n\n  const buildMenuItem = (item: MenuObjectChildProps) =>\n    item.disable ? (\n      <Menu.Item key={item.name} css={styledDisabled} disabled>\n        <Tooltip placement=\"top\" title={tooltipText}>\n          {item.label}\n        </Tooltip>\n      </Menu.Item>\n    ) : (\n      <Menu.Item key={item.name} css={styledChildMenu}>\n        {item.url ? <a href={item.url}> {item.label} </a> : item.label}\n      </Menu.Item>\n    );\n\n  const onMenuOpen = (openKeys: string[]) => {\n    // We should query the API only if opening Data submenus\n    // because the rest don't need this information. Not using\n    // \"Data\" directly since we might change the label later on?\n    if (\n      openKeys.length > 1 &&\n      !isEmpty(\n        openKeys?.filter((key: string) =>\n          key.includes(`sub2_${dropdownItems?.[0]?.label}`),\n        ),\n      )\n    ) {\n      if (canUploadData) checkAllowUploads();\n      if (canDatabase || canDataset) existsNonExamplesDatabases();\n    }\n    return null;\n  };\n  const RightMenuExtension = extensionsRegistry.get('navbar.right');\n  const RightMenuItemIconExtension = extensionsRegistry.get(\n    'navbar.right-menu.item.icon',\n  );\n\n  const handleDatabaseAdd = () => setQuery({ databaseAdded: true });\n\n  const handleLogout = () => {\n    localStorage.removeItem('redux');\n  };\n\n  const theme = useTheme();\n\n  return (\n    <StyledDiv align={align}>\n      {canDatabase && (\n        <DatabaseModal\n          onHide={handleOnHideModal}\n          show={showDatabaseModal}\n          dbEngine={engine}\n          onDatabaseAdd={handleDatabaseAdd}\n        />\n      )}\n      {canUploadCSV && (\n        <UploadDataModal\n          onHide={() => setShowCSVUploadModal(false)}\n          show={showCSVUploadModal}\n          allowedExtensions={CSV_EXTENSIONS}\n          type=\"csv\"\n        />\n      )}\n      {canUploadExcel && (\n        <UploadDataModal\n          onHide={() => setShowExcelUploadModal(false)}\n          show={showExcelUploadModal}\n          allowedExtensions={EXCEL_EXTENSIONS}\n          type=\"excel\"\n        />\n      )}\n      {canUploadColumnar && (\n        <UploadDataModal\n          onHide={() => setShowColumnarUploadModal(false)}\n          show={showColumnarUploadModal}\n          allowedExtensions={COLUMNAR_EXTENSIONS}\n          type=\"columnar\"\n        />\n      )}\n      {environmentTag?.text && (\n        <Label\n          css={{ borderRadius: `${theme.gridUnit * 125}px` }}\n          color={\n            /^#(?:[0-9a-f]{3}){1,2}$/i.test(environmentTag.color)\n              ? environmentTag.color\n              : environmentTag.color\n                  .split('.')\n                  .reduce((o, i) => o[i], theme.colors)\n          }\n        >\n          <span css={tagStyles}>{environmentTag.text}</span>\n        </Label>\n      )}\n      <Menu\n        selectable={false}\n        mode=\"horizontal\"\n        onClick={handleMenuSelection}\n        onOpenChange={onMenuOpen}\n      >\n        {RightMenuExtension && <RightMenuExtension />}\n        {!navbarRight.user_is_anonymous && showActionDropdown && (\n          <SubMenu\n            data-test=\"new-dropdown\"\n            title={\n              <StyledI data-test=\"new-dropdown-icon\" className=\"fa fa-plus\" />\n            }\n            icon={<Icons.TriangleDown />}\n          >\n            {dropdownItems?.map?.(menu => {\n              const canShowChild = menu.childs?.some(\n                item => typeof item === 'object' && !!item.perm,\n              );\n              if (menu.childs) {\n                if (canShowChild) {\n                  return (\n                    <SubMenu\n                      key={`sub2_${menu.label}`}\n                      className=\"data-menu\"\n                      title={menuIconAndLabel(menu)}\n                    >\n                      {menu?.childs?.map?.((item, idx) =>\n                        typeof item !== 'string' && item.name && item.perm ? (\n                          <Fragment key={item.name}>\n                            {idx === 3 && <Menu.Divider />}\n                            {buildMenuItem(item)}\n                          </Fragment>\n                        ) : null,\n                      )}\n                    </SubMenu>\n                  );\n                }\n                if (!menu.url) {\n                  return null;\n                }\n              }\n              return (\n                findPermission(\n                  menu.perm as string,\n                  menu.view as string,\n                  roles,\n                ) && (\n                  <Menu.Item key={menu.label}>\n                    {isFrontendRoute(menu.url) ? (\n                      <Link to={menu.url || ''}>\n                        <i\n                          data-test={`menu-item-${menu.label}`}\n                          className={`fa ${menu.icon}`}\n                        />{' '}\n                        {menu.label}\n                      </Link>\n                    ) : (\n                      <a href={menu.url}>\n                        <i\n                          data-test={`menu-item-${menu.label}`}\n                          className={`fa ${menu.icon}`}\n                        />{' '}\n                        {menu.label}\n                      </a>\n                    )}\n                  </Menu.Item>\n                )\n              );\n            })}\n          </SubMenu>\n        )}\n        <SubMenu\n          title={t('Settings')}\n          icon={<Icons.TriangleDown iconSize=\"xl\" />}\n        >\n          {settings?.map?.((section, index) => [\n            <Menu.ItemGroup key={`${section.label}`} title={section.label}>\n              {section?.childs?.map?.(child => {\n                if (typeof child !== 'string') {\n                  const menuItemDisplay = RightMenuItemIconExtension ? (\n                    <StyledMenuItemWithIcon>\n                      {child.label}\n                      <RightMenuItemIconExtension menuChild={child} />\n                    </StyledMenuItemWithIcon>\n                  ) : (\n                    child.label\n                  );\n                  return (\n                    <Menu.Item key={`${child.label}`}>\n                      {isFrontendRoute(child.url) ? (\n                        <Link to={child.url || ''}>{menuItemDisplay}</Link>\n                      ) : (\n                        <a href={child.url}>{menuItemDisplay}</a>\n                      )}\n                    </Menu.Item>\n                  );\n                }\n                return null;\n              })}\n            </Menu.ItemGroup>,\n            index < settings.length - 1 && (\n              <Menu.Divider key={`divider_${index}`} />\n            ),\n          ])}\n\n          {!navbarRight.user_is_anonymous && [\n            <Menu.Divider key=\"user-divider\" />,\n            <Menu.ItemGroup key=\"user-section\" title={t('User')}>\n              {navbarRight.user_info_url && (\n                <Menu.Item key=\"info\">\n                  <a href={navbarRight.user_info_url}>{t('Info')}</a>\n                </Menu.Item>\n              )}\n              <Menu.Item key=\"logout\" onClick={handleLogout}>\n                <a href={navbarRight.user_logout_url}>{t('Logout')}</a>\n              </Menu.Item>\n            </Menu.ItemGroup>,\n          ]}\n          {(navbarRight.version_string || navbarRight.version_sha) && [\n            <Menu.Divider key=\"version-info-divider\" />,\n            <Menu.ItemGroup key=\"about-section\" title={t('About')}>\n              <div className=\"about-section\">\n                {navbarRight.show_watermark && (\n                  <div css={versionInfoStyles}>\n                    {t('Powered by Apache Superset')}\n                  </div>\n                )}\n                {navbarRight.version_string && (\n                  <div css={versionInfoStyles}>\n                    {t('Version')}: {navbarRight.version_string}\n                  </div>\n                )}\n                {navbarRight.version_sha && (\n                  <div css={versionInfoStyles}>\n                    {t('SHA')}: {navbarRight.version_sha}\n                  </div>\n                )}\n                {navbarRight.build_number && (\n                  <div css={versionInfoStyles}>\n                    {t('Build')}: {navbarRight.build_number}\n                  </div>\n                )}\n              </div>\n            </Menu.ItemGroup>,\n          ]}\n        </SubMenu>\n        {navbarRight.show_language_picker && (\n          <LanguagePicker\n            locale={navbarRight.locale}\n            languages={navbarRight.languages}\n          />\n        )}\n      </Menu>\n      {navbarRight.documentation_url && (\n        <>\n          <StyledAnchor\n            href={navbarRight.documentation_url}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            title={navbarRight.documentation_text || t('Documentation')}\n          >\n            {navbarRight.documentation_icon ? (\n              <i className={navbarRight.documentation_icon} />\n            ) : (\n              <i className=\"fa fa-question\" />\n            )}\n          </StyledAnchor>\n          <span>&nbsp;</span>\n        </>\n      )}\n      {navbarRight.bug_report_url && (\n        <>\n          <StyledAnchor\n            href={navbarRight.bug_report_url}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            title={navbarRight.bug_report_text || t('Report a bug')}\n          >\n            {navbarRight.bug_report_icon ? (\n              <i className={navbarRight.bug_report_icon} />\n            ) : (\n              <i className=\"fa fa-bug\" />\n            )}\n          </StyledAnchor>\n          <span>&nbsp;</span>\n        </>\n      )}\n      {navbarRight.user_is_anonymous && (\n        <StyledAnchor href={navbarRight.user_login_url}>\n          <i className=\"fa fa-fw fa-sign-in\" />\n          {t('Login')}\n        </StyledAnchor>\n      )}\n      <TelemetryPixel\n        version={navbarRight.version_string}\n        sha={navbarRight.version_sha}\n        build={navbarRight.build_number}\n      />\n    </StyledDiv>\n  );\n};\n\nconst RightMenuWithQueryWrapper: FC<RightMenuProps> = props => {\n  const [, setQuery] = useQueryParams({\n    databaseAdded: BooleanParam,\n    datasetAdded: BooleanParam,\n  });\n\n  return <RightMenu setQuery={setQuery} {...props} />;\n};\n\n// Query param manipulation requires that, during the setup, the\n// QueryParamProvider is present and configured.\n// Superset still has multiple entry points, and not all of them have\n// the same setup, and critically, not all of them have the QueryParamProvider.\n// This wrapper ensures the RightMenu renders regardless of the provider being present.\nclass RightMenuErrorWrapper extends PureComponent<RightMenuProps> {\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  noop = () => {};\n\n  render() {\n    if (this.state.hasError) {\n      return <RightMenu setQuery={this.noop} {...this.props} />;\n    }\n\n    return this.props.children;\n  }\n}\n\nconst RightMenuWrapper: FC<RightMenuProps> = props => (\n  <RightMenuErrorWrapper {...props}>\n    <RightMenuWithQueryWrapper {...props} />\n  </RightMenuErrorWrapper>\n);\n\nexport default RightMenuWrapper;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect } from 'react';\nimport { styled, css, useTheme, SupersetTheme } from '@superset-ui/core';\nimport { debounce } from 'lodash';\nimport { Global } from '@emotion/react';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport { Row, Col, Grid } from 'src/components';\nimport { MainNav as DropdownMenu, MenuMode } from 'src/components/Menu';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { GenericLink } from 'src/components/GenericLink/GenericLink';\nimport Icons from 'src/components/Icons';\nimport { useUiConfig } from 'src/components/UiConfigContext';\nimport { URL_PARAMS } from 'src/constants';\nimport {\n  MenuObjectChildProps,\n  MenuObjectProps,\n  MenuData,\n} from 'src/types/bootstrapTypes';\nimport RightMenu from './RightMenu';\n\ninterface MenuProps {\n  data: MenuData;\n  isFrontendRoute?: (path?: string) => boolean;\n}\n\nconst StyledHeader = styled.header`\n  ${({ theme }) => `\n      background-color: ${theme.colors.grayscale.light5};\n      margin-bottom: 2px;\n      z-index: 10;\n\n      &:nth-last-of-type(2) nav {\n        margin-bottom: 2px;\n      }\n      .caret {\n        display: none;\n      }\n      .navbar-brand {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        /* must be exactly the height of the Antd navbar */\n        min-height: 50px;\n        padding: ${theme.gridUnit}px\n          ${theme.gridUnit * 2}px\n          ${theme.gridUnit}px\n          ${theme.gridUnit * 4}px;\n        max-width: ${theme.gridUnit * theme.brandIconMaxWidth}px;\n        img {\n          height: 100%;\n          object-fit: contain;\n        }\n        &:focus {\n          border-color: transparent;\n        }\n        &:focus-visible {\n          border-color: ${theme.colors.primary.dark1};\n        }\n      }\n      .navbar-brand-text {\n        border-left: 1px solid ${theme.colors.grayscale.light2};\n        border-right: 1px solid ${theme.colors.grayscale.light2};\n        height: 100%;\n        color: ${theme.colors.grayscale.dark1};\n        padding-left: ${theme.gridUnit * 4}px;\n        padding-right: ${theme.gridUnit * 4}px;\n        margin-right: ${theme.gridUnit * 6}px;\n        font-size: ${theme.gridUnit * 4}px;\n        float: left;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        span {\n          max-width: ${theme.gridUnit * 58}px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        @media (max-width: 1127px) {\n          display: none;\n        }\n      }\n      .main-nav .ant-menu-submenu-title > svg {\n        top: ${theme.gridUnit * 5.25}px;\n      }\n      @media (max-width: 767px) {\n        .navbar-brand {\n          float: none;\n        }\n      }\n      .ant-menu-horizontal .ant-menu-item {\n        height: 100%;\n        line-height: inherit;\n      }\n      .ant-menu > .ant-menu-item > a {\n        padding: ${theme.gridUnit * 4}px;\n      }\n      @media (max-width: 767px) {\n        .ant-menu-item {\n          padding: 0 ${theme.gridUnit * 6}px 0\n            ${theme.gridUnit * 3}px !important;\n        }\n        .ant-menu > .ant-menu-item > a {\n          padding: 0px;\n        }\n        .main-nav .ant-menu-submenu-title > svg:nth-of-type(1) {\n          display: none;\n        }\n        .ant-menu-item-active > a {\n          &:hover {\n            color: ${theme.colors.primary.base} !important;\n            background-color: transparent !important;\n          }\n        }\n      }\n      .ant-menu-item a {\n        &:hover {\n          color: ${theme.colors.grayscale.dark1};\n          background-color: ${theme.colors.primary.light5};\n          border-bottom: none;\n          margin: 0;\n          &:after {\n            opacity: 1;\n            width: 100%;\n          }\n        }\n      }\n  `}\n`;\nconst globalStyles = (theme: SupersetTheme) => css`\n  .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light.ant-menu-submenu-placement-bottomLeft {\n    border-radius: 0px;\n  }\n  .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light {\n    border-radius: 0px;\n  }\n  .ant-menu-vertical > .ant-menu-submenu.data-menu > .ant-menu-submenu-title {\n    height: 28px;\n    i {\n      padding-right: ${theme.gridUnit * 2}px;\n      margin-left: ${theme.gridUnit * 1.75}px;\n    }\n  }\n  .ant-menu-item-selected {\n    background-color: transparent;\n    &:not(.ant-menu-item-active) {\n      color: inherit;\n      border-bottom-color: transparent;\n      & > a {\n        color: inherit;\n      }\n    }\n  }\n  .ant-menu-horizontal > .ant-menu-item:has(> .is-active) {\n    color: ${theme.colors.primary.base};\n    border-bottom-color: ${theme.colors.primary.base};\n    & > a {\n      color: ${theme.colors.primary.base};\n    }\n  }\n  .ant-menu-vertical > .ant-menu-item:has(> .is-active) {\n    background-color: ${theme.colors.primary.light5};\n    & > a {\n      color: ${theme.colors.primary.base};\n    }\n  }\n`;\nconst { SubMenu } = DropdownMenu;\n\nconst { useBreakpoint } = Grid;\n\nexport function Menu({\n  data: {\n    menu,\n    brand,\n    navbar_right: navbarRight,\n    settings,\n    environment_tag: environmentTag,\n  },\n  isFrontendRoute = () => false,\n}: MenuProps) {\n  const [showMenu, setMenu] = useState<MenuMode>('horizontal');\n  const screens = useBreakpoint();\n  const uiConfig = useUiConfig();\n  const theme = useTheme();\n\n  useEffect(() => {\n    function handleResize() {\n      if (window.innerWidth <= 767) {\n        setMenu('inline');\n      } else setMenu('horizontal');\n    }\n    handleResize();\n    const windowResize = debounce(() => handleResize(), 10);\n    window.addEventListener('resize', windowResize);\n    return () => window.removeEventListener('resize', windowResize);\n  }, []);\n\n  enum Paths {\n    Explore = '/explore',\n    Dashboard = '/dashboard',\n    Chart = '/chart',\n    Datasets = '/tablemodelview',\n  }\n\n  const defaultTabSelection: string[] = [];\n  const [activeTabs, setActiveTabs] = useState(defaultTabSelection);\n  const location = useLocation();\n  useEffect(() => {\n    const path = location.pathname;\n    switch (true) {\n      case path.startsWith(Paths.Dashboard):\n        setActiveTabs(['Dashboards']);\n        break;\n      case path.startsWith(Paths.Chart) || path.startsWith(Paths.Explore):\n        setActiveTabs(['Charts']);\n        break;\n      case path.startsWith(Paths.Datasets):\n        setActiveTabs(['Datasets']);\n        break;\n      default:\n        setActiveTabs(defaultTabSelection);\n    }\n  }, [location.pathname]);\n\n  const standalone = getUrlParam(URL_PARAMS.standalone);\n  if (standalone || uiConfig.hideNav) return <></>;\n\n  const renderSubMenu = ({\n    label,\n    childs,\n    url,\n    index,\n    isFrontendRoute,\n  }: MenuObjectProps) => {\n    if (url && isFrontendRoute) {\n      return (\n        <DropdownMenu.Item key={label} role=\"presentation\">\n          <NavLink role=\"button\" to={url} activeClassName=\"is-active\">\n            {label}\n          </NavLink>\n        </DropdownMenu.Item>\n      );\n    }\n    if (url) {\n      return (\n        <DropdownMenu.Item key={label}>\n          <a href={url}>{label}</a>\n        </DropdownMenu.Item>\n      );\n    }\n    return (\n      <SubMenu\n        key={index}\n        title={label}\n        icon={showMenu === 'inline' ? <></> : <Icons.TriangleDown />}\n      >\n        {childs?.map((child: MenuObjectChildProps | string, index1: number) => {\n          if (typeof child === 'string' && child === '-' && label !== 'Data') {\n            return <DropdownMenu.Divider key={`$${index1}`} />;\n          }\n          if (typeof child !== 'string') {\n            return (\n              <DropdownMenu.Item key={`${child.label}`}>\n                {child.isFrontendRoute ? (\n                  <NavLink\n                    to={child.url || ''}\n                    exact\n                    activeClassName=\"is-active\"\n                  >\n                    {child.label}\n                  </NavLink>\n                ) : (\n                  <a href={child.url}>{child.label}</a>\n                )}\n              </DropdownMenu.Item>\n            );\n          }\n          return null;\n        })}\n      </SubMenu>\n    );\n  };\n  return (\n    <StyledHeader className=\"top\" id=\"main-menu\" role=\"navigation\">\n      <Global styles={globalStyles(theme)} />\n      <Row>\n        <Col md={16} xs={24}>\n          <Tooltip\n            id=\"brand-tooltip\"\n            placement=\"bottomLeft\"\n            title={brand.tooltip}\n            arrowPointAtCenter\n          >\n            {isFrontendRoute(window.location.pathname) ? (\n              <GenericLink className=\"navbar-brand\" to={brand.path}>\n                <img src={brand.icon} alt={brand.alt} />\n              </GenericLink>\n            ) : (\n              <a className=\"navbar-brand\" href={brand.path} tabIndex={-1}>\n                <img src={brand.icon} alt={brand.alt} />\n              </a>\n            )}\n          </Tooltip>\n          {brand.text && (\n            <div className=\"navbar-brand-text\">\n              <span>{brand.text}</span>\n            </div>\n          )}\n          <DropdownMenu\n            mode={showMenu}\n            data-test=\"navbar-top\"\n            className=\"main-nav\"\n            selectedKeys={activeTabs}\n          >\n            {menu.map((item, index) => {\n              const props = {\n                index,\n                ...item,\n                isFrontendRoute: isFrontendRoute(item.url),\n                childs: item.childs?.map(c => {\n                  if (typeof c === 'string') {\n                    return c;\n                  }\n\n                  return {\n                    ...c,\n                    isFrontendRoute: isFrontendRoute(c.url),\n                  };\n                }),\n              };\n\n              return renderSubMenu(props);\n            })}\n          </DropdownMenu>\n        </Col>\n        <Col md={8} xs={24}>\n          <RightMenu\n            align={screens.md ? 'flex-end' : 'flex-start'}\n            settings={settings}\n            navbarRight={navbarRight}\n            isFrontendRoute={isFrontendRoute}\n            environmentTag={environmentTag}\n          />\n        </Col>\n      </Row>\n    </StyledHeader>\n  );\n}\n\n// transform the menu data to reorganize components\nexport default function MenuWrapper({ data, ...rest }: MenuProps) {\n  const newMenuData = {\n    ...data,\n  };\n  // Menu items that should go into settings dropdown\n  const settingsMenus = {\n    Data: true,\n    Security: true,\n    Manage: true,\n  };\n\n  // Cycle through menu.menu to build out cleanedMenu and settings\n  const cleanedMenu: MenuObjectProps[] = [];\n  const settings: MenuObjectProps[] = [];\n  newMenuData.menu.forEach((item: any) => {\n    if (!item) {\n      return;\n    }\n\n    const children: (MenuObjectProps | string)[] = [];\n    const newItem = {\n      ...item,\n    };\n\n    // Filter childs\n    if (item.childs) {\n      item.childs.forEach((child: MenuObjectChildProps | string) => {\n        if (typeof child === 'string') {\n          children.push(child);\n        } else if ((child as MenuObjectChildProps).label) {\n          children.push(child);\n        }\n      });\n\n      newItem.childs = children;\n    }\n\n    if (!settingsMenus.hasOwnProperty(item.name)) {\n      cleanedMenu.push(newItem);\n    } else {\n      settings.push(newItem);\n    }\n  });\n\n  newMenuData.menu = cleanedMenu;\n  newMenuData.settings = settings;\n\n  return <Menu data={newMenuData} {...rest} />;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { TableTab } from 'src/views/CRUD/types';\nimport { DashboardContextForExplore } from 'src/types/DashboardContextForExplore';\n\nexport enum LocalStorageKeys {\n  /**\n   * START LEGACY LOCAL STORAGE KEYS\n   *\n   * Do not follow the patterns here for key names. Keys should instead be namespaced to avoid\n   * collisions.\n   *\n   * TODO: Update all local storage keys to follow the new pattern. This is a breaking change,\n   * and therefore should be done in a major release.\n   */\n  Database = 'db',\n  ChartSplitSizes = 'chart_split_sizes',\n  ControlsWidth = 'controls_width',\n  DatasourceWidth = 'datasource_width',\n  IsDatapanelOpen = 'is_datapanel_open',\n  HomepageChartFilter = 'homepage_chart_filter',\n  HomepageDashboardFilter = 'homepage_dashboard_filter',\n  HomepageCollapseState = 'homepage_collapse_state',\n  HomepageActivityFilter = 'homepage_activity_filter',\n  DatasetnameSetSuccessful = 'datasetname_set_successful',\n  /** END LEGACY LOCAL STORAGE KEYS */\n\n  /**\n   * New local storage keys should be namespaced to avoid collisions. Keys should be named in the\n   * form [namespace]__[key].\n   *\n   * Example:\n   * sqllab__is_autocomplete_enabled\n   */\n  SqllabIsAutocompleteEnabled = 'sqllab__is_autocomplete_enabled',\n  SqllabIsRenderHtmlEnabled = 'sqllab__is_render_html_enabled',\n  ExploreDataTableOriginalFormattedTimeColumns = 'explore__data_table_original_formatted_time_columns',\n  DashboardCustomFilterBarWidths = 'dashboard__custom_filter_bar_widths',\n  DashboardExploreContext = 'dashboard__explore_context',\n  DashboardEditorShowOnlyMyCharts = 'dashboard__editor_show_only_my_charts',\n  CommonResizableSidebarWidths = 'common__resizable_sidebar_widths',\n}\n\nexport type LocalStorageValues = {\n  db: object | null;\n  chart_split_sizes: [number, number];\n  controls_width: number;\n  datasource_width: number;\n  is_datapanel_open: boolean;\n  homepage_chart_filter: TableTab;\n  homepage_dashboard_filter: TableTab;\n  homepage_collapse_state: string[];\n  datasetname_set_successful: boolean;\n  homepage_activity_filter: TableTab | null;\n  sqllab__is_autocomplete_enabled: boolean;\n  sqllab__is_render_html_enabled: boolean;\n  explore__data_table_original_formatted_time_columns: Record<string, string[]>;\n  dashboard__custom_filter_bar_widths: Record<string, number>;\n  dashboard__explore_context: Record<string, DashboardContextForExplore>;\n  dashboard__editor_show_only_my_charts: boolean;\n  common__resizable_sidebar_widths: Record<string, number>;\n};\n\n/*\n * This function should not be used directly, as it doesn't provide any type safety or any\n * guarantees that the globally namespaced localstorage key is correct.\n *\n * Instead, use getItem and setItem. Any legacy uses should be updated/migrated in future\n * Superset versions (as they may require breaking changes).\n * */\nexport function dangerouslyGetItemDoNotUse(\n  key: string,\n  defaultValue: any,\n): any {\n  try {\n    const value = localStorage.getItem(key);\n    if (value === null) {\n      return defaultValue;\n    }\n    return JSON.parse(value);\n  } catch {\n    return defaultValue;\n  }\n}\n\n/*\n * This function should not be used directly, as it doesn't provide any type safety or any\n * guarantees that the globally namespaced localstorage key is correct.\n *\n * Instead, use getItem and setItem. Any legacy uses should be updated/migrated in future\n * Superset versions (as they may require breaking changes).\n * */\nexport function dangerouslySetItemDoNotUse(key: string, value: any): void {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch {\n    // Catch in case localStorage is unavailable\n  }\n}\n\nexport function getItem<K extends LocalStorageKeys>(\n  key: K,\n  defaultValue: LocalStorageValues[K],\n): LocalStorageValues[K] {\n  return dangerouslyGetItemDoNotUse(key, defaultValue);\n}\n\nexport function setItem<K extends LocalStorageKeys>(\n  key: K,\n  value: LocalStorageValues[K],\n): void {\n  dangerouslySetItemDoNotUse(key, value);\n}\n"],"names":["supersetTextDocs","getDatabaseDocumentationLinks","DOCUMENTATION_LINK","support","ErrorAlert","errorMessage","showDbInstallInstructions","_jsx","Alert","closable","css","theme","antdWarningAlertStyles","colors","warning","light1","gridUnit","dark2","typography","sizes","s","l","type","showIcon","message","description","_jsxs","_Fragment","children","t","href","target","rel","className","CheckboxLabel","styled","label","CheckboxHalf","Icons","primary","base","CheckboxOff","grayscale","CheckboxOn","HiddenInput","input","InputContainer","div","forwardRef","indeterminate","id","checked","onChange","title","labelText","ref","defaultRef","useRef","resolvedRef","useEffect","current","name","htmlFor","TagsDiv","TagsList","tags","editable","onDelete","maxTags","tempMaxTags","setTempMaxTags","useState","handleDelete","index","tagsIsLong","useMemo","length","extraTags","slice","map","tag","Tag","onClick","expand","undefined","toolTipTitle","join","collapse","_extends","Object","assign","bind","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","canvasStyle","position","bottom","left","height","overflow","border","mirrorProps","_excluded","prevSibling","node","count","previousElementSibling","defaultProps","basedOn","component","ellipsis","maxLine","onReflow","text","trimRight","winWidth","usedProps","keys","LinesEllipsis","constructor","props","super","state","clamped","units","canvas","componentDidMount","initCanvas","reflow","componentDidUpdate","prevProps","copyStyleToCanvas","componentWillUnmount","parentNode","removeChild","setState","callback","document","createElement","setAttribute","forEach","style","body","appendChild","targetStyle","window","getComputedStyle","test","split","Array","from","Error","innerHTML","c","ellipsisIndex","putEllipsis","calcIndexes","newState","indexes","elt","firstElementChild","line","offsetTop","nextElementSibling","push","lastIndex","maxOffsetTop","ndEllipsis","lastElementChild","ndPrevUnit","offsetHeight","pop","isClamped","render","_this$props","Component","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","obj","omittedKeys","ret","omit","replace","StyledButton","Button","StyledImage","StyledInner","StyledBottom","borderRadius","light4","icon","altText","buttonText","src","alt","DatabaseOutlined","light5","weights","normal","light2","ConfigurationMethod","Engines","no_margin_bottom","StyledFormHeader","header","antDTabsStyles","antDModalNoPaddingStyles","infoTooltip","toggleStyle","formScrollableStyles","antDModalStyles","dark1","antDAlertStyles","info","m","bold","StyledAlertMargin","formHelperStyles","error","formStyles","validatedFormStyles","StyledInputContainer","families","sansSerif","StyledJsonEditor","JsonEditor","StyledExpandableForm","CTAS_CVAS_SCHEMA_FORM_HEIGHT","EXPOSE_IN_SQLLAB_FORM_HEIGHT","StyledAlignment","buttonLinkStyles","importDbButtonLinkStyles","TabHeader","EditHeaderTitle","EditHeaderSubtitle","CredentialInfoForm","SelectDatabaseStyles","StyledFooterButton","StyledStickyHeader","zIndex","max","StyledCatalogTable","StyledUploadWrapper","ExtraOptions","db","onInputChange","onTextChange","onEditorChange","onExtraInputChange","onExtraEditorChange","extraExtension","_db$engine_informatio","_db$engine_informatio2","_extraJson$schema_opt","_extraJson$metadata_c","_extraJson$metadata_c2","expandableModalIsOpen","expose_in_sqllab","createAsOpen","allow_ctas","allow_cvas","isFileUploadSupportedByEngine","engine_information","supports_file_upload","supportsDynamicCatalog","supports_dynamic_catalog","extraJson","JSON","parse","extra","value","stringify","useTheme","ExtraExtensionComponent","ExtraExtensionLogo","logo","ExtensionDescription","allowRunAsync","isFeatureEnabled","FeatureFlag","ForceSqlLabRunAsync","allow_run_async","isAllowRunAsyncDisabled","Collapse","expandIconPosition","accordion","antdCollapseStyles","anticonHeight","Panel","IndeterminateCheckbox","InfoTooltip","tooltip","cx","open","placeholder","force_ctas_schema","allow_dml","cost_estimate_enabled","allows_virtual_table_explore","disable_data_preview","schema_options","expand_rows","cache_timeout","metadata_cache_timeout","schema_cache_timeout","table_cache_timeout","_css","iconStyle","color","cancel_query_on_windows_unload","masked_encrypted_extra","json","width","server_cert","impersonate_user","allow_file_upload","schemas_allowed_for_file_upload","fontSize","fontWeight","collapsible","enabled","onEdit","metadata_params","engine_params","version","disable_drill_to_detail","allow_multi_catalog","SqlAlchemyTab","testConnection","conf","testInProgress","_SupersetText$DB_MODA","_SupersetText$DB_MODA2","fallbackDocsUrl","SupersetText","DB_MODAL_SQLALCHEMY_FORM","SQLALCHEMY_DOCS_URL","fallbackDisplayText","SQLALCHEMY_DISPLAY_TEXT","database_name","sqlalchemy_uri","autoComplete","sqlalchemy_uri_placeholder","loading","cta","buttonStyle","wideButton","FIELD_TEXT_MAP","account","helpText","warehouse","role","validatedInputField","required","changeMethods","getValidation","validationErrors","field","_db$parameters","ValidatedInput","parameters","validationMethods","onBlur","onParametersChange","CredentialInfoOptions","encryptedCredentialsMap","gsheets","bigquery","_ref","styles","EncryptedField","isEditMode","editNewDb","_db$parameters2","_db$parameters3","uploadOption","setUploadOption","JsonUpload","valueOf","fileToUpload","setFileToUpload","isPublic","setIsPublic","showCredentialsInfo","engine","isEncrypted","encryptedField","encryptedValue","FormLabel","labelMarginBottom","AntdSelect","defaultValue","Option","option","CopyPaste","viewBox","_document","_document$getElementB","getElementById","click","DeleteFilled","iconSize","accept","async","event","_file","_file2","file","files","SSHTunnelSwitch","clearValidationErrors","dbModel","_dbModel$engine_infor","_db$parameters4","isChecked","setChecked","sshTunnelEnabled","SshTunneling","disableSSHTunnelingForEngine","disable_ssh_tunneling","isSSHTunnelEnabled","ssh","_isEmpty","ssh_tunnel","AntdSwitch","changed","placement","FormFieldOrder","FORM_FIELD_MAP","host","hostField","hasTooltip","tooltipText","http_path","httpPath","_extraJson$engine_par","_extraJson$engine_par2","connect_args","http_path_field","httpPathField","_db$parameters6","port","portField","database","databaseField","default_catalog","defaultCatalogField","default_schema","defaultSchemaField","_db$parameters5","username","usernameField","_db$parameters7","password","passwordField","_db$parameters8","visibilityToggle","oauth2_client","OAuth2ClientField","_encryptedExtra$oauth","_encryptedExtra$oauth2","_encryptedExtra$oauth3","_encryptedExtra$oauth4","_encryptedExtra$oauth5","encryptedExtra","oauth2ClientInfo","setOauth2ClientInfo","oauth2_client_info","secret","authorization_request_uri","token_request_uri","scope","supports_oauth2","handleChange","e","updatedInfo","onEncryptedExtraInputChange","FormItem","Input","access_token","accessTokenField","default_value","_db$parameters9","get_url","includes","displayField","query","queryField","query_input","onQueryChange","encryption","forceSSLField","sslForced","_db$parameters10","disabled","credentials_info","service_account_info","catalog","TableCatalog","tableCatalog","catalogError","sheet","idx","_catalogError$idx","_catalogError$idx2","CloseOutlined","onRemoveTableCatalog","url","onAddTableCatalog","_extensionsRegistry$g","getExtensionsRegistry","get","DatabaseConnectionForm","getPlaceholder","onParametersUploadFileChange","Form","filter","properties","_parameters$required","_parameters$propertie","_parameters$propertie2","default","irregularDocumentationLinks","postgresql","mssql","ModalHeader","isLoading","useSqlAlchemyForm","hasConnectedDb","dbName","fileList","fileCheck","isEditHeader","backend","useSqlAlchemyFormHeader","stepCurr","stepLast","hasConnectedDbHeader","hasDbHeader","dbModelName","documentationLink","noDbHeader","importDbHeader","StyledDiv","StyledRow","Row","StyledFormItem","AntdForm","Item","StyledInputPassword","AntdInput","Password","SSHTunnelForm","onSSHTunnelParametersChange","setSSHTunnelLoginMethod","_db$ssh_tunnel","_db$ssh_tunnel2","_db$ssh_tunnel3","_db$ssh_tunnel4","_db$ssh_tunnel5","_db$ssh_tunnel6","usePassword","setUsePassword","AuthType","gutter","Col","xs","md","server_address","server_port","initialValue","Radio","Group","PrivateKey","iconRender","visible","Tooltip","EyeInvisibleOutlined","EyeOutlined","TextArea","private_key","rows","private_key_password","extensionsRegistry","DEFAULT_EXTRA","engineSpecificAlertMapping","GSheet","TabsStyled","Tabs","ErrorAlertContainer","SSHTunnelContainer","ActionType","StyledBtns","dbReducer","action","_action$payload$type","_trimmedState$catalog","_action$payload","_action$payload$param","trimmedState","parametersCatalog","actionPayloadJson","ExtraEditorChange","payload","EncryptedExtraInputChange","ExtraInputChange","schema","_action$payload$value","trim","InputChange","ParametersChange","startsWith","_action$payload$type2","catalogCopy","catalogToUpdate","splice","parseInt","reduce","item","ParametersSSHTunnelChange","SetSSHTunnelLoginMethod","_trimmedState$ssh_tun","_trimmedState$ssh_tun2","_trimmedState$ssh_tun3","_pick","login_method","RemoveSSHTunnelConfig","AddTableCatalogSheet","RemoveTableCatalogSheet","indexToDelete","EditorChange","QueryChange","fromEntries","URLSearchParams","TextChange","Fetched","entries","configuration_method","DynamicForm","_extraJsonPayload$eng","payloadCatalog","engineRootCatalog","DbSelected","ConfigMethodChange","Reset","withToasts","DatabaseModal","addDangerToast","addSuccessToast","onDatabaseAdd","onHide","show","databaseId","dbEngine","_availableDbs$databas3","_availableDbs$databas4","setDB","useReducer","dbLoading","resource","dbFetched","dbErrors","fetchResource","createResource","updateResource","clearError","useSingleViewResource","tabKey","setTabKey","availableDbs","getAvailableDbs","useAvailableDatabases","setValidationErrors","useDatabaseValidation","setHasConnectedDb","showCTAbtns","setShowCTAbtns","setDbName","setEditNewDb","setLoading","setTestInProgress","passwords","setPasswords","sshTunnelPasswords","setSSHTunnelPasswords","sshTunnelPrivateKeys","setSSHTunnelPrivateKeys","sshTunnelPrivateKeyPasswords","setSSHTunnelPrivateKeyPasswords","confirmedOverwrite","setConfirmedOverwrite","setFileList","importingModal","setImportingModal","importingErrorMessage","setImportingErrorMessage","passwordFields","setPasswordFields","sshTunnelPasswordFields","setSSHTunnelPasswordFields","sshTunnelPrivateKeyFields","setSSHTunnelPrivateKeyFields","sshTunnelPrivateKeyPasswordFields","setSSHTunnelPrivateKeyPasswordFields","extraExtensionComponentState","setExtraExtensionComponentState","SSHTunnelSwitchComponent","useSSHTunneling","setUseSSHTunneling","dbConfigExtraExtension","componentState","useCommonConf","dbImages","getDatabaseImages","connectionAlert","getConnectionAlert","hasAlert","SqlalchemyUri","useTabLayout","showDBError","history","useHistory","databases","find","available","default_driver","driver","useCallback","handleClearValidationErrors","handleParametersChange","onClose","redirectURL","alreadyExists","passwordsNeeded","sshPasswordNeeded","sshPrivateKeyNeeded","sshPrivateKeyPasswordNeeded","importLoading","failed","importErrored","importResource","useImportResource","msg","onSave","_dbConfigExtraExtensi","_dbToUpdate$parameter7","dbConfigExtraExtensionOnSaveError","then","dbToUpdate","_dbToUpdate$parameter","_dbToUpdate$parameter2","errors","parameters_schema","additionalEncryptedExtra","paramConfig","_dbToUpdate$parameter3","_dbToUpdate$parameter4","_dbToUpdate$parameter5","_dbToUpdate$parameter6","_dbConfigExtraExtensi2","_dbConfigExtraExtensi3","originFileObj","File","setDatabaseModel","selectedDbModel","isDynamic","handleBackButtonOnFinish","handleBackButtonOnConnect","renderModalFooter","firstUpdate","catch","getElementsByClassName","scrollIntoView","importingErrorAlert","confirmOverwrite","_event$currentTarget$","_event$currentTarget","targetValue","currentTarget","toUpperCase","errorAlert","alertErrors","_alertErrors","error_type","values","ErrorMessageWithStackTrace","subtitle","copyText","fetchAndSetDB","r","setItem","LocalStorageKeys","Database","renderSSHTunnelForm","method","renderDatabaseConnectionForm","Modal","centered","footer","maskClosable","onHandledPrimaryAction","primaryButtonName","confirm_overwrite","Set","password_needed","ssh_tunnel_password_needed","ssh_tunnel_private_key_needed","ssh_tunnel_private_key_password_needed","modalFooter","renderEditModalFooter","is_managed_externally","defaultActiveKey","activeKey","onTabClick","animated","inkBar","tabPane","TabPane","tab","SqlAlchemyForm","_db$database_name","connection","Number","testDatabaseConnection","errorMsg","_availableDbs$databas","_availableDbs$databas2","DB","alchemyButtonLinkStyles","renderStepTwoAlert","_connectionAlert$REGI","_engineSpecificAlertM","_connectionAlert$DEFA","_engineSpecificAlertM2","_connectionAlert$DEFA2","hostname","location","ipAlert","REGIONAL_IPS","regionalIPs","ipRegion","ipRange","regex","RegExp","match","DEFAULT","_availableDbs$databas5","preferred","IconButton","renderAvailableSelector","_connectionAlert$ADD_","showSearch","sort","a","b","localeCompare","ADD_DATABASE","contact_link","contact_description_link","Upload","customRequest","status","onRemove","removedFile","uid","Loading","renderPreferredSelector","StyledSwitchContainer","StyledDivContainer","ColumnsPreview","columns","maxColumnsToShow","column","Typography","Text","StyledFormItemWithTip","tip","rules","CSVSpecificFields","ExcelSpecificFields","ColumnarSpecificFields","NonNullFields","AllSpecificFields","UploadTypeToSpecificFields","csv","excel","columnar","isFieldATypeSpecificField","defaultUploadInfo","table_name","sheet_name","delimiter","already_exists","skip_initial_space","skip_blank_lines","day_first","decimal_character","null_values","header_row","rows_to_read","skip_rows","column_dates","index_column","dataframe_index","index_label","columns_read","column_data_types","allowedExtensionsToAccept","SwitchContainer","dataTest","switchProps","Switch","UploadDataModal","allowedExtensions","form","useForm","currentDatabaseId","setCurrentDatabaseId","setColumns","sheetNames","setSheetNames","sheetsColumnNames","setSheetsColumnNames","setDelimiter","setIsLoading","currentSchema","setCurrentSchema","currentDataframeIndex","setCurrentDataframeIndex","previewUploadedFile","setPreviewUploadedFile","fileLoading","setFileLoading","typeToFileMetadataEndpoint","loadDatabaseOptions","page","pageSize","rison","filters","col","opr","page_size","SupersetClient","endpoint","response","data","result","totalCount","loadSchemaOptions","Promise","resolve","loadFileMetadata","fields","getFieldsValue","mergedValues","formData","FormData","append","post","headers","Accept","items","column_names","allSheetNames","sheetColumnNamesMap","acc","setFieldsValue","getClientErrorObject","finally","resetFields","columnsToOptions","uploadTitles","primaryButtonLoading","submit","UploadTitle","onFinish","_fileList$","appendFormData","allFieldsNotInType","getAllFieldsNotInType","specificFields","createTypeToEndpointMap","layout","initialValues","antIconHeight","span","validator","validateUpload","_","reject","validateUploadFileExtension","extensionMatch","fileType","UploadOutlined","validateDatabase","AsyncSelect","ariaLabel","options","allowClear","Select","allowNewOptions","sheetName","_sheetsColumnNames$va","mode","InputNumber","min","TelemetryPixel","sha","build","pixelPath","referrerPolicy","SubMenu","Menu","StyledLabel","StyledFlag","LanguagePicker","locale","languages","flag","TriangleDown","langKey","whiteSpace","versionInfoStyles","StyledI","styledDisabled","align","StyledMenuItemWithIcon","StyledAnchor","tagStyles","styledChildMenu","RightMenu","settings","navbarRight","isFrontendRoute","environmentTag","setQuery","user","useSelector","dashboardId","_state$dashboardInfo","dashboardInfo","userValues","roles","CSV_EXTENSIONS","COLUMNAR_EXTENSIONS","EXCEL_EXTENSIONS","ALLOWED_EXTENSIONS","HAS_GSHEETS_INSTALLED","common","showDatabaseModal","setShowDatabaseModal","showCSVUploadModal","setShowCSVUploadModal","showExcelUploadModal","setShowExcelUploadModal","showColumnarUploadModal","setShowColumnarUploadModal","setEngine","canSql","findPermission","canDashboard","canChart","canDatabase","canDataset","canUploadData","canUploadCSV","canUploadColumnar","canUploadExcel","uploadUserPerms","showActionDropdown","allowUploads","setAllowUploads","nonExamplesDBConnected","setNonExamplesDBConnected","isAdmin","isUserAdmin","showUploads","dropdownItems","childs","GlobalMenuDataOptions","DbConnection","perm","DatasetCreation","GoogleSheets","CSVUpload","disable","ExcelUpload","ColumnarUpload","view","isInteger","checkAllowUploads","_json$result","allowedDatabasesWithFileUpload","_database$engine_info","existsNonExamplesDatabases","menuIconAndLabel","menu","buildMenuItem","RightMenuExtension","RightMenuItemIconExtension","handleOnHideModal","handleDatabaseAdd","databaseAdded","Label","o","selectable","itemChose","onOpenChange","openKeys","_dropdownItems$","user_is_anonymous","_menu$childs","canShowChild","some","_menu$childs2","Fragment","Divider","Link","to","section","_section$childs","ItemGroup","child","menuItemDisplay","menuChild","user_info_url","handleLogout","localStorage","removeItem","user_logout_url","version_string","version_sha","show_watermark","build_number","show_language_picker","documentation_url","documentation_text","documentation_icon","bug_report_url","bug_report_text","bug_report_icon","user_login_url","RightMenuWithQueryWrapper","useQueryParams","BooleanParam","datasetAdded","RightMenuErrorWrapper","PureComponent","args","hasError","noop","getDerivedStateFromError","StyledHeader","brandIconMaxWidth","globalStyles","DropdownMenu","useBreakpoint","Grid","brand","navbar_right","environment_tag","showMenu","setMenu","screens","uiConfig","useUiConfig","Paths","handleResize","innerWidth","windowResize","_debounce","addEventListener","removeEventListener","defaultTabSelection","activeTabs","setActiveTabs","useLocation","path","pathname","Dashboard","Chart","Explore","Datasets","getUrlParam","URL_PARAMS","standalone","hideNav","Global","arrowPointAtCenter","GenericLink","tabIndex","selectedKeys","_item$childs","renderSubMenu","NavLink","activeClassName","index1","exact","MenuWrapper","newMenuData","settingsMenus","Data","Security","Manage","cleanedMenu","newItem","dangerouslyGetItemDoNotUse","getItem","dangerouslySetItemDoNotUse"],"sourceRoot":""}